function ZD(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fw={exports:{}},qh={},hw={exports:{}},nr={};var PI;function nz(){if(PI)return nr;PI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function _(ne){return ne===null||typeof ne!="object"?null:(ne=x&&ne[x]||ne["@@iterator"],typeof ne=="function"?ne:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,E={};function A(ne,ue,be){this.props=ne,this.context=ue,this.refs=E,this.updater=be||T}A.prototype.isReactComponent={},A.prototype.setState=function(ne,ue){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,ue,"setState")},A.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function M(){}M.prototype=A.prototype;function R(ne,ue,be){this.props=ne,this.context=ue,this.refs=E,this.updater=be||T}var I=R.prototype=new M;I.constructor=R,N(I,A.prototype),I.isPureReactComponent=!0;var D=Array.isArray,L=Object.prototype.hasOwnProperty,$={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function z(ne,ue,be){var Pe,nt={},Ie=null,je=null;if(ue!=null)for(Pe in ue.ref!==void 0&&(je=ue.ref),ue.key!==void 0&&(Ie=""+ue.key),ue)L.call(ue,Pe)&&!B.hasOwnProperty(Pe)&&(nt[Pe]=ue[Pe]);var Be=arguments.length-2;if(Be===1)nt.children=be;else if(1<Be){for(var Te=Array(Be),Ue=0;Ue<Be;Ue++)Te[Ue]=arguments[Ue+2];nt.children=Te}if(ne&&ne.defaultProps)for(Pe in Be=ne.defaultProps,Be)nt[Pe]===void 0&&(nt[Pe]=Be[Pe]);return{$$typeof:t,type:ne,key:Ie,ref:je,props:nt,_owner:$.current}}function H(ne,ue){return{$$typeof:t,type:ne.type,key:ue,ref:ne.ref,props:ne.props,_owner:ne._owner}}function ce(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===t}function K(ne){var ue={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(be){return ue[be]})}var W=/\/+/g;function Z(ne,ue){return typeof ne=="object"&&ne!==null&&ne.key!=null?K(""+ne.key):ue.toString(36)}function Q(ne,ue,be,Pe,nt){var Ie=typeof ne;(Ie==="undefined"||Ie==="boolean")&&(ne=null);var je=!1;if(ne===null)je=!0;else switch(Ie){case"string":case"number":je=!0;break;case"object":switch(ne.$$typeof){case t:case e:je=!0}}if(je)return je=ne,nt=nt(je),ne=Pe===""?"."+Z(je,0):Pe,D(nt)?(be="",ne!=null&&(be=ne.replace(W,"$&/")+"/"),Q(nt,ue,be,"",function(Ue){return Ue})):nt!=null&&(ce(nt)&&(nt=H(nt,be+(!nt.key||je&&je.key===nt.key?"":(""+nt.key).replace(W,"$&/")+"/")+ne)),ue.push(nt)),1;if(je=0,Pe=Pe===""?".":Pe+":",D(ne))for(var Be=0;Be<ne.length;Be++){Ie=ne[Be];var Te=Pe+Z(Ie,Be);je+=Q(Ie,ue,be,Te,nt)}else if(Te=_(ne),typeof Te=="function")for(ne=Te.call(ne),Be=0;!(Ie=ne.next()).done;)Ie=Ie.value,Te=Pe+Z(Ie,Be++),je+=Q(Ie,ue,be,Te,nt);else if(Ie==="object")throw ue=String(ne),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return je}function Y(ne,ue,be){if(ne==null)return ne;var Pe=[],nt=0;return Q(ne,Pe,"","",function(Ie){return ue.call(be,Ie,nt++)}),Pe}function J(ne){if(ne._status===-1){var ue=ne._result;ue=ue(),ue.then(function(be){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=be)},function(be){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=be)}),ne._status===-1&&(ne._status=0,ne._result=ue)}if(ne._status===1)return ne._result.default;throw ne._result}var te={current:null},ie={transition:null},se={ReactCurrentDispatcher:te,ReactCurrentBatchConfig:ie,ReactCurrentOwner:$};function me(){throw Error("act(...) is not supported in production builds of React.")}return nr.Children={map:Y,forEach:function(ne,ue,be){Y(ne,function(){ue.apply(this,arguments)},be)},count:function(ne){var ue=0;return Y(ne,function(){ue++}),ue},toArray:function(ne){return Y(ne,function(ue){return ue})||[]},only:function(ne){if(!ce(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}},nr.Component=A,nr.Fragment=r,nr.Profiler=i,nr.PureComponent=R,nr.StrictMode=n,nr.Suspense=d,nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,nr.act=me,nr.cloneElement=function(ne,ue,be){if(ne==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ne+".");var Pe=N({},ne.props),nt=ne.key,Ie=ne.ref,je=ne._owner;if(ue!=null){if(ue.ref!==void 0&&(Ie=ue.ref,je=$.current),ue.key!==void 0&&(nt=""+ue.key),ne.type&&ne.type.defaultProps)var Be=ne.type.defaultProps;for(Te in ue)L.call(ue,Te)&&!B.hasOwnProperty(Te)&&(Pe[Te]=ue[Te]===void 0&&Be!==void 0?Be[Te]:ue[Te])}var Te=arguments.length-2;if(Te===1)Pe.children=be;else if(1<Te){Be=Array(Te);for(var Ue=0;Ue<Te;Ue++)Be[Ue]=arguments[Ue+2];Pe.children=Be}return{$$typeof:t,type:ne.type,key:nt,ref:Ie,props:Pe,_owner:je}},nr.createContext=function(ne){return ne={$$typeof:o,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ne.Provider={$$typeof:s,_context:ne},ne.Consumer=ne},nr.createElement=z,nr.createFactory=function(ne){var ue=z.bind(null,ne);return ue.type=ne,ue},nr.createRef=function(){return{current:null}},nr.forwardRef=function(ne){return{$$typeof:u,render:ne}},nr.isValidElement=ce,nr.lazy=function(ne){return{$$typeof:g,_payload:{_status:-1,_result:ne},_init:J}},nr.memo=function(ne,ue){return{$$typeof:f,type:ne,compare:ue===void 0?null:ue}},nr.startTransition=function(ne){var ue=ie.transition;ie.transition={};try{ne()}finally{ie.transition=ue}},nr.unstable_act=me,nr.useCallback=function(ne,ue){return te.current.useCallback(ne,ue)},nr.useContext=function(ne){return te.current.useContext(ne)},nr.useDebugValue=function(){},nr.useDeferredValue=function(ne){return te.current.useDeferredValue(ne)},nr.useEffect=function(ne,ue){return te.current.useEffect(ne,ue)},nr.useId=function(){return te.current.useId()},nr.useImperativeHandle=function(ne,ue,be){return te.current.useImperativeHandle(ne,ue,be)},nr.useInsertionEffect=function(ne,ue){return te.current.useInsertionEffect(ne,ue)},nr.useLayoutEffect=function(ne,ue){return te.current.useLayoutEffect(ne,ue)},nr.useMemo=function(ne,ue){return te.current.useMemo(ne,ue)},nr.useReducer=function(ne,ue,be){return te.current.useReducer(ne,ue,be)},nr.useRef=function(ne){return te.current.useRef(ne)},nr.useState=function(ne){return te.current.useState(ne)},nr.useSyncExternalStore=function(ne,ue,be){return te.current.useSyncExternalStore(ne,ue,be)},nr.useTransition=function(){return te.current.useTransition()},nr.version="18.3.1",nr}var jI;function N1(){return jI||(jI=1,hw.exports=nz()),hw.exports}var RI;function iz(){if(RI)return qh;RI=1;var t=N1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(u,d,f){var g,x={},_=null,T=null;f!==void 0&&(_=""+f),d.key!==void 0&&(_=""+d.key),d.ref!==void 0&&(T=d.ref);for(g in d)n.call(d,g)&&!s.hasOwnProperty(g)&&(x[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)x[g]===void 0&&(x[g]=d[g]);return{$$typeof:e,type:u,key:_,ref:T,props:x,_owner:i.current}}return qh.Fragment=r,qh.jsx=o,qh.jsxs=o,qh}var kI;function sz(){return kI||(kI=1,fw.exports=iz()),fw.exports}var m=sz(),f0={},pw={exports:{}},us={},mw={exports:{}},gw={};var MI;function az(){return MI||(MI=1,(function(t){function e(ie,se){var me=ie.length;ie.push(se);e:for(;0<me;){var ne=me-1>>>1,ue=ie[ne];if(0<i(ue,se))ie[ne]=se,ie[me]=ue,me=ne;else break e}}function r(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var se=ie[0],me=ie.pop();if(me!==se){ie[0]=me;e:for(var ne=0,ue=ie.length,be=ue>>>1;ne<be;){var Pe=2*(ne+1)-1,nt=ie[Pe],Ie=Pe+1,je=ie[Ie];if(0>i(nt,me))Ie<ue&&0>i(je,nt)?(ie[ne]=je,ie[Ie]=me,ne=Ie):(ie[ne]=nt,ie[Pe]=me,ne=Pe);else if(Ie<ue&&0>i(je,me))ie[ne]=je,ie[Ie]=me,ne=Ie;else break e}}return se}function i(ie,se){var me=ie.sortIndex-se.sortIndex;return me!==0?me:ie.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}var d=[],f=[],g=1,x=null,_=3,T=!1,N=!1,E=!1,A=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(ie){for(var se=r(f);se!==null;){if(se.callback===null)n(f);else if(se.startTime<=ie)n(f),se.sortIndex=se.expirationTime,e(d,se);else break;se=r(f)}}function D(ie){if(E=!1,I(ie),!N)if(r(d)!==null)N=!0,J(L);else{var se=r(f);se!==null&&te(D,se.startTime-ie)}}function L(ie,se){N=!1,E&&(E=!1,M(z),z=-1),T=!0;var me=_;try{for(I(se),x=r(d);x!==null&&(!(x.expirationTime>se)||ie&&!K());){var ne=x.callback;if(typeof ne=="function"){x.callback=null,_=x.priorityLevel;var ue=ne(x.expirationTime<=se);se=t.unstable_now(),typeof ue=="function"?x.callback=ue:x===r(d)&&n(d),I(se)}else n(d);x=r(d)}if(x!==null)var be=!0;else{var Pe=r(f);Pe!==null&&te(D,Pe.startTime-se),be=!1}return be}finally{x=null,_=me,T=!1}}var $=!1,B=null,z=-1,H=5,ce=-1;function K(){return!(t.unstable_now()-ce<H)}function W(){if(B!==null){var ie=t.unstable_now();ce=ie;var se=!0;try{se=B(!0,ie)}finally{se?Z():($=!1,B=null)}}else $=!1}var Z;if(typeof R=="function")Z=function(){R(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,Y=Q.port2;Q.port1.onmessage=W,Z=function(){Y.postMessage(null)}}else Z=function(){A(W,0)};function J(ie){B=ie,$||($=!0,Z())}function te(ie,se){z=A(function(){ie(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){N||T||(N=!0,J(L))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(ie){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var me=_;_=se;try{return ie()}finally{_=me}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,se){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var me=_;_=ie;try{return se()}finally{_=me}},t.unstable_scheduleCallback=function(ie,se,me){var ne=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ne+me:ne):me=ne,ie){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=me+ue,ie={id:g++,callback:se,priorityLevel:ie,startTime:me,expirationTime:ue,sortIndex:-1},me>ne?(ie.sortIndex=me,e(f,ie),r(d)===null&&ie===r(f)&&(E?(M(z),z=-1):E=!0,te(D,me-ne))):(ie.sortIndex=ue,e(d,ie),N||T||(N=!0,J(L))),ie},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(ie){var se=_;return function(){var me=_;_=se;try{return ie.apply(this,arguments)}finally{_=me}}}})(gw)),gw}var DI;function oz(){return DI||(DI=1,mw.exports=az()),mw.exports}var LI;function lz(){if(LI)return us;LI=1;var t=N1(),e=oz();function r(l){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+l,b=1;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+l+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(l,p){o(l,p),o(l+"Capture",p)}function o(l,p){for(i[l]=p,l=0;l<p.length;l++)n.add(p[l])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function _(l){return d.call(x,l)?!0:d.call(g,l)?!1:f.test(l)?x[l]=!0:(g[l]=!0,!1)}function T(l,p,b,C){if(b!==null&&b.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return C?!1:b!==null?!b.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function N(l,p,b,C){if(p===null||typeof p>"u"||T(l,p,b,C))return!0;if(C)return!1;if(b!==null)switch(b.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function E(l,p,b,C,k,F,G){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=C,this.attributeNamespace=k,this.mustUseProperty=b,this.propertyName=l,this.type=p,this.sanitizeURL=F,this.removeEmptyString=G}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){A[l]=new E(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var p=l[0];A[p]=new E(p,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){A[l]=new E(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){A[l]=new E(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){A[l]=new E(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){A[l]=new E(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){A[l]=new E(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){A[l]=new E(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){A[l]=new E(l,5,!1,l.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function R(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var p=l.replace(M,R);A[p]=new E(p,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var p=l.replace(M,R);A[p]=new E(p,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var p=l.replace(M,R);A[p]=new E(p,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){A[l]=new E(l,1,!1,l.toLowerCase(),null,!1,!1)}),A.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){A[l]=new E(l,1,!1,l.toLowerCase(),null,!0,!0)});function I(l,p,b,C){var k=A.hasOwnProperty(p)?A[p]:null;(k!==null?k.type!==0:C||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(N(p,b,k,C)&&(b=null),C||k===null?_(p)&&(b===null?l.removeAttribute(p):l.setAttribute(p,""+b)):k.mustUseProperty?l[k.propertyName]=b===null?k.type===3?!1:"":b:(p=k.attributeName,C=k.attributeNamespace,b===null?l.removeAttribute(p):(k=k.type,b=k===3||k===4&&b===!0?"":""+b,C?l.setAttributeNS(C,p,b):l.setAttribute(p,b))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),$=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),K=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),ie=Symbol.iterator;function se(l){return l===null||typeof l!="object"?null:(l=ie&&l[ie]||l["@@iterator"],typeof l=="function"?l:null)}var me=Object.assign,ne;function ue(l){if(ne===void 0)try{throw Error()}catch(b){var p=b.stack.trim().match(/\n( *(at )?)/);ne=p&&p[1]||""}return`
`+ne+l}var be=!1;function Pe(l,p){if(!l||be)return"";be=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(Ee){var C=Ee}Reflect.construct(l,[],p)}else{try{p.call()}catch(Ee){C=Ee}l.call(p.prototype)}else{try{throw Error()}catch(Ee){C=Ee}l()}}catch(Ee){if(Ee&&C&&typeof Ee.stack=="string"){for(var k=Ee.stack.split(`
`),F=C.stack.split(`
`),G=k.length-1,ae=F.length-1;1<=G&&0<=ae&&k[G]!==F[ae];)ae--;for(;1<=G&&0<=ae;G--,ae--)if(k[G]!==F[ae]){if(G!==1||ae!==1)do if(G--,ae--,0>ae||k[G]!==F[ae]){var fe=`
`+k[G].replace(" at new "," at ");return l.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",l.displayName)),fe}while(1<=G&&0<=ae);break}}}finally{be=!1,Error.prepareStackTrace=b}return(l=l?l.displayName||l.name:"")?ue(l):""}function nt(l){switch(l.tag){case 5:return ue(l.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return l=Pe(l.type,!1),l;case 11:return l=Pe(l.type.render,!1),l;case 1:return l=Pe(l.type,!0),l;default:return""}}function Ie(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case B:return"Fragment";case $:return"Portal";case H:return"Profiler";case z:return"StrictMode";case Z:return"Suspense";case Q:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case K:return(l.displayName||"Context")+".Consumer";case ce:return(l._context.displayName||"Context")+".Provider";case W:var p=l.render;return l=l.displayName,l||(l=p.displayName||p.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case Y:return p=l.displayName||null,p!==null?p:Ie(l.type)||"Memo";case J:p=l._payload,l=l._init;try{return Ie(l(p))}catch{}}return null}function je(l){var p=l.type;switch(l.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=p.render,l=l.displayName||l.name||"",p.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ie(p);case 8:return p===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Be(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Te(l){var p=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Ue(l){var p=Te(l)?"checked":"value",b=Object.getOwnPropertyDescriptor(l.constructor.prototype,p),C=""+l[p];if(!l.hasOwnProperty(p)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,F=b.set;return Object.defineProperty(l,p,{configurable:!0,get:function(){return k.call(this)},set:function(G){C=""+G,F.call(this,G)}}),Object.defineProperty(l,p,{enumerable:b.enumerable}),{getValue:function(){return C},setValue:function(G){C=""+G},stopTracking:function(){l._valueTracker=null,delete l[p]}}}}function Ve(l){l._valueTracker||(l._valueTracker=Ue(l))}function Ce(l){if(!l)return!1;var p=l._valueTracker;if(!p)return!0;var b=p.getValue(),C="";return l&&(C=Te(l)?l.checked?"true":"false":l.value),l=C,l!==b?(p.setValue(l),!0):!1}function tt(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function St(l,p){var b=p.checked;return me({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??l._wrapperState.initialChecked})}function Oe(l,p){var b=p.defaultValue==null?"":p.defaultValue,C=p.checked!=null?p.checked:p.defaultChecked;b=Be(p.value!=null?p.value:b),l._wrapperState={initialChecked:C,initialValue:b,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Ke(l,p){p=p.checked,p!=null&&I(l,"checked",p,!1)}function ot(l,p){Ke(l,p);var b=Be(p.value),C=p.type;if(b!=null)C==="number"?(b===0&&l.value===""||l.value!=b)&&(l.value=""+b):l.value!==""+b&&(l.value=""+b);else if(C==="submit"||C==="reset"){l.removeAttribute("value");return}p.hasOwnProperty("value")?dt(l,p.type,b):p.hasOwnProperty("defaultValue")&&dt(l,p.type,Be(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(l.defaultChecked=!!p.defaultChecked)}function Qe(l,p,b){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var C=p.type;if(!(C!=="submit"&&C!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+l._wrapperState.initialValue,b||p===l.value||(l.value=p),l.defaultValue=p}b=l.name,b!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,b!==""&&(l.name=b)}function dt(l,p,b){(p!=="number"||tt(l.ownerDocument)!==l)&&(b==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+b&&(l.defaultValue=""+b))}var Bt=Array.isArray;function Fe(l,p,b,C){if(l=l.options,p){p={};for(var k=0;k<b.length;k++)p["$"+b[k]]=!0;for(b=0;b<l.length;b++)k=p.hasOwnProperty("$"+l[b].value),l[b].selected!==k&&(l[b].selected=k),k&&C&&(l[b].defaultSelected=!0)}else{for(b=""+Be(b),p=null,k=0;k<l.length;k++){if(l[k].value===b){l[k].selected=!0,C&&(l[k].defaultSelected=!0);return}p!==null||l[k].disabled||(p=l[k])}p!==null&&(p.selected=!0)}}function le(l,p){if(p.dangerouslySetInnerHTML!=null)throw Error(r(91));return me({},p,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function xe(l,p){var b=p.value;if(b==null){if(b=p.children,p=p.defaultValue,b!=null){if(p!=null)throw Error(r(92));if(Bt(b)){if(1<b.length)throw Error(r(93));b=b[0]}p=b}p==null&&(p=""),b=p}l._wrapperState={initialValue:Be(b)}}function Ae(l,p){var b=Be(p.value),C=Be(p.defaultValue);b!=null&&(b=""+b,b!==l.value&&(l.value=b),p.defaultValue==null&&l.defaultValue!==b&&(l.defaultValue=b)),C!=null&&(l.defaultValue=""+C)}function rt(l){var p=l.textContent;p===l._wrapperState.initialValue&&p!==""&&p!==null&&(l.value=p)}function Ge(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(l,p){return l==null||l==="http://www.w3.org/1999/xhtml"?Ge(p):l==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var it,It=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,b,C,k){MSApp.execUnsafeLocalFunction(function(){return l(p,b,C,k)})}:l})(function(l,p){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=p;else{for(it=it||document.createElement("div"),it.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=it.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;p.firstChild;)l.appendChild(p.firstChild)}});function Cr(l,p){if(p){var b=l.firstChild;if(b&&b===l.lastChild&&b.nodeType===3){b.nodeValue=p;return}}l.textContent=p}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rh=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(l){rh.forEach(function(p){p=p+l.charAt(0).toUpperCase()+l.substring(1),Dr[p]=Dr[l]})});function Lr(l,p,b){return p==null||typeof p=="boolean"||p===""?"":b||typeof p!="number"||p===0||Dr.hasOwnProperty(l)&&Dr[l]?(""+p).trim():p+"px"}function Ye(l,p){l=l.style;for(var b in p)if(p.hasOwnProperty(b)){var C=b.indexOf("--")===0,k=Lr(b,p[b],C);b==="float"&&(b="cssFloat"),C?l.setProperty(b,k):l[b]=k}}var dn=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fr(l,p){if(p){if(dn[l]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(r(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(r(61))}if(p.style!=null&&typeof p.style!="object")throw Error(r(62))}}function Ir(l,p){if(l.indexOf("-")===-1)return typeof p.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fs=null;function uc(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ju=null,rr=null,rs=null;function nh(l){if(l=Nh(l)){if(typeof ju!="function")throw Error(r(280));var p=l.stateNode;p&&(p=Tg(p),ju(l.stateNode,l.type,p))}}function ih(l){rr?rs?rs.push(l):rs=[l]:rr=l}function ns(){if(rr){var l=rr,p=rs;if(rs=rr=null,nh(l),p)for(l=0;l<p.length;l++)nh(p[l])}}function Ru(l,p){return l(p)}function Un(){}var Ua=!1;function dc(l,p,b){if(Ua)return l(p,b);Ua=!0;try{return Ru(l,p,b)}finally{Ua=!1,(rr!==null||rs!==null)&&(Un(),ns())}}function Oi(l,p){var b=l.stateNode;if(b===null)return null;var C=Tg(b);if(C===null)return null;b=C[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(l=l.type,C=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!C;break e;default:l=!1}if(l)return null;if(b&&typeof b!="function")throw Error(r(231,p,typeof b));return b}var sh=!1;if(u)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){sh=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{sh=!1}function ah(l,p,b,C,k,F,G,ae,fe){var Ee=Array.prototype.slice.call(arguments,3);try{p.apply(b,Ee)}catch(Le){this.onError(Le)}}var kn=!1,$s=null,gi=!1,lt=null,al={onError:function(l){kn=!0,$s=l}};function oh(l,p,b,C,k,F,G,ae,fe){kn=!1,$s=null,ah.apply(al,arguments)}function Ii(l,p,b,C,k,F,G,ae,fe){if(oh.apply(this,arguments),kn){if(kn){var Ee=$s;kn=!1,$s=null}else throw Error(r(198));gi||(gi=!0,lt=Ee)}}function is(l){var p=l,b=l;if(l.alternate)for(;p.return;)p=p.return;else{l=p;do p=l,(p.flags&4098)!==0&&(b=p.return),l=p.return;while(l)}return p.tag===3?b:null}function fc(l){if(l.tag===13){var p=l.memoizedState;if(p===null&&(l=l.alternate,l!==null&&(p=l.memoizedState)),p!==null)return p.dehydrated}return null}function hc(l){if(is(l)!==l)throw Error(r(188))}function Us(l){var p=l.alternate;if(!p){if(p=is(l),p===null)throw Error(r(188));return p!==l?null:l}for(var b=l,C=p;;){var k=b.return;if(k===null)break;var F=k.alternate;if(F===null){if(C=k.return,C!==null){b=C;continue}break}if(k.child===F.child){for(F=k.child;F;){if(F===b)return hc(k),l;if(F===C)return hc(k),p;F=F.sibling}throw Error(r(188))}if(b.return!==C.return)b=k,C=F;else{for(var G=!1,ae=k.child;ae;){if(ae===b){G=!0,b=k,C=F;break}if(ae===C){G=!0,C=k,b=F;break}ae=ae.sibling}if(!G){for(ae=F.child;ae;){if(ae===b){G=!0,b=F,C=k;break}if(ae===C){G=!0,C=F,b=k;break}ae=ae.sibling}if(!G)throw Error(r(189))}}if(b.alternate!==C)throw Error(r(190))}if(b.tag!==3)throw Error(r(188));return b.stateNode.current===b?l:p}function ag(l){return l=Us(l),l!==null?og(l):null}function og(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var p=og(l);if(p!==null)return p;l=l.sibling}return null}var ms=e.unstable_scheduleCallback,ii=e.unstable_cancelCallback,Ur=e.unstable_shouldYield,lg=e.unstable_requestPaint,wr=e.unstable_now,lh=e.unstable_getCurrentPriorityLevel,Re=e.unstable_ImmediatePriority,cg=e.unstable_UserBlockingPriority,Br=e.unstable_NormalPriority,ol=e.unstable_LowPriority,ug=e.unstable_IdlePriority,ur=null,Kt=null;function sr(l){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(ur,l,void 0,(l.current.flags&128)===128)}catch{}}var Vi=Math.clz32?Math.clz32:Tn,ch=Math.log,uh=Math.LN2;function Tn(l){return l>>>=0,l===0?32:31-(ch(l)/uh|0)|0}var gs=64,ku=4194304;function Fr(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function ys(l,p){var b=l.pendingLanes;if(b===0)return 0;var C=0,k=l.suspendedLanes,F=l.pingedLanes,G=b&268435455;if(G!==0){var ae=G&~k;ae!==0?C=Fr(ae):(F&=G,F!==0&&(C=Fr(F)))}else G=b&~k,G!==0?C=Fr(G):F!==0&&(C=Fr(F));if(C===0)return 0;if(p!==0&&p!==C&&(p&k)===0&&(k=C&-C,F=p&-p,k>=F||k===16&&(F&4194240)!==0))return p;if((C&4)!==0&&(C|=b&16),p=l.entangledLanes,p!==0)for(l=l.entanglements,p&=C;0<p;)b=31-Vi(p),k=1<<b,C|=l[b],p&=~k;return C}function Hv(l,p){switch(l){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(l,p){for(var b=l.suspendedLanes,C=l.pingedLanes,k=l.expirationTimes,F=l.pendingLanes;0<F;){var G=31-Vi(F),ae=1<<G,fe=k[G];fe===-1?((ae&b)===0||(ae&C)!==0)&&(k[G]=Hv(ae,p)):fe<=p&&(l.expiredLanes|=ae),F&=~ae}}function br(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function Vn(){var l=gs;return gs<<=1,(gs&4194240)===0&&(gs=64),l}function ye(l){for(var p=[],b=0;31>b;b++)p.push(l);return p}function ee(l,p,b){l.pendingLanes|=p,p!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,p=31-Vi(p),l[p]=b}function bt(l,p){var b=l.pendingLanes&~p;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=p,l.mutableReadLanes&=p,l.entangledLanes&=p,p=l.entanglements;var C=l.eventTimes;for(l=l.expirationTimes;0<b;){var k=31-Vi(b),F=1<<k;p[k]=0,C[k]=-1,l[k]=-1,b&=~F}}function xn(l,p){var b=l.entangledLanes|=p;for(l=l.entanglements;b;){var C=31-Vi(b),k=1<<C;k&p|l[C]&p&&(l[C]|=p),b&=~k}}var Xt=0;function dg(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Mu,Pi,At,Vr,dh,fh=!1,cl=[],vs=null,Vs=null,Va=null,sn=new Map,ca=new Map,yi=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fg(l,p){switch(l){case"focusin":case"focusout":vs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":sn.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(p.pointerId)}}function Vt(l,p,b,C,k,F){return l===null||l.nativeEvent!==F?(l={blockedOn:p,domEventName:b,eventSystemFlags:C,nativeEvent:F,targetContainers:[k]},p!==null&&(p=Nh(p),p!==null&&Pi(p)),l):(l.eventSystemFlags|=C,p=l.targetContainers,k!==null&&p.indexOf(k)===-1&&p.push(k),l)}function qn(l,p,b,C,k){switch(p){case"focusin":return vs=Vt(vs,l,p,b,C,k),!0;case"dragenter":return Vs=Vt(Vs,l,p,b,C,k),!0;case"mouseover":return Va=Vt(Va,l,p,b,C,k),!0;case"pointerover":var F=k.pointerId;return sn.set(F,Vt(sn.get(F)||null,l,p,b,C,k)),!0;case"gotpointercapture":return F=k.pointerId,ca.set(F,Vt(ca.get(F)||null,l,p,b,C,k)),!0}return!1}function hg(l){var p=Sc(l.target);if(p!==null){var b=is(p);if(b!==null){if(p=b.tag,p===13){if(p=fc(b),p!==null){l.blockedOn=p,dh(l.priority,function(){At(b)});return}}else if(p===3&&b.stateNode.current.memoizedState.isDehydrated){l.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}l.blockedOn=null}function ul(l){if(l.blockedOn!==null)return!1;for(var p=l.targetContainers;0<p.length;){var b=Du(l.domEventName,l.eventSystemFlags,p[0],l.nativeEvent);if(b===null){b=l.nativeEvent;var C=new b.constructor(b.type,b);Fs=C,b.target.dispatchEvent(C),Fs=null}else return p=Nh(b),p!==null&&Pi(p),l.blockedOn=b,!1;p.shift()}return!0}function hh(l,p,b){ul(l)&&b.delete(p)}function mo(){fh=!1,vs!==null&&ul(vs)&&(vs=null),Vs!==null&&ul(Vs)&&(Vs=null),Va!==null&&ul(Va)&&(Va=null),sn.forEach(hh),ca.forEach(hh)}function pc(l,p){l.blockedOn===p&&(l.blockedOn=null,fh||(fh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mo)))}function ua(l){function p(k){return pc(k,l)}if(0<cl.length){pc(cl[0],l);for(var b=1;b<cl.length;b++){var C=cl[b];C.blockedOn===l&&(C.blockedOn=null)}}for(vs!==null&&pc(vs,l),Vs!==null&&pc(Vs,l),Va!==null&&pc(Va,l),sn.forEach(p),ca.forEach(p),b=0;b<yi.length;b++)C=yi[b],C.blockedOn===l&&(C.blockedOn=null);for(;0<yi.length&&(b=yi[0],b.blockedOn===null);)hg(b),b.blockedOn===null&&yi.shift()}var qs=D.ReactCurrentBatchConfig,qa=!0;function pg(l,p,b,C){var k=Xt,F=qs.transition;qs.transition=null;try{Xt=1,go(l,p,b,C)}finally{Xt=k,qs.transition=F}}function mc(l,p,b,C){var k=Xt,F=qs.transition;qs.transition=null;try{Xt=4,go(l,p,b,C)}finally{Xt=k,qs.transition=F}}function go(l,p,b,C){if(qa){var k=Du(l,p,b,C);if(k===null)rx(l,p,C,zn,b),fg(l,C);else if(qn(k,l,p,b,C))C.stopPropagation();else if(fg(l,C),p&4&&-1<Pt.indexOf(l)){for(;k!==null;){var F=Nh(k);if(F!==null&&Mu(F),F=Du(l,p,b,C),F===null&&rx(l,p,C,zn,b),F===k)break;k=F}k!==null&&C.stopPropagation()}else rx(l,p,C,null,b)}}var zn=null;function Du(l,p,b,C){if(zn=null,l=uc(C),l=Sc(l),l!==null)if(p=is(l),p===null)l=null;else if(b=p.tag,b===13){if(l=fc(p),l!==null)return l;l=null}else if(b===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;l=null}else p!==l&&(l=null);return zn=l,null}function ph(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lh()){case Re:return 1;case cg:return 4;case Br:case ol:return 16;case ug:return 536870912;default:return 16}default:return 16}}var da=null,mh=null,Lu=null;function mg(){if(Lu)return Lu;var l,p=mh,b=p.length,C,k="value"in da?da.value:da.textContent,F=k.length;for(l=0;l<b&&p[l]===k[l];l++);var G=b-l;for(C=1;C<=G&&p[b-C]===k[F-C];C++);return Lu=k.slice(l,1<C?1-C:void 0)}function pr(l){var p=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&p===13&&(l=13)):l=p,l===10&&(l=13),32<=l||l===13?l:0}function gc(){return!0}function yc(){return!1}function wn(l){function p(b,C,k,F,G){this._reactName=b,this._targetInst=k,this.type=C,this.nativeEvent=F,this.target=G,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(b=l[ae],this[ae]=b?b(F):F[ae]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?gc:yc,this.isPropagationStopped=yc,this}return me(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),p}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Se=wn(dl),zt=me({},dl,{view:0,detail:0}),Wn=wn(zt),fl,Bu,vc,Fu=me({},zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==vc&&(vc&&l.type==="mousemove"?(fl=l.screenX-vc.screenX,Bu=l.screenY-vc.screenY):Bu=fl=0,vc=l),fl)},movementY:function(l){return"movementY"in l?l.movementY:Bu}}),gg=wn(Fu),gh=me({},Fu,{dataTransfer:0}),Nn=wn(gh),yh=me({},zt,{relatedTarget:0}),qr=wn(yh),$u=me({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),yo=wn($u),Tr=me({},dl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Tt=wn(Tr),Gv=me({},dl,{data:0}),Pr=wn(Gv),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zs(l){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(l):(l=Kv[l])?!!p[l]:!1}function xc(){return zs}var yg=me({},zt,{key:function(l){if(l.key){var p=vo[l.key]||l.key;if(p!=="Unidentified")return p}return l.type==="keypress"?(l=pr(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?hl[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(l){return l.type==="keypress"?pr(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?pr(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),vh=wn(yg),vg=me({},Fu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xh=wn(vg),Xv=me({},zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),pl=wn(Xv),wh=me({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yv=wn(wh),wc=me({},Fu,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Zv=wn(wc),za=[9,13,27,32],ml=u&&"CompositionEvent"in window,si=null;u&&"documentMode"in document&&(si=document.documentMode);var xg=u&&"TextEvent"in window&&!si,xs=u&&(!ml||si&&8<si&&11>=si),wg=" ",Uu=!1;function bg(l,p){switch(l){case"keyup":return za.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var vi=!1;function Qv(l,p){switch(l){case"compositionend":return bh(p);case"keypress":return p.which!==32?null:(Uu=!0,wg);case"textInput":return l=p.data,l===wg&&Uu?null:l;default:return null}}function _h(l,p){if(vi)return l==="compositionend"||!ml&&bg(l,p)?(l=mg(),Lu=mh=da=null,vi=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return xs&&p.locale!=="ko"?null:p.data;default:return null}}var bc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(l){var p=l&&l.nodeName&&l.nodeName.toLowerCase();return p==="input"?!!bc[l.type]:p==="textarea"}function _c(l,p,b,C){ih(C),p=Eg(p,"onChange"),0<p.length&&(b=new Se("onChange","change",null,b,C),l.push({event:b,listeners:p}))}var V=null,a=null;function c(l){GN(l,0)}function h(l){var p=zu(l);if(Ce(p))return l}function y(l,p){if(l==="change")return p}var v=!1;if(u){var w;if(u){var S="oninput"in document;if(!S){var O=document.createElement("div");O.setAttribute("oninput","return;"),S=typeof O.oninput=="function"}w=S}else w=!1;v=w&&(!document.documentMode||9<document.documentMode)}function P(){V&&(V.detachEvent("onpropertychange",U),a=V=null)}function U(l){if(l.propertyName==="value"&&h(a)){var p=[];_c(p,a,l,uc(l)),dc(c,p)}}function q(l,p,b){l==="focusin"?(P(),V=p,a=b,V.attachEvent("onpropertychange",U)):l==="focusout"&&P()}function X(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return h(a)}function re(l,p){if(l==="click")return h(p)}function de(l,p){if(l==="input"||l==="change")return h(p)}function he(l,p){return l===p&&(l!==0||1/l===1/p)||l!==l&&p!==p}var ge=typeof Object.is=="function"?Object.is:he;function _e(l,p){if(ge(l,p))return!0;if(typeof l!="object"||l===null||typeof p!="object"||p===null)return!1;var b=Object.keys(l),C=Object.keys(p);if(b.length!==C.length)return!1;for(C=0;C<b.length;C++){var k=b[C];if(!d.call(p,k)||!ge(l[k],p[k]))return!1}return!0}function qe(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function He(l,p){var b=qe(l);l=0;for(var C;b;){if(b.nodeType===3){if(C=l+b.textContent.length,l<=p&&C>=p)return{node:b,offset:p-l};l=C}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=qe(b)}}function De(l,p){return l&&p?l===p?!0:l&&l.nodeType===3?!1:p&&p.nodeType===3?De(l,p.parentNode):"contains"in l?l.contains(p):l.compareDocumentPosition?!!(l.compareDocumentPosition(p)&16):!1:!1}function tr(){for(var l=window,p=tt();p instanceof l.HTMLIFrameElement;){try{var b=typeof p.contentWindow.location.href=="string"}catch{b=!1}if(b)l=p.contentWindow;else break;p=tt(l.document)}return p}function qt(l){var p=l&&l.nodeName&&l.nodeName.toLowerCase();return p&&(p==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||p==="textarea"||l.contentEditable==="true")}function ji(l){var p=tr(),b=l.focusedElem,C=l.selectionRange;if(p!==b&&b&&b.ownerDocument&&De(b.ownerDocument.documentElement,b)){if(C!==null&&qt(b)){if(p=C.start,l=C.end,l===void 0&&(l=p),"selectionStart"in b)b.selectionStart=p,b.selectionEnd=Math.min(l,b.value.length);else if(l=(p=b.ownerDocument||document)&&p.defaultView||window,l.getSelection){l=l.getSelection();var k=b.textContent.length,F=Math.min(C.start,k);C=C.end===void 0?F:Math.min(C.end,k),!l.extend&&F>C&&(k=C,C=F,F=k),k=He(b,F);var G=He(b,C);k&&G&&(l.rangeCount!==1||l.anchorNode!==k.node||l.anchorOffset!==k.offset||l.focusNode!==G.node||l.focusOffset!==G.offset)&&(p=p.createRange(),p.setStart(k.node,k.offset),l.removeAllRanges(),F>C?(l.addRange(p),l.extend(G.node,G.offset)):(p.setEnd(G.node,G.offset),l.addRange(p)))}}for(p=[],l=b;l=l.parentNode;)l.nodeType===1&&p.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<p.length;b++)l=p[b],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var ws=u&&"documentMode"in document&&11>=document.documentMode,On=null,xr=null,fn=null,xi=!1;function xo(l,p,b){var C=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;xi||On==null||On!==tt(C)||(C=On,"selectionStart"in C&&qt(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),fn&&_e(fn,C)||(fn=C,C=Eg(xr,"onSelect"),0<C.length&&(p=new Se("onSelect","select",null,p,b),l.push({event:p,listeners:C}),p.target=On)))}function fa(l,p){var b={};return b[l.toLowerCase()]=p.toLowerCase(),b["Webkit"+l]="webkit"+p,b["Moz"+l]="moz"+p,b}var gl={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionend:fa("Transition","TransitionEnd")},Sh={},FN={};u&&(FN=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function _g(l){if(Sh[l])return Sh[l];if(!gl[l])return l;var p=gl[l],b;for(b in p)if(p.hasOwnProperty(b)&&b in FN)return Sh[l]=p[b];return l}var $N=_g("animationend"),UN=_g("animationiteration"),VN=_g("animationstart"),qN=_g("transitionend"),zN=new Map,WN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(l,p){zN.set(l,p),s(p,[l])}for(var Jv=0;Jv<WN.length;Jv++){var ex=WN[Jv],fq=ex.toLowerCase(),hq=ex[0].toUpperCase()+ex.slice(1);yl(fq,"on"+hq)}yl($N,"onAnimationEnd"),yl(UN,"onAnimationIteration"),yl(VN,"onAnimationStart"),yl("dblclick","onDoubleClick"),yl("focusin","onFocus"),yl("focusout","onBlur"),yl(qN,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pq=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function HN(l,p,b){var C=l.type||"unknown-event";l.currentTarget=b,Ii(C,p,void 0,l),l.currentTarget=null}function GN(l,p){p=(p&4)!==0;for(var b=0;b<l.length;b++){var C=l[b],k=C.event;C=C.listeners;e:{var F=void 0;if(p)for(var G=C.length-1;0<=G;G--){var ae=C[G],fe=ae.instance,Ee=ae.currentTarget;if(ae=ae.listener,fe!==F&&k.isPropagationStopped())break e;HN(k,ae,Ee),F=fe}else for(G=0;G<C.length;G++){if(ae=C[G],fe=ae.instance,Ee=ae.currentTarget,ae=ae.listener,fe!==F&&k.isPropagationStopped())break e;HN(k,ae,Ee),F=fe}}}if(gi)throw l=lt,gi=!1,lt=null,l}function Qr(l,p){var b=p[lx];b===void 0&&(b=p[lx]=new Set);var C=l+"__bubble";b.has(C)||(KN(p,l,2,!1),b.add(C))}function tx(l,p,b){var C=0;p&&(C|=4),KN(b,l,C,p)}var Sg="_reactListening"+Math.random().toString(36).slice(2);function Ah(l){if(!l[Sg]){l[Sg]=!0,n.forEach(function(b){b!=="selectionchange"&&(pq.has(b)||tx(b,!1,l),tx(b,!0,l))});var p=l.nodeType===9?l:l.ownerDocument;p===null||p[Sg]||(p[Sg]=!0,tx("selectionchange",!1,p))}}function KN(l,p,b,C){switch(ph(p)){case 1:var k=pg;break;case 4:k=mc;break;default:k=go}b=k.bind(null,p,b,l),k=void 0,!sh||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(k=!0),C?k!==void 0?l.addEventListener(p,b,{capture:!0,passive:k}):l.addEventListener(p,b,!0):k!==void 0?l.addEventListener(p,b,{passive:k}):l.addEventListener(p,b,!1)}function rx(l,p,b,C,k){var F=C;if((p&1)===0&&(p&2)===0&&C!==null)e:for(;;){if(C===null)return;var G=C.tag;if(G===3||G===4){var ae=C.stateNode.containerInfo;if(ae===k||ae.nodeType===8&&ae.parentNode===k)break;if(G===4)for(G=C.return;G!==null;){var fe=G.tag;if((fe===3||fe===4)&&(fe=G.stateNode.containerInfo,fe===k||fe.nodeType===8&&fe.parentNode===k))return;G=G.return}for(;ae!==null;){if(G=Sc(ae),G===null)return;if(fe=G.tag,fe===5||fe===6){C=F=G;continue e}ae=ae.parentNode}}C=C.return}dc(function(){var Ee=F,Le=uc(b),$e=[];e:{var ke=zN.get(l);if(ke!==void 0){var ct=Se,mt=l;switch(l){case"keypress":if(pr(b)===0)break e;case"keydown":case"keyup":ct=vh;break;case"focusin":mt="focus",ct=qr;break;case"focusout":mt="blur",ct=qr;break;case"beforeblur":case"afterblur":ct=qr;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ct=gg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ct=Nn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ct=pl;break;case $N:case UN:case VN:ct=yo;break;case qN:ct=Yv;break;case"scroll":ct=Wn;break;case"wheel":ct=Zv;break;case"copy":case"cut":case"paste":ct=Tt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ct=xh}var gt=(p&4)!==0,In=!gt&&l==="scroll",ve=gt?ke!==null?ke+"Capture":null:ke;gt=[];for(var pe=Ee,we;pe!==null;){we=pe;var Xe=we.stateNode;if(we.tag===5&&Xe!==null&&(we=Xe,ve!==null&&(Xe=Oi(pe,ve),Xe!=null&&gt.push(Ch(pe,Xe,we)))),In)break;pe=pe.return}0<gt.length&&(ke=new ct(ke,mt,null,b,Le),$e.push({event:ke,listeners:gt}))}}if((p&7)===0){e:{if(ke=l==="mouseover"||l==="pointerover",ct=l==="mouseout"||l==="pointerout",ke&&b!==Fs&&(mt=b.relatedTarget||b.fromElement)&&(Sc(mt)||mt[wo]))break e;if((ct||ke)&&(ke=Le.window===Le?Le:(ke=Le.ownerDocument)?ke.defaultView||ke.parentWindow:window,ct?(mt=b.relatedTarget||b.toElement,ct=Ee,mt=mt?Sc(mt):null,mt!==null&&(In=is(mt),mt!==In||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(ct=null,mt=Ee),ct!==mt)){if(gt=gg,Xe="onMouseLeave",ve="onMouseEnter",pe="mouse",(l==="pointerout"||l==="pointerover")&&(gt=xh,Xe="onPointerLeave",ve="onPointerEnter",pe="pointer"),In=ct==null?ke:zu(ct),we=mt==null?ke:zu(mt),ke=new gt(Xe,pe+"leave",ct,b,Le),ke.target=In,ke.relatedTarget=we,Xe=null,Sc(Le)===Ee&&(gt=new gt(ve,pe+"enter",mt,b,Le),gt.target=we,gt.relatedTarget=In,Xe=gt),In=Xe,ct&&mt)t:{for(gt=ct,ve=mt,pe=0,we=gt;we;we=Vu(we))pe++;for(we=0,Xe=ve;Xe;Xe=Vu(Xe))we++;for(;0<pe-we;)gt=Vu(gt),pe--;for(;0<we-pe;)ve=Vu(ve),we--;for(;pe--;){if(gt===ve||ve!==null&&gt===ve.alternate)break t;gt=Vu(gt),ve=Vu(ve)}gt=null}else gt=null;ct!==null&&XN($e,ke,ct,gt,!1),mt!==null&&In!==null&&XN($e,In,mt,gt,!0)}}e:{if(ke=Ee?zu(Ee):window,ct=ke.nodeName&&ke.nodeName.toLowerCase(),ct==="select"||ct==="input"&&ke.type==="file")var vt=y;else if(cr(ke))if(v)vt=de;else{vt=X;var Nt=q}else(ct=ke.nodeName)&&ct.toLowerCase()==="input"&&(ke.type==="checkbox"||ke.type==="radio")&&(vt=re);if(vt&&(vt=vt(l,Ee))){_c($e,vt,b,Le);break e}Nt&&Nt(l,ke,Ee),l==="focusout"&&(Nt=ke._wrapperState)&&Nt.controlled&&ke.type==="number"&&dt(ke,"number",ke.value)}switch(Nt=Ee?zu(Ee):window,l){case"focusin":(cr(Nt)||Nt.contentEditable==="true")&&(On=Nt,xr=Ee,fn=null);break;case"focusout":fn=xr=On=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,xo($e,b,Le);break;case"selectionchange":if(ws)break;case"keydown":case"keyup":xo($e,b,Le)}var Ot;if(ml)e:{switch(l){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else vi?bg(l,b)&&(Ft="onCompositionEnd"):l==="keydown"&&b.keyCode===229&&(Ft="onCompositionStart");Ft&&(xs&&b.locale!=="ko"&&(vi||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&vi&&(Ot=mg()):(da=Le,mh="value"in da?da.value:da.textContent,vi=!0)),Nt=Eg(Ee,Ft),0<Nt.length&&(Ft=new Pr(Ft,l,null,b,Le),$e.push({event:Ft,listeners:Nt}),Ot?Ft.data=Ot:(Ot=bh(b),Ot!==null&&(Ft.data=Ot)))),(Ot=xg?Qv(l,b):_h(l,b))&&(Ee=Eg(Ee,"onBeforeInput"),0<Ee.length&&(Le=new Pr("onBeforeInput","beforeinput",null,b,Le),$e.push({event:Le,listeners:Ee}),Le.data=Ot))}GN($e,p)})}function Ch(l,p,b){return{instance:l,listener:p,currentTarget:b}}function Eg(l,p){for(var b=p+"Capture",C=[];l!==null;){var k=l,F=k.stateNode;k.tag===5&&F!==null&&(k=F,F=Oi(l,b),F!=null&&C.unshift(Ch(l,F,k)),F=Oi(l,p),F!=null&&C.push(Ch(l,F,k))),l=l.return}return C}function Vu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function XN(l,p,b,C,k){for(var F=p._reactName,G=[];b!==null&&b!==C;){var ae=b,fe=ae.alternate,Ee=ae.stateNode;if(fe!==null&&fe===C)break;ae.tag===5&&Ee!==null&&(ae=Ee,k?(fe=Oi(b,F),fe!=null&&G.unshift(Ch(b,fe,ae))):k||(fe=Oi(b,F),fe!=null&&G.push(Ch(b,fe,ae)))),b=b.return}G.length!==0&&l.push({event:p,listeners:G})}var mq=/\r\n?/g,gq=/\u0000|\uFFFD/g;function YN(l){return(typeof l=="string"?l:""+l).replace(mq,`
`).replace(gq,"")}function Ag(l,p,b){if(p=YN(p),YN(l)!==p&&b)throw Error(r(425))}function Cg(){}var nx=null,ix=null;function sx(l,p){return l==="textarea"||l==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var ax=typeof setTimeout=="function"?setTimeout:void 0,yq=typeof clearTimeout=="function"?clearTimeout:void 0,ZN=typeof Promise=="function"?Promise:void 0,vq=typeof queueMicrotask=="function"?queueMicrotask:typeof ZN<"u"?function(l){return ZN.resolve(null).then(l).catch(xq)}:ax;function xq(l){setTimeout(function(){throw l})}function ox(l,p){var b=p,C=0;do{var k=b.nextSibling;if(l.removeChild(b),k&&k.nodeType===8)if(b=k.data,b==="/$"){if(C===0){l.removeChild(k),ua(p);return}C--}else b!=="$"&&b!=="$?"&&b!=="$!"||C++;b=k}while(b);ua(p)}function vl(l){for(;l!=null;l=l.nextSibling){var p=l.nodeType;if(p===1||p===3)break;if(p===8){if(p=l.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return l}function QN(l){l=l.previousSibling;for(var p=0;l;){if(l.nodeType===8){var b=l.data;if(b==="$"||b==="$!"||b==="$?"){if(p===0)return l;p--}else b==="/$"&&p++}l=l.previousSibling}return null}var qu=Math.random().toString(36).slice(2),Wa="__reactFiber$"+qu,Th="__reactProps$"+qu,wo="__reactContainer$"+qu,lx="__reactEvents$"+qu,wq="__reactListeners$"+qu,bq="__reactHandles$"+qu;function Sc(l){var p=l[Wa];if(p)return p;for(var b=l.parentNode;b;){if(p=b[wo]||b[Wa]){if(b=p.alternate,p.child!==null||b!==null&&b.child!==null)for(l=QN(l);l!==null;){if(b=l[Wa])return b;l=QN(l)}return p}l=b,b=l.parentNode}return null}function Nh(l){return l=l[Wa]||l[wo],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function zu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function Tg(l){return l[Th]||null}var cx=[],Wu=-1;function xl(l){return{current:l}}function Jr(l){0>Wu||(l.current=cx[Wu],cx[Wu]=null,Wu--)}function zr(l,p){Wu++,cx[Wu]=l.current,l.current=p}var wl={},Ri=xl(wl),ss=xl(!1),Ec=wl;function Hu(l,p){var b=l.type.contextTypes;if(!b)return wl;var C=l.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===p)return C.__reactInternalMemoizedMaskedChildContext;var k={},F;for(F in b)k[F]=p[F];return C&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=p,l.__reactInternalMemoizedMaskedChildContext=k),k}function as(l){return l=l.childContextTypes,l!=null}function Ng(){Jr(ss),Jr(Ri)}function JN(l,p,b){if(Ri.current!==wl)throw Error(r(168));zr(Ri,p),zr(ss,b)}function eO(l,p,b){var C=l.stateNode;if(p=p.childContextTypes,typeof C.getChildContext!="function")return b;C=C.getChildContext();for(var k in C)if(!(k in p))throw Error(r(108,je(l)||"Unknown",k));return me({},b,C)}function Og(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||wl,Ec=Ri.current,zr(Ri,l),zr(ss,ss.current),!0}function tO(l,p,b){var C=l.stateNode;if(!C)throw Error(r(169));b?(l=eO(l,p,Ec),C.__reactInternalMemoizedMergedChildContext=l,Jr(ss),Jr(Ri),zr(Ri,l)):Jr(ss),zr(ss,b)}var bo=null,Ig=!1,ux=!1;function rO(l){bo===null?bo=[l]:bo.push(l)}function _q(l){Ig=!0,rO(l)}function bl(){if(!ux&&bo!==null){ux=!0;var l=0,p=Xt;try{var b=bo;for(Xt=1;l<b.length;l++){var C=b[l];do C=C(!0);while(C!==null)}bo=null,Ig=!1}catch(k){throw bo!==null&&(bo=bo.slice(l+1)),ms(Re,bl),k}finally{Xt=p,ux=!1}}return null}var Gu=[],Ku=0,Pg=null,jg=0,Ws=[],Hs=0,Ac=null,_o=1,So="";function Cc(l,p){Gu[Ku++]=jg,Gu[Ku++]=Pg,Pg=l,jg=p}function nO(l,p,b){Ws[Hs++]=_o,Ws[Hs++]=So,Ws[Hs++]=Ac,Ac=l;var C=_o;l=So;var k=32-Vi(C)-1;C&=~(1<<k),b+=1;var F=32-Vi(p)+k;if(30<F){var G=k-k%5;F=(C&(1<<G)-1).toString(32),C>>=G,k-=G,_o=1<<32-Vi(p)+k|b<<k|C,So=F+l}else _o=1<<F|b<<k|C,So=l}function dx(l){l.return!==null&&(Cc(l,1),nO(l,1,0))}function fx(l){for(;l===Pg;)Pg=Gu[--Ku],Gu[Ku]=null,jg=Gu[--Ku],Gu[Ku]=null;for(;l===Ac;)Ac=Ws[--Hs],Ws[Hs]=null,So=Ws[--Hs],Ws[Hs]=null,_o=Ws[--Hs],Ws[Hs]=null}var bs=null,_s=null,an=!1,ha=null;function iO(l,p){var b=Ys(5,null,null,0);b.elementType="DELETED",b.stateNode=p,b.return=l,p=l.deletions,p===null?(l.deletions=[b],l.flags|=16):p.push(b)}function sO(l,p){switch(l.tag){case 5:var b=l.type;return p=p.nodeType!==1||b.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(l.stateNode=p,bs=l,_s=vl(p.firstChild),!0):!1;case 6:return p=l.pendingProps===""||p.nodeType!==3?null:p,p!==null?(l.stateNode=p,bs=l,_s=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(b=Ac!==null?{id:_o,overflow:So}:null,l.memoizedState={dehydrated:p,treeContext:b,retryLane:1073741824},b=Ys(18,null,null,0),b.stateNode=p,b.return=l,l.child=b,bs=l,_s=null,!0):!1;default:return!1}}function hx(l){return(l.mode&1)!==0&&(l.flags&128)===0}function px(l){if(an){var p=_s;if(p){var b=p;if(!sO(l,p)){if(hx(l))throw Error(r(418));p=vl(b.nextSibling);var C=bs;p&&sO(l,p)?iO(C,b):(l.flags=l.flags&-4097|2,an=!1,bs=l)}}else{if(hx(l))throw Error(r(418));l.flags=l.flags&-4097|2,an=!1,bs=l}}}function aO(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;bs=l}function Rg(l){if(l!==bs)return!1;if(!an)return aO(l),an=!0,!1;var p;if((p=l.tag!==3)&&!(p=l.tag!==5)&&(p=l.type,p=p!=="head"&&p!=="body"&&!sx(l.type,l.memoizedProps)),p&&(p=_s)){if(hx(l))throw oO(),Error(r(418));for(;p;)iO(l,p),p=vl(p.nextSibling)}if(aO(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,p=0;l;){if(l.nodeType===8){var b=l.data;if(b==="/$"){if(p===0){_s=vl(l.nextSibling);break e}p--}else b!=="$"&&b!=="$!"&&b!=="$?"||p++}l=l.nextSibling}_s=null}}else _s=bs?vl(l.stateNode.nextSibling):null;return!0}function oO(){for(var l=_s;l;)l=vl(l.nextSibling)}function Xu(){_s=bs=null,an=!1}function mx(l){ha===null?ha=[l]:ha.push(l)}var Sq=D.ReactCurrentBatchConfig;function Oh(l,p,b){if(l=b.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(r(309));var C=b.stateNode}if(!C)throw Error(r(147,l));var k=C,F=""+l;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===F?p.ref:(p=function(G){var ae=k.refs;G===null?delete ae[F]:ae[F]=G},p._stringRef=F,p)}if(typeof l!="string")throw Error(r(284));if(!b._owner)throw Error(r(290,l))}return l}function kg(l,p){throw l=Object.prototype.toString.call(p),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":l))}function lO(l){var p=l._init;return p(l._payload)}function cO(l){function p(ve,pe){if(l){var we=ve.deletions;we===null?(ve.deletions=[pe],ve.flags|=16):we.push(pe)}}function b(ve,pe){if(!l)return null;for(;pe!==null;)p(ve,pe),pe=pe.sibling;return null}function C(ve,pe){for(ve=new Map;pe!==null;)pe.key!==null?ve.set(pe.key,pe):ve.set(pe.index,pe),pe=pe.sibling;return ve}function k(ve,pe){return ve=Ol(ve,pe),ve.index=0,ve.sibling=null,ve}function F(ve,pe,we){return ve.index=we,l?(we=ve.alternate,we!==null?(we=we.index,we<pe?(ve.flags|=2,pe):we):(ve.flags|=2,pe)):(ve.flags|=1048576,pe)}function G(ve){return l&&ve.alternate===null&&(ve.flags|=2),ve}function ae(ve,pe,we,Xe){return pe===null||pe.tag!==6?(pe=aw(we,ve.mode,Xe),pe.return=ve,pe):(pe=k(pe,we),pe.return=ve,pe)}function fe(ve,pe,we,Xe){var vt=we.type;return vt===B?Le(ve,pe,we.props.children,Xe,we.key):pe!==null&&(pe.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===J&&lO(vt)===pe.type)?(Xe=k(pe,we.props),Xe.ref=Oh(ve,pe,we),Xe.return=ve,Xe):(Xe=i0(we.type,we.key,we.props,null,ve.mode,Xe),Xe.ref=Oh(ve,pe,we),Xe.return=ve,Xe)}function Ee(ve,pe,we,Xe){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==we.containerInfo||pe.stateNode.implementation!==we.implementation?(pe=ow(we,ve.mode,Xe),pe.return=ve,pe):(pe=k(pe,we.children||[]),pe.return=ve,pe)}function Le(ve,pe,we,Xe,vt){return pe===null||pe.tag!==7?(pe=kc(we,ve.mode,Xe,vt),pe.return=ve,pe):(pe=k(pe,we),pe.return=ve,pe)}function $e(ve,pe,we){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return pe=aw(""+pe,ve.mode,we),pe.return=ve,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case L:return we=i0(pe.type,pe.key,pe.props,null,ve.mode,we),we.ref=Oh(ve,null,pe),we.return=ve,we;case $:return pe=ow(pe,ve.mode,we),pe.return=ve,pe;case J:var Xe=pe._init;return $e(ve,Xe(pe._payload),we)}if(Bt(pe)||se(pe))return pe=kc(pe,ve.mode,we,null),pe.return=ve,pe;kg(ve,pe)}return null}function ke(ve,pe,we,Xe){var vt=pe!==null?pe.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return vt!==null?null:ae(ve,pe,""+we,Xe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case L:return we.key===vt?fe(ve,pe,we,Xe):null;case $:return we.key===vt?Ee(ve,pe,we,Xe):null;case J:return vt=we._init,ke(ve,pe,vt(we._payload),Xe)}if(Bt(we)||se(we))return vt!==null?null:Le(ve,pe,we,Xe,null);kg(ve,we)}return null}function ct(ve,pe,we,Xe,vt){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return ve=ve.get(we)||null,ae(pe,ve,""+Xe,vt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case L:return ve=ve.get(Xe.key===null?we:Xe.key)||null,fe(pe,ve,Xe,vt);case $:return ve=ve.get(Xe.key===null?we:Xe.key)||null,Ee(pe,ve,Xe,vt);case J:var Nt=Xe._init;return ct(ve,pe,we,Nt(Xe._payload),vt)}if(Bt(Xe)||se(Xe))return ve=ve.get(we)||null,Le(pe,ve,Xe,vt,null);kg(pe,Xe)}return null}function mt(ve,pe,we,Xe){for(var vt=null,Nt=null,Ot=pe,Ft=pe=0,li=null;Ot!==null&&Ft<we.length;Ft++){Ot.index>Ft?(li=Ot,Ot=null):li=Ot.sibling;var yr=ke(ve,Ot,we[Ft],Xe);if(yr===null){Ot===null&&(Ot=li);break}l&&Ot&&yr.alternate===null&&p(ve,Ot),pe=F(yr,pe,Ft),Nt===null?vt=yr:Nt.sibling=yr,Nt=yr,Ot=li}if(Ft===we.length)return b(ve,Ot),an&&Cc(ve,Ft),vt;if(Ot===null){for(;Ft<we.length;Ft++)Ot=$e(ve,we[Ft],Xe),Ot!==null&&(pe=F(Ot,pe,Ft),Nt===null?vt=Ot:Nt.sibling=Ot,Nt=Ot);return an&&Cc(ve,Ft),vt}for(Ot=C(ve,Ot);Ft<we.length;Ft++)li=ct(Ot,ve,Ft,we[Ft],Xe),li!==null&&(l&&li.alternate!==null&&Ot.delete(li.key===null?Ft:li.key),pe=F(li,pe,Ft),Nt===null?vt=li:Nt.sibling=li,Nt=li);return l&&Ot.forEach(function(Il){return p(ve,Il)}),an&&Cc(ve,Ft),vt}function gt(ve,pe,we,Xe){var vt=se(we);if(typeof vt!="function")throw Error(r(150));if(we=vt.call(we),we==null)throw Error(r(151));for(var Nt=vt=null,Ot=pe,Ft=pe=0,li=null,yr=we.next();Ot!==null&&!yr.done;Ft++,yr=we.next()){Ot.index>Ft?(li=Ot,Ot=null):li=Ot.sibling;var Il=ke(ve,Ot,yr.value,Xe);if(Il===null){Ot===null&&(Ot=li);break}l&&Ot&&Il.alternate===null&&p(ve,Ot),pe=F(Il,pe,Ft),Nt===null?vt=Il:Nt.sibling=Il,Nt=Il,Ot=li}if(yr.done)return b(ve,Ot),an&&Cc(ve,Ft),vt;if(Ot===null){for(;!yr.done;Ft++,yr=we.next())yr=$e(ve,yr.value,Xe),yr!==null&&(pe=F(yr,pe,Ft),Nt===null?vt=yr:Nt.sibling=yr,Nt=yr);return an&&Cc(ve,Ft),vt}for(Ot=C(ve,Ot);!yr.done;Ft++,yr=we.next())yr=ct(Ot,ve,Ft,yr.value,Xe),yr!==null&&(l&&yr.alternate!==null&&Ot.delete(yr.key===null?Ft:yr.key),pe=F(yr,pe,Ft),Nt===null?vt=yr:Nt.sibling=yr,Nt=yr);return l&&Ot.forEach(function(rz){return p(ve,rz)}),an&&Cc(ve,Ft),vt}function In(ve,pe,we,Xe){if(typeof we=="object"&&we!==null&&we.type===B&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case L:e:{for(var vt=we.key,Nt=pe;Nt!==null;){if(Nt.key===vt){if(vt=we.type,vt===B){if(Nt.tag===7){b(ve,Nt.sibling),pe=k(Nt,we.props.children),pe.return=ve,ve=pe;break e}}else if(Nt.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===J&&lO(vt)===Nt.type){b(ve,Nt.sibling),pe=k(Nt,we.props),pe.ref=Oh(ve,Nt,we),pe.return=ve,ve=pe;break e}b(ve,Nt);break}else p(ve,Nt);Nt=Nt.sibling}we.type===B?(pe=kc(we.props.children,ve.mode,Xe,we.key),pe.return=ve,ve=pe):(Xe=i0(we.type,we.key,we.props,null,ve.mode,Xe),Xe.ref=Oh(ve,pe,we),Xe.return=ve,ve=Xe)}return G(ve);case $:e:{for(Nt=we.key;pe!==null;){if(pe.key===Nt)if(pe.tag===4&&pe.stateNode.containerInfo===we.containerInfo&&pe.stateNode.implementation===we.implementation){b(ve,pe.sibling),pe=k(pe,we.children||[]),pe.return=ve,ve=pe;break e}else{b(ve,pe);break}else p(ve,pe);pe=pe.sibling}pe=ow(we,ve.mode,Xe),pe.return=ve,ve=pe}return G(ve);case J:return Nt=we._init,In(ve,pe,Nt(we._payload),Xe)}if(Bt(we))return mt(ve,pe,we,Xe);if(se(we))return gt(ve,pe,we,Xe);kg(ve,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,pe!==null&&pe.tag===6?(b(ve,pe.sibling),pe=k(pe,we),pe.return=ve,ve=pe):(b(ve,pe),pe=aw(we,ve.mode,Xe),pe.return=ve,ve=pe),G(ve)):b(ve,pe)}return In}var Yu=cO(!0),uO=cO(!1),Mg=xl(null),Dg=null,Zu=null,gx=null;function yx(){gx=Zu=Dg=null}function vx(l){var p=Mg.current;Jr(Mg),l._currentValue=p}function xx(l,p,b){for(;l!==null;){var C=l.alternate;if((l.childLanes&p)!==p?(l.childLanes|=p,C!==null&&(C.childLanes|=p)):C!==null&&(C.childLanes&p)!==p&&(C.childLanes|=p),l===b)break;l=l.return}}function Qu(l,p){Dg=l,gx=Zu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&p)!==0&&(os=!0),l.firstContext=null)}function Gs(l){var p=l._currentValue;if(gx!==l)if(l={context:l,memoizedValue:p,next:null},Zu===null){if(Dg===null)throw Error(r(308));Zu=l,Dg.dependencies={lanes:0,firstContext:l}}else Zu=Zu.next=l;return p}var Tc=null;function wx(l){Tc===null?Tc=[l]:Tc.push(l)}function dO(l,p,b,C){var k=p.interleaved;return k===null?(b.next=b,wx(p)):(b.next=k.next,k.next=b),p.interleaved=b,Eo(l,C)}function Eo(l,p){l.lanes|=p;var b=l.alternate;for(b!==null&&(b.lanes|=p),b=l,l=l.return;l!==null;)l.childLanes|=p,b=l.alternate,b!==null&&(b.childLanes|=p),b=l,l=l.return;return b.tag===3?b.stateNode:null}var _l=!1;function bx(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fO(l,p){l=l.updateQueue,p.updateQueue===l&&(p.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ao(l,p){return{eventTime:l,lane:p,tag:0,payload:null,callback:null,next:null}}function Sl(l,p,b){var C=l.updateQueue;if(C===null)return null;if(C=C.shared,(mr&2)!==0){var k=C.pending;return k===null?p.next=p:(p.next=k.next,k.next=p),C.pending=p,Eo(l,b)}return k=C.interleaved,k===null?(p.next=p,wx(C)):(p.next=k.next,k.next=p),C.interleaved=p,Eo(l,b)}function Lg(l,p,b){if(p=p.updateQueue,p!==null&&(p=p.shared,(b&4194240)!==0)){var C=p.lanes;C&=l.pendingLanes,b|=C,p.lanes=b,xn(l,b)}}function hO(l,p){var b=l.updateQueue,C=l.alternate;if(C!==null&&(C=C.updateQueue,b===C)){var k=null,F=null;if(b=b.firstBaseUpdate,b!==null){do{var G={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};F===null?k=F=G:F=F.next=G,b=b.next}while(b!==null);F===null?k=F=p:F=F.next=p}else k=F=p;b={baseState:C.baseState,firstBaseUpdate:k,lastBaseUpdate:F,shared:C.shared,effects:C.effects},l.updateQueue=b;return}l=b.lastBaseUpdate,l===null?b.firstBaseUpdate=p:l.next=p,b.lastBaseUpdate=p}function Bg(l,p,b,C){var k=l.updateQueue;_l=!1;var F=k.firstBaseUpdate,G=k.lastBaseUpdate,ae=k.shared.pending;if(ae!==null){k.shared.pending=null;var fe=ae,Ee=fe.next;fe.next=null,G===null?F=Ee:G.next=Ee,G=fe;var Le=l.alternate;Le!==null&&(Le=Le.updateQueue,ae=Le.lastBaseUpdate,ae!==G&&(ae===null?Le.firstBaseUpdate=Ee:ae.next=Ee,Le.lastBaseUpdate=fe))}if(F!==null){var $e=k.baseState;G=0,Le=Ee=fe=null,ae=F;do{var ke=ae.lane,ct=ae.eventTime;if((C&ke)===ke){Le!==null&&(Le=Le.next={eventTime:ct,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var mt=l,gt=ae;switch(ke=p,ct=b,gt.tag){case 1:if(mt=gt.payload,typeof mt=="function"){$e=mt.call(ct,$e,ke);break e}$e=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=gt.payload,ke=typeof mt=="function"?mt.call(ct,$e,ke):mt,ke==null)break e;$e=me({},$e,ke);break e;case 2:_l=!0}}ae.callback!==null&&ae.lane!==0&&(l.flags|=64,ke=k.effects,ke===null?k.effects=[ae]:ke.push(ae))}else ct={eventTime:ct,lane:ke,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Le===null?(Ee=Le=ct,fe=$e):Le=Le.next=ct,G|=ke;if(ae=ae.next,ae===null){if(ae=k.shared.pending,ae===null)break;ke=ae,ae=ke.next,ke.next=null,k.lastBaseUpdate=ke,k.shared.pending=null}}while(!0);if(Le===null&&(fe=$e),k.baseState=fe,k.firstBaseUpdate=Ee,k.lastBaseUpdate=Le,p=k.shared.interleaved,p!==null){k=p;do G|=k.lane,k=k.next;while(k!==p)}else F===null&&(k.shared.lanes=0);Ic|=G,l.lanes=G,l.memoizedState=$e}}function pO(l,p,b){if(l=p.effects,p.effects=null,l!==null)for(p=0;p<l.length;p++){var C=l[p],k=C.callback;if(k!==null){if(C.callback=null,C=b,typeof k!="function")throw Error(r(191,k));k.call(C)}}}var Ih={},Ha=xl(Ih),Ph=xl(Ih),jh=xl(Ih);function Nc(l){if(l===Ih)throw Error(r(174));return l}function _x(l,p){switch(zr(jh,p),zr(Ph,l),zr(Ha,Ih),l=p.nodeType,l){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:We(null,"");break;default:l=l===8?p.parentNode:p,p=l.namespaceURI||null,l=l.tagName,p=We(p,l)}Jr(Ha),zr(Ha,p)}function Ju(){Jr(Ha),Jr(Ph),Jr(jh)}function mO(l){Nc(jh.current);var p=Nc(Ha.current),b=We(p,l.type);p!==b&&(zr(Ph,l),zr(Ha,b))}function Sx(l){Ph.current===l&&(Jr(Ha),Jr(Ph))}var hn=xl(0);function Fg(l){for(var p=l;p!==null;){if(p.tag===13){var b=p.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Ex=[];function Ax(){for(var l=0;l<Ex.length;l++)Ex[l]._workInProgressVersionPrimary=null;Ex.length=0}var $g=D.ReactCurrentDispatcher,Cx=D.ReactCurrentBatchConfig,Oc=0,pn=null,Hn=null,ai=null,Ug=!1,Rh=!1,kh=0,Eq=0;function ki(){throw Error(r(321))}function Tx(l,p){if(p===null)return!1;for(var b=0;b<p.length&&b<l.length;b++)if(!ge(l[b],p[b]))return!1;return!0}function Nx(l,p,b,C,k,F){if(Oc=F,pn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,$g.current=l===null||l.memoizedState===null?Nq:Oq,l=b(C,k),Rh){F=0;do{if(Rh=!1,kh=0,25<=F)throw Error(r(301));F+=1,ai=Hn=null,p.updateQueue=null,$g.current=Iq,l=b(C,k)}while(Rh)}if($g.current=zg,p=Hn!==null&&Hn.next!==null,Oc=0,ai=Hn=pn=null,Ug=!1,p)throw Error(r(300));return l}function Ox(){var l=kh!==0;return kh=0,l}function Ga(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?pn.memoizedState=ai=l:ai=ai.next=l,ai}function Ks(){if(Hn===null){var l=pn.alternate;l=l!==null?l.memoizedState:null}else l=Hn.next;var p=ai===null?pn.memoizedState:ai.next;if(p!==null)ai=p,Hn=l;else{if(l===null)throw Error(r(310));Hn=l,l={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},ai===null?pn.memoizedState=ai=l:ai=ai.next=l}return ai}function Mh(l,p){return typeof p=="function"?p(l):p}function Ix(l){var p=Ks(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=l;var C=Hn,k=C.baseQueue,F=b.pending;if(F!==null){if(k!==null){var G=k.next;k.next=F.next,F.next=G}C.baseQueue=k=F,b.pending=null}if(k!==null){F=k.next,C=C.baseState;var ae=G=null,fe=null,Ee=F;do{var Le=Ee.lane;if((Oc&Le)===Le)fe!==null&&(fe=fe.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),C=Ee.hasEagerState?Ee.eagerState:l(C,Ee.action);else{var $e={lane:Le,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};fe===null?(ae=fe=$e,G=C):fe=fe.next=$e,pn.lanes|=Le,Ic|=Le}Ee=Ee.next}while(Ee!==null&&Ee!==F);fe===null?G=C:fe.next=ae,ge(C,p.memoizedState)||(os=!0),p.memoizedState=C,p.baseState=G,p.baseQueue=fe,b.lastRenderedState=C}if(l=b.interleaved,l!==null){k=l;do F=k.lane,pn.lanes|=F,Ic|=F,k=k.next;while(k!==l)}else k===null&&(b.lanes=0);return[p.memoizedState,b.dispatch]}function Px(l){var p=Ks(),b=p.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=l;var C=b.dispatch,k=b.pending,F=p.memoizedState;if(k!==null){b.pending=null;var G=k=k.next;do F=l(F,G.action),G=G.next;while(G!==k);ge(F,p.memoizedState)||(os=!0),p.memoizedState=F,p.baseQueue===null&&(p.baseState=F),b.lastRenderedState=F}return[F,C]}function gO(){}function yO(l,p){var b=pn,C=Ks(),k=p(),F=!ge(C.memoizedState,k);if(F&&(C.memoizedState=k,os=!0),C=C.queue,jx(wO.bind(null,b,C,l),[l]),C.getSnapshot!==p||F||ai!==null&&ai.memoizedState.tag&1){if(b.flags|=2048,Dh(9,xO.bind(null,b,C,k,p),void 0,null),oi===null)throw Error(r(349));(Oc&30)!==0||vO(b,p,k)}return k}function vO(l,p,b){l.flags|=16384,l={getSnapshot:p,value:b},p=pn.updateQueue,p===null?(p={lastEffect:null,stores:null},pn.updateQueue=p,p.stores=[l]):(b=p.stores,b===null?p.stores=[l]:b.push(l))}function xO(l,p,b,C){p.value=b,p.getSnapshot=C,bO(p)&&_O(l)}function wO(l,p,b){return b(function(){bO(p)&&_O(l)})}function bO(l){var p=l.getSnapshot;l=l.value;try{var b=p();return!ge(l,b)}catch{return!0}}function _O(l){var p=Eo(l,1);p!==null&&ya(p,l,1,-1)}function SO(l){var p=Ga();return typeof l=="function"&&(l=l()),p.memoizedState=p.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mh,lastRenderedState:l},p.queue=l,l=l.dispatch=Tq.bind(null,pn,l),[p.memoizedState,l]}function Dh(l,p,b,C){return l={tag:l,create:p,destroy:b,deps:C,next:null},p=pn.updateQueue,p===null?(p={lastEffect:null,stores:null},pn.updateQueue=p,p.lastEffect=l.next=l):(b=p.lastEffect,b===null?p.lastEffect=l.next=l:(C=b.next,b.next=l,l.next=C,p.lastEffect=l)),l}function EO(){return Ks().memoizedState}function Vg(l,p,b,C){var k=Ga();pn.flags|=l,k.memoizedState=Dh(1|p,b,void 0,C===void 0?null:C)}function qg(l,p,b,C){var k=Ks();C=C===void 0?null:C;var F=void 0;if(Hn!==null){var G=Hn.memoizedState;if(F=G.destroy,C!==null&&Tx(C,G.deps)){k.memoizedState=Dh(p,b,F,C);return}}pn.flags|=l,k.memoizedState=Dh(1|p,b,F,C)}function AO(l,p){return Vg(8390656,8,l,p)}function jx(l,p){return qg(2048,8,l,p)}function CO(l,p){return qg(4,2,l,p)}function TO(l,p){return qg(4,4,l,p)}function NO(l,p){if(typeof p=="function")return l=l(),p(l),function(){p(null)};if(p!=null)return l=l(),p.current=l,function(){p.current=null}}function OO(l,p,b){return b=b!=null?b.concat([l]):null,qg(4,4,NO.bind(null,p,l),b)}function Rx(){}function IO(l,p){var b=Ks();p=p===void 0?null:p;var C=b.memoizedState;return C!==null&&p!==null&&Tx(p,C[1])?C[0]:(b.memoizedState=[l,p],l)}function PO(l,p){var b=Ks();p=p===void 0?null:p;var C=b.memoizedState;return C!==null&&p!==null&&Tx(p,C[1])?C[0]:(l=l(),b.memoizedState=[l,p],l)}function jO(l,p,b){return(Oc&21)===0?(l.baseState&&(l.baseState=!1,os=!0),l.memoizedState=b):(ge(b,p)||(b=Vn(),pn.lanes|=b,Ic|=b,l.baseState=!0),p)}function Aq(l,p){var b=Xt;Xt=b!==0&&4>b?b:4,l(!0);var C=Cx.transition;Cx.transition={};try{l(!1),p()}finally{Xt=b,Cx.transition=C}}function RO(){return Ks().memoizedState}function Cq(l,p,b){var C=Tl(l);if(b={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null},kO(l))MO(p,b);else if(b=dO(l,p,b,C),b!==null){var k=zi();ya(b,l,C,k),DO(b,p,C)}}function Tq(l,p,b){var C=Tl(l),k={lane:C,action:b,hasEagerState:!1,eagerState:null,next:null};if(kO(l))MO(p,k);else{var F=l.alternate;if(l.lanes===0&&(F===null||F.lanes===0)&&(F=p.lastRenderedReducer,F!==null))try{var G=p.lastRenderedState,ae=F(G,b);if(k.hasEagerState=!0,k.eagerState=ae,ge(ae,G)){var fe=p.interleaved;fe===null?(k.next=k,wx(p)):(k.next=fe.next,fe.next=k),p.interleaved=k;return}}catch{}b=dO(l,p,k,C),b!==null&&(k=zi(),ya(b,l,C,k),DO(b,p,C))}}function kO(l){var p=l.alternate;return l===pn||p!==null&&p===pn}function MO(l,p){Rh=Ug=!0;var b=l.pending;b===null?p.next=p:(p.next=b.next,b.next=p),l.pending=p}function DO(l,p,b){if((b&4194240)!==0){var C=p.lanes;C&=l.pendingLanes,b|=C,p.lanes=b,xn(l,b)}}var zg={readContext:Gs,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},Nq={readContext:Gs,useCallback:function(l,p){return Ga().memoizedState=[l,p===void 0?null:p],l},useContext:Gs,useEffect:AO,useImperativeHandle:function(l,p,b){return b=b!=null?b.concat([l]):null,Vg(4194308,4,NO.bind(null,p,l),b)},useLayoutEffect:function(l,p){return Vg(4194308,4,l,p)},useInsertionEffect:function(l,p){return Vg(4,2,l,p)},useMemo:function(l,p){var b=Ga();return p=p===void 0?null:p,l=l(),b.memoizedState=[l,p],l},useReducer:function(l,p,b){var C=Ga();return p=b!==void 0?b(p):p,C.memoizedState=C.baseState=p,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:p},C.queue=l,l=l.dispatch=Cq.bind(null,pn,l),[C.memoizedState,l]},useRef:function(l){var p=Ga();return l={current:l},p.memoizedState=l},useState:SO,useDebugValue:Rx,useDeferredValue:function(l){return Ga().memoizedState=l},useTransition:function(){var l=SO(!1),p=l[0];return l=Aq.bind(null,l[1]),Ga().memoizedState=l,[p,l]},useMutableSource:function(){},useSyncExternalStore:function(l,p,b){var C=pn,k=Ga();if(an){if(b===void 0)throw Error(r(407));b=b()}else{if(b=p(),oi===null)throw Error(r(349));(Oc&30)!==0||vO(C,p,b)}k.memoizedState=b;var F={value:b,getSnapshot:p};return k.queue=F,AO(wO.bind(null,C,F,l),[l]),C.flags|=2048,Dh(9,xO.bind(null,C,F,b,p),void 0,null),b},useId:function(){var l=Ga(),p=oi.identifierPrefix;if(an){var b=So,C=_o;b=(C&~(1<<32-Vi(C)-1)).toString(32)+b,p=":"+p+"R"+b,b=kh++,0<b&&(p+="H"+b.toString(32)),p+=":"}else b=Eq++,p=":"+p+"r"+b.toString(32)+":";return l.memoizedState=p},unstable_isNewReconciler:!1},Oq={readContext:Gs,useCallback:IO,useContext:Gs,useEffect:jx,useImperativeHandle:OO,useInsertionEffect:CO,useLayoutEffect:TO,useMemo:PO,useReducer:Ix,useRef:EO,useState:function(){return Ix(Mh)},useDebugValue:Rx,useDeferredValue:function(l){var p=Ks();return jO(p,Hn.memoizedState,l)},useTransition:function(){var l=Ix(Mh)[0],p=Ks().memoizedState;return[l,p]},useMutableSource:gO,useSyncExternalStore:yO,useId:RO,unstable_isNewReconciler:!1},Iq={readContext:Gs,useCallback:IO,useContext:Gs,useEffect:jx,useImperativeHandle:OO,useInsertionEffect:CO,useLayoutEffect:TO,useMemo:PO,useReducer:Px,useRef:EO,useState:function(){return Px(Mh)},useDebugValue:Rx,useDeferredValue:function(l){var p=Ks();return Hn===null?p.memoizedState=l:jO(p,Hn.memoizedState,l)},useTransition:function(){var l=Px(Mh)[0],p=Ks().memoizedState;return[l,p]},useMutableSource:gO,useSyncExternalStore:yO,useId:RO,unstable_isNewReconciler:!1};function pa(l,p){if(l&&l.defaultProps){p=me({},p),l=l.defaultProps;for(var b in l)p[b]===void 0&&(p[b]=l[b]);return p}return p}function kx(l,p,b,C){p=l.memoizedState,b=b(C,p),b=b==null?p:me({},p,b),l.memoizedState=b,l.lanes===0&&(l.updateQueue.baseState=b)}var Wg={isMounted:function(l){return(l=l._reactInternals)?is(l)===l:!1},enqueueSetState:function(l,p,b){l=l._reactInternals;var C=zi(),k=Tl(l),F=Ao(C,k);F.payload=p,b!=null&&(F.callback=b),p=Sl(l,F,k),p!==null&&(ya(p,l,k,C),Lg(p,l,k))},enqueueReplaceState:function(l,p,b){l=l._reactInternals;var C=zi(),k=Tl(l),F=Ao(C,k);F.tag=1,F.payload=p,b!=null&&(F.callback=b),p=Sl(l,F,k),p!==null&&(ya(p,l,k,C),Lg(p,l,k))},enqueueForceUpdate:function(l,p){l=l._reactInternals;var b=zi(),C=Tl(l),k=Ao(b,C);k.tag=2,p!=null&&(k.callback=p),p=Sl(l,k,C),p!==null&&(ya(p,l,C,b),Lg(p,l,C))}};function LO(l,p,b,C,k,F,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(C,F,G):p.prototype&&p.prototype.isPureReactComponent?!_e(b,C)||!_e(k,F):!0}function BO(l,p,b){var C=!1,k=wl,F=p.contextType;return typeof F=="object"&&F!==null?F=Gs(F):(k=as(p)?Ec:Ri.current,C=p.contextTypes,F=(C=C!=null)?Hu(l,k):wl),p=new p(b,F),l.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Wg,l.stateNode=p,p._reactInternals=l,C&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=k,l.__reactInternalMemoizedMaskedChildContext=F),p}function FO(l,p,b,C){l=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(b,C),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(b,C),p.state!==l&&Wg.enqueueReplaceState(p,p.state,null)}function Mx(l,p,b,C){var k=l.stateNode;k.props=b,k.state=l.memoizedState,k.refs={},bx(l);var F=p.contextType;typeof F=="object"&&F!==null?k.context=Gs(F):(F=as(p)?Ec:Ri.current,k.context=Hu(l,F)),k.state=l.memoizedState,F=p.getDerivedStateFromProps,typeof F=="function"&&(kx(l,p,F,b),k.state=l.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(p=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),p!==k.state&&Wg.enqueueReplaceState(k,k.state,null),Bg(l,b,k,C),k.state=l.memoizedState),typeof k.componentDidMount=="function"&&(l.flags|=4194308)}function ed(l,p){try{var b="",C=p;do b+=nt(C),C=C.return;while(C);var k=b}catch(F){k=`
Error generating stack: `+F.message+`
`+F.stack}return{value:l,source:p,stack:k,digest:null}}function Dx(l,p,b){return{value:l,source:null,stack:b??null,digest:p??null}}function Lx(l,p){try{console.error(p.value)}catch(b){setTimeout(function(){throw b})}}var Pq=typeof WeakMap=="function"?WeakMap:Map;function $O(l,p,b){b=Ao(-1,b),b.tag=3,b.payload={element:null};var C=p.value;return b.callback=function(){Qg||(Qg=!0,Qx=C),Lx(l,p)},b}function UO(l,p,b){b=Ao(-1,b),b.tag=3;var C=l.type.getDerivedStateFromError;if(typeof C=="function"){var k=p.value;b.payload=function(){return C(k)},b.callback=function(){Lx(l,p)}}var F=l.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(b.callback=function(){Lx(l,p),typeof C!="function"&&(Al===null?Al=new Set([this]):Al.add(this));var G=p.stack;this.componentDidCatch(p.value,{componentStack:G!==null?G:""})}),b}function VO(l,p,b){var C=l.pingCache;if(C===null){C=l.pingCache=new Pq;var k=new Set;C.set(p,k)}else k=C.get(p),k===void 0&&(k=new Set,C.set(p,k));k.has(b)||(k.add(b),l=Wq.bind(null,l,p,b),p.then(l,l))}function qO(l){do{var p;if((p=l.tag===13)&&(p=l.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return l;l=l.return}while(l!==null);return null}function zO(l,p,b,C,k){return(l.mode&1)===0?(l===p?l.flags|=65536:(l.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(p=Ao(-1,1),p.tag=2,Sl(b,p,1))),b.lanes|=1),l):(l.flags|=65536,l.lanes=k,l)}var jq=D.ReactCurrentOwner,os=!1;function qi(l,p,b,C){p.child=l===null?uO(p,null,b,C):Yu(p,l.child,b,C)}function WO(l,p,b,C,k){b=b.render;var F=p.ref;return Qu(p,k),C=Nx(l,p,b,C,F,k),b=Ox(),l!==null&&!os?(p.updateQueue=l.updateQueue,p.flags&=-2053,l.lanes&=~k,Co(l,p,k)):(an&&b&&dx(p),p.flags|=1,qi(l,p,C,k),p.child)}function HO(l,p,b,C,k){if(l===null){var F=b.type;return typeof F=="function"&&!sw(F)&&F.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(p.tag=15,p.type=F,GO(l,p,F,C,k)):(l=i0(b.type,null,C,p,p.mode,k),l.ref=p.ref,l.return=p,p.child=l)}if(F=l.child,(l.lanes&k)===0){var G=F.memoizedProps;if(b=b.compare,b=b!==null?b:_e,b(G,C)&&l.ref===p.ref)return Co(l,p,k)}return p.flags|=1,l=Ol(F,C),l.ref=p.ref,l.return=p,p.child=l}function GO(l,p,b,C,k){if(l!==null){var F=l.memoizedProps;if(_e(F,C)&&l.ref===p.ref)if(os=!1,p.pendingProps=C=F,(l.lanes&k)!==0)(l.flags&131072)!==0&&(os=!0);else return p.lanes=l.lanes,Co(l,p,k)}return Bx(l,p,b,C,k)}function KO(l,p,b){var C=p.pendingProps,k=C.children,F=l!==null?l.memoizedState:null;if(C.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},zr(rd,Ss),Ss|=b;else{if((b&1073741824)===0)return l=F!==null?F.baseLanes|b:b,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:l,cachePool:null,transitions:null},p.updateQueue=null,zr(rd,Ss),Ss|=l,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=F!==null?F.baseLanes:b,zr(rd,Ss),Ss|=C}else F!==null?(C=F.baseLanes|b,p.memoizedState=null):C=b,zr(rd,Ss),Ss|=C;return qi(l,p,k,b),p.child}function XO(l,p){var b=p.ref;(l===null&&b!==null||l!==null&&l.ref!==b)&&(p.flags|=512,p.flags|=2097152)}function Bx(l,p,b,C,k){var F=as(b)?Ec:Ri.current;return F=Hu(p,F),Qu(p,k),b=Nx(l,p,b,C,F,k),C=Ox(),l!==null&&!os?(p.updateQueue=l.updateQueue,p.flags&=-2053,l.lanes&=~k,Co(l,p,k)):(an&&C&&dx(p),p.flags|=1,qi(l,p,b,k),p.child)}function YO(l,p,b,C,k){if(as(b)){var F=!0;Og(p)}else F=!1;if(Qu(p,k),p.stateNode===null)Gg(l,p),BO(p,b,C),Mx(p,b,C,k),C=!0;else if(l===null){var G=p.stateNode,ae=p.memoizedProps;G.props=ae;var fe=G.context,Ee=b.contextType;typeof Ee=="object"&&Ee!==null?Ee=Gs(Ee):(Ee=as(b)?Ec:Ri.current,Ee=Hu(p,Ee));var Le=b.getDerivedStateFromProps,$e=typeof Le=="function"||typeof G.getSnapshotBeforeUpdate=="function";$e||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==C||fe!==Ee)&&FO(p,G,C,Ee),_l=!1;var ke=p.memoizedState;G.state=ke,Bg(p,C,G,k),fe=p.memoizedState,ae!==C||ke!==fe||ss.current||_l?(typeof Le=="function"&&(kx(p,b,Le,C),fe=p.memoizedState),(ae=_l||LO(p,b,ae,C,ke,fe,Ee))?($e||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(p.flags|=4194308)):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=C,p.memoizedState=fe),G.props=C,G.state=fe,G.context=Ee,C=ae):(typeof G.componentDidMount=="function"&&(p.flags|=4194308),C=!1)}else{G=p.stateNode,fO(l,p),ae=p.memoizedProps,Ee=p.type===p.elementType?ae:pa(p.type,ae),G.props=Ee,$e=p.pendingProps,ke=G.context,fe=b.contextType,typeof fe=="object"&&fe!==null?fe=Gs(fe):(fe=as(b)?Ec:Ri.current,fe=Hu(p,fe));var ct=b.getDerivedStateFromProps;(Le=typeof ct=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(ae!==$e||ke!==fe)&&FO(p,G,C,fe),_l=!1,ke=p.memoizedState,G.state=ke,Bg(p,C,G,k);var mt=p.memoizedState;ae!==$e||ke!==mt||ss.current||_l?(typeof ct=="function"&&(kx(p,b,ct,C),mt=p.memoizedState),(Ee=_l||LO(p,b,Ee,C,ke,mt,fe)||!1)?(Le||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(C,mt,fe),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(C,mt,fe)),typeof G.componentDidUpdate=="function"&&(p.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof G.componentDidUpdate!="function"||ae===l.memoizedProps&&ke===l.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&ke===l.memoizedState||(p.flags|=1024),p.memoizedProps=C,p.memoizedState=mt),G.props=C,G.state=mt,G.context=fe,C=Ee):(typeof G.componentDidUpdate!="function"||ae===l.memoizedProps&&ke===l.memoizedState||(p.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||ae===l.memoizedProps&&ke===l.memoizedState||(p.flags|=1024),C=!1)}return Fx(l,p,b,C,F,k)}function Fx(l,p,b,C,k,F){XO(l,p);var G=(p.flags&128)!==0;if(!C&&!G)return k&&tO(p,b,!1),Co(l,p,F);C=p.stateNode,jq.current=p;var ae=G&&typeof b.getDerivedStateFromError!="function"?null:C.render();return p.flags|=1,l!==null&&G?(p.child=Yu(p,l.child,null,F),p.child=Yu(p,null,ae,F)):qi(l,p,ae,F),p.memoizedState=C.state,k&&tO(p,b,!0),p.child}function ZO(l){var p=l.stateNode;p.pendingContext?JN(l,p.pendingContext,p.pendingContext!==p.context):p.context&&JN(l,p.context,!1),_x(l,p.containerInfo)}function QO(l,p,b,C,k){return Xu(),mx(k),p.flags|=256,qi(l,p,b,C),p.child}var $x={dehydrated:null,treeContext:null,retryLane:0};function Ux(l){return{baseLanes:l,cachePool:null,transitions:null}}function JO(l,p,b){var C=p.pendingProps,k=hn.current,F=!1,G=(p.flags&128)!==0,ae;if((ae=G)||(ae=l!==null&&l.memoizedState===null?!1:(k&2)!==0),ae?(F=!0,p.flags&=-129):(l===null||l.memoizedState!==null)&&(k|=1),zr(hn,k&1),l===null)return px(p),l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((p.mode&1)===0?p.lanes=1:l.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(G=C.children,l=C.fallback,F?(C=p.mode,F=p.child,G={mode:"hidden",children:G},(C&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=G):F=s0(G,C,0,null),l=kc(l,C,b,null),F.return=p,l.return=p,F.sibling=l,p.child=F,p.child.memoizedState=Ux(b),p.memoizedState=$x,l):Vx(p,G));if(k=l.memoizedState,k!==null&&(ae=k.dehydrated,ae!==null))return Rq(l,p,G,C,ae,k,b);if(F){F=C.fallback,G=p.mode,k=l.child,ae=k.sibling;var fe={mode:"hidden",children:C.children};return(G&1)===0&&p.child!==k?(C=p.child,C.childLanes=0,C.pendingProps=fe,p.deletions=null):(C=Ol(k,fe),C.subtreeFlags=k.subtreeFlags&14680064),ae!==null?F=Ol(ae,F):(F=kc(F,G,b,null),F.flags|=2),F.return=p,C.return=p,C.sibling=F,p.child=C,C=F,F=p.child,G=l.child.memoizedState,G=G===null?Ux(b):{baseLanes:G.baseLanes|b,cachePool:null,transitions:G.transitions},F.memoizedState=G,F.childLanes=l.childLanes&~b,p.memoizedState=$x,C}return F=l.child,l=F.sibling,C=Ol(F,{mode:"visible",children:C.children}),(p.mode&1)===0&&(C.lanes=b),C.return=p,C.sibling=null,l!==null&&(b=p.deletions,b===null?(p.deletions=[l],p.flags|=16):b.push(l)),p.child=C,p.memoizedState=null,C}function Vx(l,p){return p=s0({mode:"visible",children:p},l.mode,0,null),p.return=l,l.child=p}function Hg(l,p,b,C){return C!==null&&mx(C),Yu(p,l.child,null,b),l=Vx(p,p.pendingProps.children),l.flags|=2,p.memoizedState=null,l}function Rq(l,p,b,C,k,F,G){if(b)return p.flags&256?(p.flags&=-257,C=Dx(Error(r(422))),Hg(l,p,G,C)):p.memoizedState!==null?(p.child=l.child,p.flags|=128,null):(F=C.fallback,k=p.mode,C=s0({mode:"visible",children:C.children},k,0,null),F=kc(F,k,G,null),F.flags|=2,C.return=p,F.return=p,C.sibling=F,p.child=C,(p.mode&1)!==0&&Yu(p,l.child,null,G),p.child.memoizedState=Ux(G),p.memoizedState=$x,F);if((p.mode&1)===0)return Hg(l,p,G,null);if(k.data==="$!"){if(C=k.nextSibling&&k.nextSibling.dataset,C)var ae=C.dgst;return C=ae,F=Error(r(419)),C=Dx(F,C,void 0),Hg(l,p,G,C)}if(ae=(G&l.childLanes)!==0,os||ae){if(C=oi,C!==null){switch(G&-G){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=(k&(C.suspendedLanes|G))!==0?0:k,k!==0&&k!==F.retryLane&&(F.retryLane=k,Eo(l,k),ya(C,l,k,-1))}return iw(),C=Dx(Error(r(421))),Hg(l,p,G,C)}return k.data==="$?"?(p.flags|=128,p.child=l.child,p=Hq.bind(null,l),k._reactRetry=p,null):(l=F.treeContext,_s=vl(k.nextSibling),bs=p,an=!0,ha=null,l!==null&&(Ws[Hs++]=_o,Ws[Hs++]=So,Ws[Hs++]=Ac,_o=l.id,So=l.overflow,Ac=p),p=Vx(p,C.children),p.flags|=4096,p)}function eI(l,p,b){l.lanes|=p;var C=l.alternate;C!==null&&(C.lanes|=p),xx(l.return,p,b)}function qx(l,p,b,C,k){var F=l.memoizedState;F===null?l.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:C,tail:b,tailMode:k}:(F.isBackwards=p,F.rendering=null,F.renderingStartTime=0,F.last=C,F.tail=b,F.tailMode=k)}function tI(l,p,b){var C=p.pendingProps,k=C.revealOrder,F=C.tail;if(qi(l,p,C.children,b),C=hn.current,(C&2)!==0)C=C&1|2,p.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=p.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&eI(l,b,p);else if(l.tag===19)eI(l,b,p);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===p)break e;for(;l.sibling===null;){if(l.return===null||l.return===p)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}C&=1}if(zr(hn,C),(p.mode&1)===0)p.memoizedState=null;else switch(k){case"forwards":for(b=p.child,k=null;b!==null;)l=b.alternate,l!==null&&Fg(l)===null&&(k=b),b=b.sibling;b=k,b===null?(k=p.child,p.child=null):(k=b.sibling,b.sibling=null),qx(p,!1,k,b,F);break;case"backwards":for(b=null,k=p.child,p.child=null;k!==null;){if(l=k.alternate,l!==null&&Fg(l)===null){p.child=k;break}l=k.sibling,k.sibling=b,b=k,k=l}qx(p,!0,b,null,F);break;case"together":qx(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Gg(l,p){(p.mode&1)===0&&l!==null&&(l.alternate=null,p.alternate=null,p.flags|=2)}function Co(l,p,b){if(l!==null&&(p.dependencies=l.dependencies),Ic|=p.lanes,(b&p.childLanes)===0)return null;if(l!==null&&p.child!==l.child)throw Error(r(153));if(p.child!==null){for(l=p.child,b=Ol(l,l.pendingProps),p.child=b,b.return=p;l.sibling!==null;)l=l.sibling,b=b.sibling=Ol(l,l.pendingProps),b.return=p;b.sibling=null}return p.child}function kq(l,p,b){switch(p.tag){case 3:ZO(p),Xu();break;case 5:mO(p);break;case 1:as(p.type)&&Og(p);break;case 4:_x(p,p.stateNode.containerInfo);break;case 10:var C=p.type._context,k=p.memoizedProps.value;zr(Mg,C._currentValue),C._currentValue=k;break;case 13:if(C=p.memoizedState,C!==null)return C.dehydrated!==null?(zr(hn,hn.current&1),p.flags|=128,null):(b&p.child.childLanes)!==0?JO(l,p,b):(zr(hn,hn.current&1),l=Co(l,p,b),l!==null?l.sibling:null);zr(hn,hn.current&1);break;case 19:if(C=(b&p.childLanes)!==0,(l.flags&128)!==0){if(C)return tI(l,p,b);p.flags|=128}if(k=p.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),zr(hn,hn.current),C)break;return null;case 22:case 23:return p.lanes=0,KO(l,p,b)}return Co(l,p,b)}var rI,zx,nI,iI;rI=function(l,p){for(var b=p.child;b!==null;){if(b.tag===5||b.tag===6)l.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===p)break;for(;b.sibling===null;){if(b.return===null||b.return===p)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},zx=function(){},nI=function(l,p,b,C){var k=l.memoizedProps;if(k!==C){l=p.stateNode,Nc(Ha.current);var F=null;switch(b){case"input":k=St(l,k),C=St(l,C),F=[];break;case"select":k=me({},k,{value:void 0}),C=me({},C,{value:void 0}),F=[];break;case"textarea":k=le(l,k),C=le(l,C),F=[];break;default:typeof k.onClick!="function"&&typeof C.onClick=="function"&&(l.onclick=Cg)}fr(b,C);var G;b=null;for(Ee in k)if(!C.hasOwnProperty(Ee)&&k.hasOwnProperty(Ee)&&k[Ee]!=null)if(Ee==="style"){var ae=k[Ee];for(G in ae)ae.hasOwnProperty(G)&&(b||(b={}),b[G]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(i.hasOwnProperty(Ee)?F||(F=[]):(F=F||[]).push(Ee,null));for(Ee in C){var fe=C[Ee];if(ae=k?.[Ee],C.hasOwnProperty(Ee)&&fe!==ae&&(fe!=null||ae!=null))if(Ee==="style")if(ae){for(G in ae)!ae.hasOwnProperty(G)||fe&&fe.hasOwnProperty(G)||(b||(b={}),b[G]="");for(G in fe)fe.hasOwnProperty(G)&&ae[G]!==fe[G]&&(b||(b={}),b[G]=fe[G])}else b||(F||(F=[]),F.push(Ee,b)),b=fe;else Ee==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ae=ae?ae.__html:void 0,fe!=null&&ae!==fe&&(F=F||[]).push(Ee,fe)):Ee==="children"?typeof fe!="string"&&typeof fe!="number"||(F=F||[]).push(Ee,""+fe):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ee)?(fe!=null&&Ee==="onScroll"&&Qr("scroll",l),F||ae===fe||(F=[])):(F=F||[]).push(Ee,fe))}b&&(F=F||[]).push("style",b);var Ee=F;(p.updateQueue=Ee)&&(p.flags|=4)}},iI=function(l,p,b,C){b!==C&&(p.flags|=4)};function Lh(l,p){if(!an)switch(l.tailMode){case"hidden":p=l.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?l.tail=null:b.sibling=null;break;case"collapsed":b=l.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?p||l.tail===null?l.tail=null:l.tail.sibling=null:C.sibling=null}}function Mi(l){var p=l.alternate!==null&&l.alternate.child===l.child,b=0,C=0;if(p)for(var k=l.child;k!==null;)b|=k.lanes|k.childLanes,C|=k.subtreeFlags&14680064,C|=k.flags&14680064,k.return=l,k=k.sibling;else for(k=l.child;k!==null;)b|=k.lanes|k.childLanes,C|=k.subtreeFlags,C|=k.flags,k.return=l,k=k.sibling;return l.subtreeFlags|=C,l.childLanes=b,p}function Mq(l,p,b){var C=p.pendingProps;switch(fx(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mi(p),null;case 1:return as(p.type)&&Ng(),Mi(p),null;case 3:return C=p.stateNode,Ju(),Jr(ss),Jr(Ri),Ax(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(l===null||l.child===null)&&(Rg(p)?p.flags|=4:l===null||l.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,ha!==null&&(tw(ha),ha=null))),zx(l,p),Mi(p),null;case 5:Sx(p);var k=Nc(jh.current);if(b=p.type,l!==null&&p.stateNode!=null)nI(l,p,b,C,k),l.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!C){if(p.stateNode===null)throw Error(r(166));return Mi(p),null}if(l=Nc(Ha.current),Rg(p)){C=p.stateNode,b=p.type;var F=p.memoizedProps;switch(C[Wa]=p,C[Th]=F,l=(p.mode&1)!==0,b){case"dialog":Qr("cancel",C),Qr("close",C);break;case"iframe":case"object":case"embed":Qr("load",C);break;case"video":case"audio":for(k=0;k<Eh.length;k++)Qr(Eh[k],C);break;case"source":Qr("error",C);break;case"img":case"image":case"link":Qr("error",C),Qr("load",C);break;case"details":Qr("toggle",C);break;case"input":Oe(C,F),Qr("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!F.multiple},Qr("invalid",C);break;case"textarea":xe(C,F),Qr("invalid",C)}fr(b,F),k=null;for(var G in F)if(F.hasOwnProperty(G)){var ae=F[G];G==="children"?typeof ae=="string"?C.textContent!==ae&&(F.suppressHydrationWarning!==!0&&Ag(C.textContent,ae,l),k=["children",ae]):typeof ae=="number"&&C.textContent!==""+ae&&(F.suppressHydrationWarning!==!0&&Ag(C.textContent,ae,l),k=["children",""+ae]):i.hasOwnProperty(G)&&ae!=null&&G==="onScroll"&&Qr("scroll",C)}switch(b){case"input":Ve(C),Qe(C,F,!0);break;case"textarea":Ve(C),rt(C);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(C.onclick=Cg)}C=k,p.updateQueue=C,C!==null&&(p.flags|=4)}else{G=k.nodeType===9?k:k.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=Ge(b)),l==="http://www.w3.org/1999/xhtml"?b==="script"?(l=G.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof C.is=="string"?l=G.createElement(b,{is:C.is}):(l=G.createElement(b),b==="select"&&(G=l,C.multiple?G.multiple=!0:C.size&&(G.size=C.size))):l=G.createElementNS(l,b),l[Wa]=p,l[Th]=C,rI(l,p,!1,!1),p.stateNode=l;e:{switch(G=Ir(b,C),b){case"dialog":Qr("cancel",l),Qr("close",l),k=C;break;case"iframe":case"object":case"embed":Qr("load",l),k=C;break;case"video":case"audio":for(k=0;k<Eh.length;k++)Qr(Eh[k],l);k=C;break;case"source":Qr("error",l),k=C;break;case"img":case"image":case"link":Qr("error",l),Qr("load",l),k=C;break;case"details":Qr("toggle",l),k=C;break;case"input":Oe(l,C),k=St(l,C),Qr("invalid",l);break;case"option":k=C;break;case"select":l._wrapperState={wasMultiple:!!C.multiple},k=me({},C,{value:void 0}),Qr("invalid",l);break;case"textarea":xe(l,C),k=le(l,C),Qr("invalid",l);break;default:k=C}fr(b,k),ae=k;for(F in ae)if(ae.hasOwnProperty(F)){var fe=ae[F];F==="style"?Ye(l,fe):F==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&It(l,fe)):F==="children"?typeof fe=="string"?(b!=="textarea"||fe!=="")&&Cr(l,fe):typeof fe=="number"&&Cr(l,""+fe):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?fe!=null&&F==="onScroll"&&Qr("scroll",l):fe!=null&&I(l,F,fe,G))}switch(b){case"input":Ve(l),Qe(l,C,!1);break;case"textarea":Ve(l),rt(l);break;case"option":C.value!=null&&l.setAttribute("value",""+Be(C.value));break;case"select":l.multiple=!!C.multiple,F=C.value,F!=null?Fe(l,!!C.multiple,F,!1):C.defaultValue!=null&&Fe(l,!!C.multiple,C.defaultValue,!0);break;default:typeof k.onClick=="function"&&(l.onclick=Cg)}switch(b){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Mi(p),null;case 6:if(l&&p.stateNode!=null)iI(l,p,l.memoizedProps,C);else{if(typeof C!="string"&&p.stateNode===null)throw Error(r(166));if(b=Nc(jh.current),Nc(Ha.current),Rg(p)){if(C=p.stateNode,b=p.memoizedProps,C[Wa]=p,(F=C.nodeValue!==b)&&(l=bs,l!==null))switch(l.tag){case 3:Ag(C.nodeValue,b,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Ag(C.nodeValue,b,(l.mode&1)!==0)}F&&(p.flags|=4)}else C=(b.nodeType===9?b:b.ownerDocument).createTextNode(C),C[Wa]=p,p.stateNode=C}return Mi(p),null;case 13:if(Jr(hn),C=p.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(an&&_s!==null&&(p.mode&1)!==0&&(p.flags&128)===0)oO(),Xu(),p.flags|=98560,F=!1;else if(F=Rg(p),C!==null&&C.dehydrated!==null){if(l===null){if(!F)throw Error(r(318));if(F=p.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(r(317));F[Wa]=p}else Xu(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Mi(p),F=!1}else ha!==null&&(tw(ha),ha=null),F=!0;if(!F)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=b,p):(C=C!==null,C!==(l!==null&&l.memoizedState!==null)&&C&&(p.child.flags|=8192,(p.mode&1)!==0&&(l===null||(hn.current&1)!==0?Gn===0&&(Gn=3):iw())),p.updateQueue!==null&&(p.flags|=4),Mi(p),null);case 4:return Ju(),zx(l,p),l===null&&Ah(p.stateNode.containerInfo),Mi(p),null;case 10:return vx(p.type._context),Mi(p),null;case 17:return as(p.type)&&Ng(),Mi(p),null;case 19:if(Jr(hn),F=p.memoizedState,F===null)return Mi(p),null;if(C=(p.flags&128)!==0,G=F.rendering,G===null)if(C)Lh(F,!1);else{if(Gn!==0||l!==null&&(l.flags&128)!==0)for(l=p.child;l!==null;){if(G=Fg(l),G!==null){for(p.flags|=128,Lh(F,!1),C=G.updateQueue,C!==null&&(p.updateQueue=C,p.flags|=4),p.subtreeFlags=0,C=b,b=p.child;b!==null;)F=b,l=C,F.flags&=14680066,G=F.alternate,G===null?(F.childLanes=0,F.lanes=l,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=G.childLanes,F.lanes=G.lanes,F.child=G.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=G.memoizedProps,F.memoizedState=G.memoizedState,F.updateQueue=G.updateQueue,F.type=G.type,l=G.dependencies,F.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),b=b.sibling;return zr(hn,hn.current&1|2),p.child}l=l.sibling}F.tail!==null&&wr()>nd&&(p.flags|=128,C=!0,Lh(F,!1),p.lanes=4194304)}else{if(!C)if(l=Fg(G),l!==null){if(p.flags|=128,C=!0,b=l.updateQueue,b!==null&&(p.updateQueue=b,p.flags|=4),Lh(F,!0),F.tail===null&&F.tailMode==="hidden"&&!G.alternate&&!an)return Mi(p),null}else 2*wr()-F.renderingStartTime>nd&&b!==1073741824&&(p.flags|=128,C=!0,Lh(F,!1),p.lanes=4194304);F.isBackwards?(G.sibling=p.child,p.child=G):(b=F.last,b!==null?b.sibling=G:p.child=G,F.last=G)}return F.tail!==null?(p=F.tail,F.rendering=p,F.tail=p.sibling,F.renderingStartTime=wr(),p.sibling=null,b=hn.current,zr(hn,C?b&1|2:b&1),p):(Mi(p),null);case 22:case 23:return nw(),C=p.memoizedState!==null,l!==null&&l.memoizedState!==null!==C&&(p.flags|=8192),C&&(p.mode&1)!==0?(Ss&1073741824)!==0&&(Mi(p),p.subtreeFlags&6&&(p.flags|=8192)):Mi(p),null;case 24:return null;case 25:return null}throw Error(r(156,p.tag))}function Dq(l,p){switch(fx(p),p.tag){case 1:return as(p.type)&&Ng(),l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 3:return Ju(),Jr(ss),Jr(Ri),Ax(),l=p.flags,(l&65536)!==0&&(l&128)===0?(p.flags=l&-65537|128,p):null;case 5:return Sx(p),null;case 13:if(Jr(hn),l=p.memoizedState,l!==null&&l.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Xu()}return l=p.flags,l&65536?(p.flags=l&-65537|128,p):null;case 19:return Jr(hn),null;case 4:return Ju(),null;case 10:return vx(p.type._context),null;case 22:case 23:return nw(),null;case 24:return null;default:return null}}var Kg=!1,Di=!1,Lq=typeof WeakSet=="function"?WeakSet:Set,ht=null;function td(l,p){var b=l.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(C){bn(l,p,C)}else b.current=null}function Wx(l,p,b){try{b()}catch(C){bn(l,p,C)}}var sI=!1;function Bq(l,p){if(nx=qa,l=tr(),qt(l)){if("selectionStart"in l)var b={start:l.selectionStart,end:l.selectionEnd};else e:{b=(b=l.ownerDocument)&&b.defaultView||window;var C=b.getSelection&&b.getSelection();if(C&&C.rangeCount!==0){b=C.anchorNode;var k=C.anchorOffset,F=C.focusNode;C=C.focusOffset;try{b.nodeType,F.nodeType}catch{b=null;break e}var G=0,ae=-1,fe=-1,Ee=0,Le=0,$e=l,ke=null;t:for(;;){for(var ct;$e!==b||k!==0&&$e.nodeType!==3||(ae=G+k),$e!==F||C!==0&&$e.nodeType!==3||(fe=G+C),$e.nodeType===3&&(G+=$e.nodeValue.length),(ct=$e.firstChild)!==null;)ke=$e,$e=ct;for(;;){if($e===l)break t;if(ke===b&&++Ee===k&&(ae=G),ke===F&&++Le===C&&(fe=G),(ct=$e.nextSibling)!==null)break;$e=ke,ke=$e.parentNode}$e=ct}b=ae===-1||fe===-1?null:{start:ae,end:fe}}else b=null}b=b||{start:0,end:0}}else b=null;for(ix={focusedElem:l,selectionRange:b},qa=!1,ht=p;ht!==null;)if(p=ht,l=p.child,(p.subtreeFlags&1028)!==0&&l!==null)l.return=p,ht=l;else for(;ht!==null;){p=ht;try{var mt=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var gt=mt.memoizedProps,In=mt.memoizedState,ve=p.stateNode,pe=ve.getSnapshotBeforeUpdate(p.elementType===p.type?gt:pa(p.type,gt),In);ve.__reactInternalSnapshotBeforeUpdate=pe}break;case 3:var we=p.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Xe){bn(p,p.return,Xe)}if(l=p.sibling,l!==null){l.return=p.return,ht=l;break}ht=p.return}return mt=sI,sI=!1,mt}function Bh(l,p,b){var C=p.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var k=C=C.next;do{if((k.tag&l)===l){var F=k.destroy;k.destroy=void 0,F!==void 0&&Wx(p,b,F)}k=k.next}while(k!==C)}}function Xg(l,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var b=p=p.next;do{if((b.tag&l)===l){var C=b.create;b.destroy=C()}b=b.next}while(b!==p)}}function Hx(l){var p=l.ref;if(p!==null){var b=l.stateNode;l.tag,l=b,typeof p=="function"?p(l):p.current=l}}function aI(l){var p=l.alternate;p!==null&&(l.alternate=null,aI(p)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(p=l.stateNode,p!==null&&(delete p[Wa],delete p[Th],delete p[lx],delete p[wq],delete p[bq])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function oI(l){return l.tag===5||l.tag===3||l.tag===4}function lI(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||oI(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Gx(l,p,b){var C=l.tag;if(C===5||C===6)l=l.stateNode,p?b.nodeType===8?b.parentNode.insertBefore(l,p):b.insertBefore(l,p):(b.nodeType===8?(p=b.parentNode,p.insertBefore(l,b)):(p=b,p.appendChild(l)),b=b._reactRootContainer,b!=null||p.onclick!==null||(p.onclick=Cg));else if(C!==4&&(l=l.child,l!==null))for(Gx(l,p,b),l=l.sibling;l!==null;)Gx(l,p,b),l=l.sibling}function Kx(l,p,b){var C=l.tag;if(C===5||C===6)l=l.stateNode,p?b.insertBefore(l,p):b.appendChild(l);else if(C!==4&&(l=l.child,l!==null))for(Kx(l,p,b),l=l.sibling;l!==null;)Kx(l,p,b),l=l.sibling}var wi=null,ma=!1;function El(l,p,b){for(b=b.child;b!==null;)cI(l,p,b),b=b.sibling}function cI(l,p,b){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(ur,b)}catch{}switch(b.tag){case 5:Di||td(b,p);case 6:var C=wi,k=ma;wi=null,El(l,p,b),wi=C,ma=k,wi!==null&&(ma?(l=wi,b=b.stateNode,l.nodeType===8?l.parentNode.removeChild(b):l.removeChild(b)):wi.removeChild(b.stateNode));break;case 18:wi!==null&&(ma?(l=wi,b=b.stateNode,l.nodeType===8?ox(l.parentNode,b):l.nodeType===1&&ox(l,b),ua(l)):ox(wi,b.stateNode));break;case 4:C=wi,k=ma,wi=b.stateNode.containerInfo,ma=!0,El(l,p,b),wi=C,ma=k;break;case 0:case 11:case 14:case 15:if(!Di&&(C=b.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){k=C=C.next;do{var F=k,G=F.destroy;F=F.tag,G!==void 0&&((F&2)!==0||(F&4)!==0)&&Wx(b,p,G),k=k.next}while(k!==C)}El(l,p,b);break;case 1:if(!Di&&(td(b,p),C=b.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=b.memoizedProps,C.state=b.memoizedState,C.componentWillUnmount()}catch(ae){bn(b,p,ae)}El(l,p,b);break;case 21:El(l,p,b);break;case 22:b.mode&1?(Di=(C=Di)||b.memoizedState!==null,El(l,p,b),Di=C):El(l,p,b);break;default:El(l,p,b)}}function uI(l){var p=l.updateQueue;if(p!==null){l.updateQueue=null;var b=l.stateNode;b===null&&(b=l.stateNode=new Lq),p.forEach(function(C){var k=Gq.bind(null,l,C);b.has(C)||(b.add(C),C.then(k,k))})}}function ga(l,p){var b=p.deletions;if(b!==null)for(var C=0;C<b.length;C++){var k=b[C];try{var F=l,G=p,ae=G;e:for(;ae!==null;){switch(ae.tag){case 5:wi=ae.stateNode,ma=!1;break e;case 3:wi=ae.stateNode.containerInfo,ma=!0;break e;case 4:wi=ae.stateNode.containerInfo,ma=!0;break e}ae=ae.return}if(wi===null)throw Error(r(160));cI(F,G,k),wi=null,ma=!1;var fe=k.alternate;fe!==null&&(fe.return=null),k.return=null}catch(Ee){bn(k,p,Ee)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)dI(p,l),p=p.sibling}function dI(l,p){var b=l.alternate,C=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ga(p,l),Ka(l),C&4){try{Bh(3,l,l.return),Xg(3,l)}catch(gt){bn(l,l.return,gt)}try{Bh(5,l,l.return)}catch(gt){bn(l,l.return,gt)}}break;case 1:ga(p,l),Ka(l),C&512&&b!==null&&td(b,b.return);break;case 5:if(ga(p,l),Ka(l),C&512&&b!==null&&td(b,b.return),l.flags&32){var k=l.stateNode;try{Cr(k,"")}catch(gt){bn(l,l.return,gt)}}if(C&4&&(k=l.stateNode,k!=null)){var F=l.memoizedProps,G=b!==null?b.memoizedProps:F,ae=l.type,fe=l.updateQueue;if(l.updateQueue=null,fe!==null)try{ae==="input"&&F.type==="radio"&&F.name!=null&&Ke(k,F),Ir(ae,G);var Ee=Ir(ae,F);for(G=0;G<fe.length;G+=2){var Le=fe[G],$e=fe[G+1];Le==="style"?Ye(k,$e):Le==="dangerouslySetInnerHTML"?It(k,$e):Le==="children"?Cr(k,$e):I(k,Le,$e,Ee)}switch(ae){case"input":ot(k,F);break;case"textarea":Ae(k,F);break;case"select":var ke=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!F.multiple;var ct=F.value;ct!=null?Fe(k,!!F.multiple,ct,!1):ke!==!!F.multiple&&(F.defaultValue!=null?Fe(k,!!F.multiple,F.defaultValue,!0):Fe(k,!!F.multiple,F.multiple?[]:"",!1))}k[Th]=F}catch(gt){bn(l,l.return,gt)}}break;case 6:if(ga(p,l),Ka(l),C&4){if(l.stateNode===null)throw Error(r(162));k=l.stateNode,F=l.memoizedProps;try{k.nodeValue=F}catch(gt){bn(l,l.return,gt)}}break;case 3:if(ga(p,l),Ka(l),C&4&&b!==null&&b.memoizedState.isDehydrated)try{ua(p.containerInfo)}catch(gt){bn(l,l.return,gt)}break;case 4:ga(p,l),Ka(l);break;case 13:ga(p,l),Ka(l),k=l.child,k.flags&8192&&(F=k.memoizedState!==null,k.stateNode.isHidden=F,!F||k.alternate!==null&&k.alternate.memoizedState!==null||(Zx=wr())),C&4&&uI(l);break;case 22:if(Le=b!==null&&b.memoizedState!==null,l.mode&1?(Di=(Ee=Di)||Le,ga(p,l),Di=Ee):ga(p,l),Ka(l),C&8192){if(Ee=l.memoizedState!==null,(l.stateNode.isHidden=Ee)&&!Le&&(l.mode&1)!==0)for(ht=l,Le=l.child;Le!==null;){for($e=ht=Le;ht!==null;){switch(ke=ht,ct=ke.child,ke.tag){case 0:case 11:case 14:case 15:Bh(4,ke,ke.return);break;case 1:td(ke,ke.return);var mt=ke.stateNode;if(typeof mt.componentWillUnmount=="function"){C=ke,b=ke.return;try{p=C,mt.props=p.memoizedProps,mt.state=p.memoizedState,mt.componentWillUnmount()}catch(gt){bn(C,b,gt)}}break;case 5:td(ke,ke.return);break;case 22:if(ke.memoizedState!==null){pI($e);continue}}ct!==null?(ct.return=ke,ht=ct):pI($e)}Le=Le.sibling}e:for(Le=null,$e=l;;){if($e.tag===5){if(Le===null){Le=$e;try{k=$e.stateNode,Ee?(F=k.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(ae=$e.stateNode,fe=$e.memoizedProps.style,G=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ae.style.display=Lr("display",G))}catch(gt){bn(l,l.return,gt)}}}else if($e.tag===6){if(Le===null)try{$e.stateNode.nodeValue=Ee?"":$e.memoizedProps}catch(gt){bn(l,l.return,gt)}}else if(($e.tag!==22&&$e.tag!==23||$e.memoizedState===null||$e===l)&&$e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===l)break e;for(;$e.sibling===null;){if($e.return===null||$e.return===l)break e;Le===$e&&(Le=null),$e=$e.return}Le===$e&&(Le=null),$e.sibling.return=$e.return,$e=$e.sibling}}break;case 19:ga(p,l),Ka(l),C&4&&uI(l);break;case 21:break;default:ga(p,l),Ka(l)}}function Ka(l){var p=l.flags;if(p&2){try{e:{for(var b=l.return;b!==null;){if(oI(b)){var C=b;break e}b=b.return}throw Error(r(160))}switch(C.tag){case 5:var k=C.stateNode;C.flags&32&&(Cr(k,""),C.flags&=-33);var F=lI(l);Kx(l,F,k);break;case 3:case 4:var G=C.stateNode.containerInfo,ae=lI(l);Gx(l,ae,G);break;default:throw Error(r(161))}}catch(fe){bn(l,l.return,fe)}l.flags&=-3}p&4096&&(l.flags&=-4097)}function Fq(l,p,b){ht=l,fI(l)}function fI(l,p,b){for(var C=(l.mode&1)!==0;ht!==null;){var k=ht,F=k.child;if(k.tag===22&&C){var G=k.memoizedState!==null||Kg;if(!G){var ae=k.alternate,fe=ae!==null&&ae.memoizedState!==null||Di;ae=Kg;var Ee=Di;if(Kg=G,(Di=fe)&&!Ee)for(ht=k;ht!==null;)G=ht,fe=G.child,G.tag===22&&G.memoizedState!==null?mI(k):fe!==null?(fe.return=G,ht=fe):mI(k);for(;F!==null;)ht=F,fI(F),F=F.sibling;ht=k,Kg=ae,Di=Ee}hI(l)}else(k.subtreeFlags&8772)!==0&&F!==null?(F.return=k,ht=F):hI(l)}}function hI(l){for(;ht!==null;){var p=ht;if((p.flags&8772)!==0){var b=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Di||Xg(5,p);break;case 1:var C=p.stateNode;if(p.flags&4&&!Di)if(b===null)C.componentDidMount();else{var k=p.elementType===p.type?b.memoizedProps:pa(p.type,b.memoizedProps);C.componentDidUpdate(k,b.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var F=p.updateQueue;F!==null&&pO(p,F,C);break;case 3:var G=p.updateQueue;if(G!==null){if(b=null,p.child!==null)switch(p.child.tag){case 5:b=p.child.stateNode;break;case 1:b=p.child.stateNode}pO(p,G,b)}break;case 5:var ae=p.stateNode;if(b===null&&p.flags&4){b=ae;var fe=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&b.focus();break;case"img":fe.src&&(b.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var Ee=p.alternate;if(Ee!==null){var Le=Ee.memoizedState;if(Le!==null){var $e=Le.dehydrated;$e!==null&&ua($e)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Di||p.flags&512&&Hx(p)}catch(ke){bn(p,p.return,ke)}}if(p===l){ht=null;break}if(b=p.sibling,b!==null){b.return=p.return,ht=b;break}ht=p.return}}function pI(l){for(;ht!==null;){var p=ht;if(p===l){ht=null;break}var b=p.sibling;if(b!==null){b.return=p.return,ht=b;break}ht=p.return}}function mI(l){for(;ht!==null;){var p=ht;try{switch(p.tag){case 0:case 11:case 15:var b=p.return;try{Xg(4,p)}catch(fe){bn(p,b,fe)}break;case 1:var C=p.stateNode;if(typeof C.componentDidMount=="function"){var k=p.return;try{C.componentDidMount()}catch(fe){bn(p,k,fe)}}var F=p.return;try{Hx(p)}catch(fe){bn(p,F,fe)}break;case 5:var G=p.return;try{Hx(p)}catch(fe){bn(p,G,fe)}}}catch(fe){bn(p,p.return,fe)}if(p===l){ht=null;break}var ae=p.sibling;if(ae!==null){ae.return=p.return,ht=ae;break}ht=p.return}}var $q=Math.ceil,Yg=D.ReactCurrentDispatcher,Xx=D.ReactCurrentOwner,Xs=D.ReactCurrentBatchConfig,mr=0,oi=null,Mn=null,bi=0,Ss=0,rd=xl(0),Gn=0,Fh=null,Ic=0,Zg=0,Yx=0,$h=null,ls=null,Zx=0,nd=1/0,To=null,Qg=!1,Qx=null,Al=null,Jg=!1,Cl=null,e0=0,Uh=0,Jx=null,t0=-1,r0=0;function zi(){return(mr&6)!==0?wr():t0!==-1?t0:t0=wr()}function Tl(l){return(l.mode&1)===0?1:(mr&2)!==0&&bi!==0?bi&-bi:Sq.transition!==null?(r0===0&&(r0=Vn()),r0):(l=Xt,l!==0||(l=window.event,l=l===void 0?16:ph(l.type)),l)}function ya(l,p,b,C){if(50<Uh)throw Uh=0,Jx=null,Error(r(185));ee(l,b,C),((mr&2)===0||l!==oi)&&(l===oi&&((mr&2)===0&&(Zg|=b),Gn===4&&Nl(l,bi)),cs(l,C),b===1&&mr===0&&(p.mode&1)===0&&(nd=wr()+500,Ig&&bl()))}function cs(l,p){var b=l.callbackNode;ll(l,p);var C=ys(l,l===oi?bi:0);if(C===0)b!==null&&ii(b),l.callbackNode=null,l.callbackPriority=0;else if(p=C&-C,l.callbackPriority!==p){if(b!=null&&ii(b),p===1)l.tag===0?_q(yI.bind(null,l)):rO(yI.bind(null,l)),vq(function(){(mr&6)===0&&bl()}),b=null;else{switch(dg(C)){case 1:b=Re;break;case 4:b=cg;break;case 16:b=Br;break;case 536870912:b=ug;break;default:b=Br}b=AI(b,gI.bind(null,l))}l.callbackPriority=p,l.callbackNode=b}}function gI(l,p){if(t0=-1,r0=0,(mr&6)!==0)throw Error(r(327));var b=l.callbackNode;if(id()&&l.callbackNode!==b)return null;var C=ys(l,l===oi?bi:0);if(C===0)return null;if((C&30)!==0||(C&l.expiredLanes)!==0||p)p=n0(l,C);else{p=C;var k=mr;mr|=2;var F=xI();(oi!==l||bi!==p)&&(To=null,nd=wr()+500,jc(l,p));do try{qq();break}catch(ae){vI(l,ae)}while(!0);yx(),Yg.current=F,mr=k,Mn!==null?p=0:(oi=null,bi=0,p=Gn)}if(p!==0){if(p===2&&(k=br(l),k!==0&&(C=k,p=ew(l,k))),p===1)throw b=Fh,jc(l,0),Nl(l,C),cs(l,wr()),b;if(p===6)Nl(l,C);else{if(k=l.current.alternate,(C&30)===0&&!Uq(k)&&(p=n0(l,C),p===2&&(F=br(l),F!==0&&(C=F,p=ew(l,F))),p===1))throw b=Fh,jc(l,0),Nl(l,C),cs(l,wr()),b;switch(l.finishedWork=k,l.finishedLanes=C,p){case 0:case 1:throw Error(r(345));case 2:Rc(l,ls,To);break;case 3:if(Nl(l,C),(C&130023424)===C&&(p=Zx+500-wr(),10<p)){if(ys(l,0)!==0)break;if(k=l.suspendedLanes,(k&C)!==C){zi(),l.pingedLanes|=l.suspendedLanes&k;break}l.timeoutHandle=ax(Rc.bind(null,l,ls,To),p);break}Rc(l,ls,To);break;case 4:if(Nl(l,C),(C&4194240)===C)break;for(p=l.eventTimes,k=-1;0<C;){var G=31-Vi(C);F=1<<G,G=p[G],G>k&&(k=G),C&=~F}if(C=k,C=wr()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*$q(C/1960))-C,10<C){l.timeoutHandle=ax(Rc.bind(null,l,ls,To),C);break}Rc(l,ls,To);break;case 5:Rc(l,ls,To);break;default:throw Error(r(329))}}}return cs(l,wr()),l.callbackNode===b?gI.bind(null,l):null}function ew(l,p){var b=$h;return l.current.memoizedState.isDehydrated&&(jc(l,p).flags|=256),l=n0(l,p),l!==2&&(p=ls,ls=b,p!==null&&tw(p)),l}function tw(l){ls===null?ls=l:ls.push.apply(ls,l)}function Uq(l){for(var p=l;;){if(p.flags&16384){var b=p.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var C=0;C<b.length;C++){var k=b[C],F=k.getSnapshot;k=k.value;try{if(!ge(F(),k))return!1}catch{return!1}}}if(b=p.child,p.subtreeFlags&16384&&b!==null)b.return=p,p=b;else{if(p===l)break;for(;p.sibling===null;){if(p.return===null||p.return===l)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Nl(l,p){for(p&=~Yx,p&=~Zg,l.suspendedLanes|=p,l.pingedLanes&=~p,l=l.expirationTimes;0<p;){var b=31-Vi(p),C=1<<b;l[b]=-1,p&=~C}}function yI(l){if((mr&6)!==0)throw Error(r(327));id();var p=ys(l,0);if((p&1)===0)return cs(l,wr()),null;var b=n0(l,p);if(l.tag!==0&&b===2){var C=br(l);C!==0&&(p=C,b=ew(l,C))}if(b===1)throw b=Fh,jc(l,0),Nl(l,p),cs(l,wr()),b;if(b===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=p,Rc(l,ls,To),cs(l,wr()),null}function rw(l,p){var b=mr;mr|=1;try{return l(p)}finally{mr=b,mr===0&&(nd=wr()+500,Ig&&bl())}}function Pc(l){Cl!==null&&Cl.tag===0&&(mr&6)===0&&id();var p=mr;mr|=1;var b=Xs.transition,C=Xt;try{if(Xs.transition=null,Xt=1,l)return l()}finally{Xt=C,Xs.transition=b,mr=p,(mr&6)===0&&bl()}}function nw(){Ss=rd.current,Jr(rd)}function jc(l,p){l.finishedWork=null,l.finishedLanes=0;var b=l.timeoutHandle;if(b!==-1&&(l.timeoutHandle=-1,yq(b)),Mn!==null)for(b=Mn.return;b!==null;){var C=b;switch(fx(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&Ng();break;case 3:Ju(),Jr(ss),Jr(Ri),Ax();break;case 5:Sx(C);break;case 4:Ju();break;case 13:Jr(hn);break;case 19:Jr(hn);break;case 10:vx(C.type._context);break;case 22:case 23:nw()}b=b.return}if(oi=l,Mn=l=Ol(l.current,null),bi=Ss=p,Gn=0,Fh=null,Yx=Zg=Ic=0,ls=$h=null,Tc!==null){for(p=0;p<Tc.length;p++)if(b=Tc[p],C=b.interleaved,C!==null){b.interleaved=null;var k=C.next,F=b.pending;if(F!==null){var G=F.next;F.next=k,C.next=G}b.pending=C}Tc=null}return l}function vI(l,p){do{var b=Mn;try{if(yx(),$g.current=zg,Ug){for(var C=pn.memoizedState;C!==null;){var k=C.queue;k!==null&&(k.pending=null),C=C.next}Ug=!1}if(Oc=0,ai=Hn=pn=null,Rh=!1,kh=0,Xx.current=null,b===null||b.return===null){Gn=1,Fh=p,Mn=null;break}e:{var F=l,G=b.return,ae=b,fe=p;if(p=bi,ae.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ee=fe,Le=ae,$e=Le.tag;if((Le.mode&1)===0&&($e===0||$e===11||$e===15)){var ke=Le.alternate;ke?(Le.updateQueue=ke.updateQueue,Le.memoizedState=ke.memoizedState,Le.lanes=ke.lanes):(Le.updateQueue=null,Le.memoizedState=null)}var ct=qO(G);if(ct!==null){ct.flags&=-257,zO(ct,G,ae,F,p),ct.mode&1&&VO(F,Ee,p),p=ct,fe=Ee;var mt=p.updateQueue;if(mt===null){var gt=new Set;gt.add(fe),p.updateQueue=gt}else mt.add(fe);break e}else{if((p&1)===0){VO(F,Ee,p),iw();break e}fe=Error(r(426))}}else if(an&&ae.mode&1){var In=qO(G);if(In!==null){(In.flags&65536)===0&&(In.flags|=256),zO(In,G,ae,F,p),mx(ed(fe,ae));break e}}F=fe=ed(fe,ae),Gn!==4&&(Gn=2),$h===null?$h=[F]:$h.push(F),F=G;do{switch(F.tag){case 3:F.flags|=65536,p&=-p,F.lanes|=p;var ve=$O(F,fe,p);hO(F,ve);break e;case 1:ae=fe;var pe=F.type,we=F.stateNode;if((F.flags&128)===0&&(typeof pe.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(Al===null||!Al.has(we)))){F.flags|=65536,p&=-p,F.lanes|=p;var Xe=UO(F,ae,p);hO(F,Xe);break e}}F=F.return}while(F!==null)}bI(b)}catch(vt){p=vt,Mn===b&&b!==null&&(Mn=b=b.return);continue}break}while(!0)}function xI(){var l=Yg.current;return Yg.current=zg,l===null?zg:l}function iw(){(Gn===0||Gn===3||Gn===2)&&(Gn=4),oi===null||(Ic&268435455)===0&&(Zg&268435455)===0||Nl(oi,bi)}function n0(l,p){var b=mr;mr|=2;var C=xI();(oi!==l||bi!==p)&&(To=null,jc(l,p));do try{Vq();break}catch(k){vI(l,k)}while(!0);if(yx(),mr=b,Yg.current=C,Mn!==null)throw Error(r(261));return oi=null,bi=0,Gn}function Vq(){for(;Mn!==null;)wI(Mn)}function qq(){for(;Mn!==null&&!Ur();)wI(Mn)}function wI(l){var p=EI(l.alternate,l,Ss);l.memoizedProps=l.pendingProps,p===null?bI(l):Mn=p,Xx.current=null}function bI(l){var p=l;do{var b=p.alternate;if(l=p.return,(p.flags&32768)===0){if(b=Mq(b,p,Ss),b!==null){Mn=b;return}}else{if(b=Dq(b,p),b!==null){b.flags&=32767,Mn=b;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{Gn=6,Mn=null;return}}if(p=p.sibling,p!==null){Mn=p;return}Mn=p=l}while(p!==null);Gn===0&&(Gn=5)}function Rc(l,p,b){var C=Xt,k=Xs.transition;try{Xs.transition=null,Xt=1,zq(l,p,b,C)}finally{Xs.transition=k,Xt=C}return null}function zq(l,p,b,C){do id();while(Cl!==null);if((mr&6)!==0)throw Error(r(327));b=l.finishedWork;var k=l.finishedLanes;if(b===null)return null;if(l.finishedWork=null,l.finishedLanes=0,b===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var F=b.lanes|b.childLanes;if(bt(l,F),l===oi&&(Mn=oi=null,bi=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Jg||(Jg=!0,AI(Br,function(){return id(),null})),F=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||F){F=Xs.transition,Xs.transition=null;var G=Xt;Xt=1;var ae=mr;mr|=4,Xx.current=null,Bq(l,b),dI(b,l),ji(ix),qa=!!nx,ix=nx=null,l.current=b,Fq(b),lg(),mr=ae,Xt=G,Xs.transition=F}else l.current=b;if(Jg&&(Jg=!1,Cl=l,e0=k),F=l.pendingLanes,F===0&&(Al=null),sr(b.stateNode),cs(l,wr()),p!==null)for(C=l.onRecoverableError,b=0;b<p.length;b++)k=p[b],C(k.value,{componentStack:k.stack,digest:k.digest});if(Qg)throw Qg=!1,l=Qx,Qx=null,l;return(e0&1)!==0&&l.tag!==0&&id(),F=l.pendingLanes,(F&1)!==0?l===Jx?Uh++:(Uh=0,Jx=l):Uh=0,bl(),null}function id(){if(Cl!==null){var l=dg(e0),p=Xs.transition,b=Xt;try{if(Xs.transition=null,Xt=16>l?16:l,Cl===null)var C=!1;else{if(l=Cl,Cl=null,e0=0,(mr&6)!==0)throw Error(r(331));var k=mr;for(mr|=4,ht=l.current;ht!==null;){var F=ht,G=F.child;if((ht.flags&16)!==0){var ae=F.deletions;if(ae!==null){for(var fe=0;fe<ae.length;fe++){var Ee=ae[fe];for(ht=Ee;ht!==null;){var Le=ht;switch(Le.tag){case 0:case 11:case 15:Bh(8,Le,F)}var $e=Le.child;if($e!==null)$e.return=Le,ht=$e;else for(;ht!==null;){Le=ht;var ke=Le.sibling,ct=Le.return;if(aI(Le),Le===Ee){ht=null;break}if(ke!==null){ke.return=ct,ht=ke;break}ht=ct}}}var mt=F.alternate;if(mt!==null){var gt=mt.child;if(gt!==null){mt.child=null;do{var In=gt.sibling;gt.sibling=null,gt=In}while(gt!==null)}}ht=F}}if((F.subtreeFlags&2064)!==0&&G!==null)G.return=F,ht=G;else e:for(;ht!==null;){if(F=ht,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:Bh(9,F,F.return)}var ve=F.sibling;if(ve!==null){ve.return=F.return,ht=ve;break e}ht=F.return}}var pe=l.current;for(ht=pe;ht!==null;){G=ht;var we=G.child;if((G.subtreeFlags&2064)!==0&&we!==null)we.return=G,ht=we;else e:for(G=pe;ht!==null;){if(ae=ht,(ae.flags&2048)!==0)try{switch(ae.tag){case 0:case 11:case 15:Xg(9,ae)}}catch(vt){bn(ae,ae.return,vt)}if(ae===G){ht=null;break e}var Xe=ae.sibling;if(Xe!==null){Xe.return=ae.return,ht=Xe;break e}ht=ae.return}}if(mr=k,bl(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(ur,l)}catch{}C=!0}return C}finally{Xt=b,Xs.transition=p}}return!1}function _I(l,p,b){p=ed(b,p),p=$O(l,p,1),l=Sl(l,p,1),p=zi(),l!==null&&(ee(l,1,p),cs(l,p))}function bn(l,p,b){if(l.tag===3)_I(l,l,b);else for(;p!==null;){if(p.tag===3){_I(p,l,b);break}else if(p.tag===1){var C=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(Al===null||!Al.has(C))){l=ed(b,l),l=UO(p,l,1),p=Sl(p,l,1),l=zi(),p!==null&&(ee(p,1,l),cs(p,l));break}}p=p.return}}function Wq(l,p,b){var C=l.pingCache;C!==null&&C.delete(p),p=zi(),l.pingedLanes|=l.suspendedLanes&b,oi===l&&(bi&b)===b&&(Gn===4||Gn===3&&(bi&130023424)===bi&&500>wr()-Zx?jc(l,0):Yx|=b),cs(l,p)}function SI(l,p){p===0&&((l.mode&1)===0?p=1:(p=ku,ku<<=1,(ku&130023424)===0&&(ku=4194304)));var b=zi();l=Eo(l,p),l!==null&&(ee(l,p,b),cs(l,b))}function Hq(l){var p=l.memoizedState,b=0;p!==null&&(b=p.retryLane),SI(l,b)}function Gq(l,p){var b=0;switch(l.tag){case 13:var C=l.stateNode,k=l.memoizedState;k!==null&&(b=k.retryLane);break;case 19:C=l.stateNode;break;default:throw Error(r(314))}C!==null&&C.delete(p),SI(l,b)}var EI;EI=function(l,p,b){if(l!==null)if(l.memoizedProps!==p.pendingProps||ss.current)os=!0;else{if((l.lanes&b)===0&&(p.flags&128)===0)return os=!1,kq(l,p,b);os=(l.flags&131072)!==0}else os=!1,an&&(p.flags&1048576)!==0&&nO(p,jg,p.index);switch(p.lanes=0,p.tag){case 2:var C=p.type;Gg(l,p),l=p.pendingProps;var k=Hu(p,Ri.current);Qu(p,b),k=Nx(null,p,C,l,k,b);var F=Ox();return p.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,as(C)?(F=!0,Og(p)):F=!1,p.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,bx(p),k.updater=Wg,p.stateNode=k,k._reactInternals=p,Mx(p,C,l,b),p=Fx(null,p,C,!0,F,b)):(p.tag=0,an&&F&&dx(p),qi(null,p,k,b),p=p.child),p;case 16:C=p.elementType;e:{switch(Gg(l,p),l=p.pendingProps,k=C._init,C=k(C._payload),p.type=C,k=p.tag=Xq(C),l=pa(C,l),k){case 0:p=Bx(null,p,C,l,b);break e;case 1:p=YO(null,p,C,l,b);break e;case 11:p=WO(null,p,C,l,b);break e;case 14:p=HO(null,p,C,pa(C.type,l),b);break e}throw Error(r(306,C,""))}return p;case 0:return C=p.type,k=p.pendingProps,k=p.elementType===C?k:pa(C,k),Bx(l,p,C,k,b);case 1:return C=p.type,k=p.pendingProps,k=p.elementType===C?k:pa(C,k),YO(l,p,C,k,b);case 3:e:{if(ZO(p),l===null)throw Error(r(387));C=p.pendingProps,F=p.memoizedState,k=F.element,fO(l,p),Bg(p,C,null,b);var G=p.memoizedState;if(C=G.element,F.isDehydrated)if(F={element:C,isDehydrated:!1,cache:G.cache,pendingSuspenseBoundaries:G.pendingSuspenseBoundaries,transitions:G.transitions},p.updateQueue.baseState=F,p.memoizedState=F,p.flags&256){k=ed(Error(r(423)),p),p=QO(l,p,C,b,k);break e}else if(C!==k){k=ed(Error(r(424)),p),p=QO(l,p,C,b,k);break e}else for(_s=vl(p.stateNode.containerInfo.firstChild),bs=p,an=!0,ha=null,b=uO(p,null,C,b),p.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Xu(),C===k){p=Co(l,p,b);break e}qi(l,p,C,b)}p=p.child}return p;case 5:return mO(p),l===null&&px(p),C=p.type,k=p.pendingProps,F=l!==null?l.memoizedProps:null,G=k.children,sx(C,k)?G=null:F!==null&&sx(C,F)&&(p.flags|=32),XO(l,p),qi(l,p,G,b),p.child;case 6:return l===null&&px(p),null;case 13:return JO(l,p,b);case 4:return _x(p,p.stateNode.containerInfo),C=p.pendingProps,l===null?p.child=Yu(p,null,C,b):qi(l,p,C,b),p.child;case 11:return C=p.type,k=p.pendingProps,k=p.elementType===C?k:pa(C,k),WO(l,p,C,k,b);case 7:return qi(l,p,p.pendingProps,b),p.child;case 8:return qi(l,p,p.pendingProps.children,b),p.child;case 12:return qi(l,p,p.pendingProps.children,b),p.child;case 10:e:{if(C=p.type._context,k=p.pendingProps,F=p.memoizedProps,G=k.value,zr(Mg,C._currentValue),C._currentValue=G,F!==null)if(ge(F.value,G)){if(F.children===k.children&&!ss.current){p=Co(l,p,b);break e}}else for(F=p.child,F!==null&&(F.return=p);F!==null;){var ae=F.dependencies;if(ae!==null){G=F.child;for(var fe=ae.firstContext;fe!==null;){if(fe.context===C){if(F.tag===1){fe=Ao(-1,b&-b),fe.tag=2;var Ee=F.updateQueue;if(Ee!==null){Ee=Ee.shared;var Le=Ee.pending;Le===null?fe.next=fe:(fe.next=Le.next,Le.next=fe),Ee.pending=fe}}F.lanes|=b,fe=F.alternate,fe!==null&&(fe.lanes|=b),xx(F.return,b,p),ae.lanes|=b;break}fe=fe.next}}else if(F.tag===10)G=F.type===p.type?null:F.child;else if(F.tag===18){if(G=F.return,G===null)throw Error(r(341));G.lanes|=b,ae=G.alternate,ae!==null&&(ae.lanes|=b),xx(G,b,p),G=F.sibling}else G=F.child;if(G!==null)G.return=F;else for(G=F;G!==null;){if(G===p){G=null;break}if(F=G.sibling,F!==null){F.return=G.return,G=F;break}G=G.return}F=G}qi(l,p,k.children,b),p=p.child}return p;case 9:return k=p.type,C=p.pendingProps.children,Qu(p,b),k=Gs(k),C=C(k),p.flags|=1,qi(l,p,C,b),p.child;case 14:return C=p.type,k=pa(C,p.pendingProps),k=pa(C.type,k),HO(l,p,C,k,b);case 15:return GO(l,p,p.type,p.pendingProps,b);case 17:return C=p.type,k=p.pendingProps,k=p.elementType===C?k:pa(C,k),Gg(l,p),p.tag=1,as(C)?(l=!0,Og(p)):l=!1,Qu(p,b),BO(p,C,k),Mx(p,C,k,b),Fx(null,p,C,!0,l,b);case 19:return tI(l,p,b);case 22:return KO(l,p,b)}throw Error(r(156,p.tag))};function AI(l,p){return ms(l,p)}function Kq(l,p,b,C){this.tag=l,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(l,p,b,C){return new Kq(l,p,b,C)}function sw(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Xq(l){if(typeof l=="function")return sw(l)?1:0;if(l!=null){if(l=l.$$typeof,l===W)return 11;if(l===Y)return 14}return 2}function Ol(l,p){var b=l.alternate;return b===null?(b=Ys(l.tag,p,l.key,l.mode),b.elementType=l.elementType,b.type=l.type,b.stateNode=l.stateNode,b.alternate=l,l.alternate=b):(b.pendingProps=p,b.type=l.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=l.flags&14680064,b.childLanes=l.childLanes,b.lanes=l.lanes,b.child=l.child,b.memoizedProps=l.memoizedProps,b.memoizedState=l.memoizedState,b.updateQueue=l.updateQueue,p=l.dependencies,b.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},b.sibling=l.sibling,b.index=l.index,b.ref=l.ref,b}function i0(l,p,b,C,k,F){var G=2;if(C=l,typeof l=="function")sw(l)&&(G=1);else if(typeof l=="string")G=5;else e:switch(l){case B:return kc(b.children,k,F,p);case z:G=8,k|=8;break;case H:return l=Ys(12,b,p,k|2),l.elementType=H,l.lanes=F,l;case Z:return l=Ys(13,b,p,k),l.elementType=Z,l.lanes=F,l;case Q:return l=Ys(19,b,p,k),l.elementType=Q,l.lanes=F,l;case te:return s0(b,k,F,p);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case ce:G=10;break e;case K:G=9;break e;case W:G=11;break e;case Y:G=14;break e;case J:G=16,C=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return p=Ys(G,b,p,k),p.elementType=l,p.type=C,p.lanes=F,p}function kc(l,p,b,C){return l=Ys(7,l,C,p),l.lanes=b,l}function s0(l,p,b,C){return l=Ys(22,l,C,p),l.elementType=te,l.lanes=b,l.stateNode={isHidden:!1},l}function aw(l,p,b){return l=Ys(6,l,null,p),l.lanes=b,l}function ow(l,p,b){return p=Ys(4,l.children!==null?l.children:[],l.key,p),p.lanes=b,p.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},p}function Yq(l,p,b,C,k){this.tag=p,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ye(0),this.expirationTimes=ye(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ye(0),this.identifierPrefix=C,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function lw(l,p,b,C,k,F,G,ae,fe){return l=new Yq(l,p,b,ae,fe),p===1?(p=1,F===!0&&(p|=8)):p=0,F=Ys(3,null,null,p),l.current=F,F.stateNode=l,F.memoizedState={element:C,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},bx(F),l}function Zq(l,p,b){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:C==null?null:""+C,children:l,containerInfo:p,implementation:b}}function CI(l){if(!l)return wl;l=l._reactInternals;e:{if(is(l)!==l||l.tag!==1)throw Error(r(170));var p=l;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(as(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(r(171))}if(l.tag===1){var b=l.type;if(as(b))return eO(l,b,p)}return p}function TI(l,p,b,C,k,F,G,ae,fe){return l=lw(b,C,!0,l,k,F,G,ae,fe),l.context=CI(null),b=l.current,C=zi(),k=Tl(b),F=Ao(C,k),F.callback=p??null,Sl(b,F,k),l.current.lanes=k,ee(l,k,C),cs(l,C),l}function a0(l,p,b,C){var k=p.current,F=zi(),G=Tl(k);return b=CI(b),p.context===null?p.context=b:p.pendingContext=b,p=Ao(F,G),p.payload={element:l},C=C===void 0?null:C,C!==null&&(p.callback=C),l=Sl(k,p,G),l!==null&&(ya(l,k,G,F),Lg(l,k,G)),G}function o0(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function NI(l,p){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var b=l.retryLane;l.retryLane=b!==0&&b<p?b:p}}function cw(l,p){NI(l,p),(l=l.alternate)&&NI(l,p)}function Qq(){return null}var OI=typeof reportError=="function"?reportError:function(l){console.error(l)};function uw(l){this._internalRoot=l}l0.prototype.render=uw.prototype.render=function(l){var p=this._internalRoot;if(p===null)throw Error(r(409));a0(l,p,null,null)},l0.prototype.unmount=uw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var p=l.containerInfo;Pc(function(){a0(null,l,null,null)}),p[wo]=null}};function l0(l){this._internalRoot=l}l0.prototype.unstable_scheduleHydration=function(l){if(l){var p=Vr();l={blockedOn:null,target:l,priority:p};for(var b=0;b<yi.length&&p!==0&&p<yi[b].priority;b++);yi.splice(b,0,l),b===0&&hg(l)}};function dw(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function c0(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function II(){}function Jq(l,p,b,C,k){if(k){if(typeof C=="function"){var F=C;C=function(){var Ee=o0(G);F.call(Ee)}}var G=TI(p,C,l,0,null,!1,!1,"",II);return l._reactRootContainer=G,l[wo]=G.current,Ah(l.nodeType===8?l.parentNode:l),Pc(),G}for(;k=l.lastChild;)l.removeChild(k);if(typeof C=="function"){var ae=C;C=function(){var Ee=o0(fe);ae.call(Ee)}}var fe=lw(l,0,!1,null,null,!1,!1,"",II);return l._reactRootContainer=fe,l[wo]=fe.current,Ah(l.nodeType===8?l.parentNode:l),Pc(function(){a0(p,fe,b,C)}),fe}function u0(l,p,b,C,k){var F=b._reactRootContainer;if(F){var G=F;if(typeof k=="function"){var ae=k;k=function(){var fe=o0(G);ae.call(fe)}}a0(p,G,l,k)}else G=Jq(b,p,l,k,C);return o0(G)}Mu=function(l){switch(l.tag){case 3:var p=l.stateNode;if(p.current.memoizedState.isDehydrated){var b=Fr(p.pendingLanes);b!==0&&(xn(p,b|1),cs(p,wr()),(mr&6)===0&&(nd=wr()+500,bl()))}break;case 13:Pc(function(){var C=Eo(l,1);if(C!==null){var k=zi();ya(C,l,1,k)}}),cw(l,1)}},Pi=function(l){if(l.tag===13){var p=Eo(l,134217728);if(p!==null){var b=zi();ya(p,l,134217728,b)}cw(l,134217728)}},At=function(l){if(l.tag===13){var p=Tl(l),b=Eo(l,p);if(b!==null){var C=zi();ya(b,l,p,C)}cw(l,p)}},Vr=function(){return Xt},dh=function(l,p){var b=Xt;try{return Xt=l,p()}finally{Xt=b}},ju=function(l,p,b){switch(p){case"input":if(ot(l,b),p=b.name,b.type==="radio"&&p!=null){for(b=l;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<b.length;p++){var C=b[p];if(C!==l&&C.form===l.form){var k=Tg(C);if(!k)throw Error(r(90));Ce(C),ot(C,k)}}}break;case"textarea":Ae(l,b);break;case"select":p=b.value,p!=null&&Fe(l,!!b.multiple,p,!1)}},Ru=rw,Un=Pc;var ez={usingClientEntryPoint:!1,Events:[Nh,zu,Tg,ih,ns,rw]},Vh={findFiberByHostInstance:Sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tz={bundleType:Vh.bundleType,version:Vh.version,rendererPackageName:Vh.rendererPackageName,rendererConfig:Vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=ag(l),l===null?null:l.stateNode},findFiberByHostInstance:Vh.findFiberByHostInstance||Qq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d0.isDisabled&&d0.supportsFiber)try{ur=d0.inject(tz),Kt=d0}catch{}}return us.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ez,us.createPortal=function(l,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dw(p))throw Error(r(200));return Zq(l,p,null,b)},us.createRoot=function(l,p){if(!dw(l))throw Error(r(299));var b=!1,C="",k=OI;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(C=p.identifierPrefix),p.onRecoverableError!==void 0&&(k=p.onRecoverableError)),p=lw(l,1,!1,null,null,b,!1,C,k),l[wo]=p.current,Ah(l.nodeType===8?l.parentNode:l),new uw(p)},us.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var p=l._reactInternals;if(p===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=ag(p),l=l===null?null:l.stateNode,l},us.flushSync=function(l){return Pc(l)},us.hydrate=function(l,p,b){if(!c0(p))throw Error(r(200));return u0(null,l,p,!0,b)},us.hydrateRoot=function(l,p,b){if(!dw(l))throw Error(r(405));var C=b!=null&&b.hydratedSources||null,k=!1,F="",G=OI;if(b!=null&&(b.unstable_strictMode===!0&&(k=!0),b.identifierPrefix!==void 0&&(F=b.identifierPrefix),b.onRecoverableError!==void 0&&(G=b.onRecoverableError)),p=TI(p,null,l,1,b??null,k,!1,F,G),l[wo]=p.current,Ah(l),C)for(l=0;l<C.length;l++)b=C[l],k=b._getVersion,k=k(b._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[b,k]:p.mutableSourceEagerHydrationData.push(b,k);return new l0(p)},us.render=function(l,p,b){if(!c0(p))throw Error(r(200));return u0(null,l,p,!1,b)},us.unmountComponentAtNode=function(l){if(!c0(l))throw Error(r(40));return l._reactRootContainer?(Pc(function(){u0(null,null,l,!1,function(){l._reactRootContainer=null,l[wo]=null})}),!0):!1},us.unstable_batchedUpdates=rw,us.unstable_renderSubtreeIntoContainer=function(l,p,b,C){if(!c0(b))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return u0(l,p,b,!1,C)},us.version="18.3.1-next-f1338f8080-20240426",us}var BI;function QD(){if(BI)return pw.exports;BI=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pw.exports=lz(),pw.exports}var FI;function cz(){if(FI)return f0;FI=1;var t=QD();return f0.createRoot=t.createRoot,f0.hydrateRoot=t.hydrateRoot,f0}var uz=cz();function dz(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,n,i,s,o=[],u="",d=t.split("/");for(d[0]||d.shift();i=d.shift();)r=i[0],r==="*"?(o.push(r),u+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~n?n:~s?s:i.length)),u+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(u+=(~n?"?":"")+"\\"+i.substring(s))):u+="/"+i;return{keys:o,pattern:new RegExp("^"+u+(e?"(?=$|/)":"/?$"),"i")}}var j=N1();const oe=Ar(j),JD=ZD({__proto__:null,default:oe},[j]);var yw={exports:{}},vw={};var $I;function fz(){if($I)return vw;$I=1;var t=N1();function e(x,_){return x===_&&(x!==0||1/x===1/_)||x!==x&&_!==_}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function u(x,_){var T=_(),N=n({inst:{value:T,getSnapshot:_}}),E=N[0].inst,A=N[1];return s(function(){E.value=T,E.getSnapshot=_,d(E)&&A({inst:E})},[x,T,_]),i(function(){return d(E)&&A({inst:E}),x(function(){d(E)&&A({inst:E})})},[x]),o(T),T}function d(x){var _=x.getSnapshot;x=x.value;try{var T=_();return!r(x,T)}catch{return!0}}function f(x,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return vw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,vw}var UI;function hz(){return UI||(UI=1,yw.exports=fz()),yw.exports}var pz=hz();const mz=JD.useInsertionEffect,gz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",e6=gz?j.useLayoutEffect:j.useEffect,yz=mz||e6,gC=t=>{const e=j.useRef([t,(...r)=>e[0](...r)]).current;return yz(()=>{e[0]=t}),e[1]},vz="popstate",yC="pushState",vC="replaceState",xz="hashchange",VI=[vz,yC,vC,xz],wz=t=>{for(const e of VI)addEventListener(e,t);return()=>{for(const e of VI)removeEventListener(e,t)}},t6=(t,e)=>pz.useSyncExternalStore(wz,t,e),bz=()=>location.search,_z=({ssrSearch:t=""}={})=>t6(bz,()=>t),qI=()=>location.pathname,Sz=({ssrPath:t}={})=>t6(qI,t?()=>t:qI),Ez=(t,{replace:e=!1,state:r=null}={})=>history[e?vC:yC](r,"",t),Az=(t={})=>[Sz(t),Ez],zI=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[zI]>"u"){for(const t of[yC,vC]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),n=new Event(t);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,zI,{value:!0})}const Cz=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",r6=(t="")=>t==="/"?"":t,Tz=(t,e)=>t[0]==="~"?t.slice(1):r6(e)+t,Nz=(t="",e)=>Cz(tE(r6(t)),tE(e)),Oz=t=>t[0]==="?"?t.slice(1):t,tE=t=>{try{return decodeURI(t)}catch{return t}},Iz=t=>tE(Oz(t)),n6={hook:Az,searchHook:_z,parser:dz,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},i6=j.createContext(n6),kf=()=>j.useContext(i6),s6={},a6=j.createContext(s6),Pz=()=>j.useContext(a6),O1=t=>{const[e,r]=t.hook(t);return[Nz(t.base,e),gC((n,i)=>r(Tz(n,t.base),i))]},xu=()=>O1(kf()),jz=()=>{const t=kf();return Iz(t.searchHook(t))},o6=(t,e,r,n)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",n),o=i.exec(r)||[],[u,...d]=o;return u!==void 0?[!0,(()=>{const f=s!==!1?Object.fromEntries(s.map((x,_)=>[x,d[_]])):o.groups;let g={...d};return f&&Object.assign(g,f),g})(),...n?[u]:[]]:[!1,null]},Rz=({children:t,...e})=>{const r=kf(),n=e.hook?n6:r;let i=n;const[s,o]=e.ssrPath?.split("?")??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??e.hook?.hrefs;let u=j.useRef({}),d=u.current,f=d;for(let g in n){const x=g==="base"?n[g]+(e[g]||""):e[g]||n[g];d===f&&x!==f[g]&&(u.current=f={...f}),f[g]=x,x!==n[g]&&(i=f)}return j.createElement(i6.Provider,{value:i,children:t})},WI=({children:t,component:e},r)=>e?j.createElement(e,{params:r}):typeof t=="function"?t(r):t,kz=t=>{let e=j.useRef(s6),r=e.current;for(const n in t)t[n]!==r[n]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},ds=({path:t,nest:e,match:r,...n})=>{const i=kf(),[s]=O1(i),[o,u,d]=r??o6(i.parser,t,s,e),f=kz({...Pz(),...u});if(!o)return null;const g=d?j.createElement(Rz,{base:d},WI(n,f)):WI(n,f);return j.createElement(a6.Provider,{value:f,children:g})},Pa=j.forwardRef((t,e)=>{const r=kf(),[n,i]=O1(r),{to:s="",href:o=s,onClick:u,asChild:d,children:f,className:g,replace:x,state:_,...T}=t,N=gC(A=>{A.ctrlKey||A.metaKey||A.altKey||A.shiftKey||A.button!==0||(u?.(A),A.defaultPrevented||(A.preventDefault(),i(o,t)))}),E=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return d&&j.isValidElement(f)?j.cloneElement(f,{onClick:N,href:E}):j.createElement("a",{...T,onClick:N,href:E,className:g?.call?g(n===o):g,children:f,ref:e})}),l6=t=>Array.isArray(t)?t.flatMap(e=>l6(e&&e.type===j.Fragment?e.props.children:e)):[t],Mz=({children:t,location:e})=>{const r=kf(),[n]=O1(r);for(const i of l6(t)){let s=0;if(j.isValidElement(i)&&(s=o6(r.parser,i.props.path,e||n,i.props.nest))[0])return j.cloneElement(i,{match:s})}return null},K0=t=>{const{to:e,href:r=e}=t,[,n]=xu(),i=gC(()=>n(e||r,t));return e6(()=>{i()},[]),null};var Mf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},nu=typeof window>"u"||"Deno"in globalThis;function ea(){}function Dz(t,e){return typeof t=="function"?t(e):t}function rE(t){return typeof t=="number"&&t>=0&&t!==1/0}function c6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Rd(t,e){return typeof t=="function"?t(e):t}function Ca(t,e){return typeof t=="function"?t(e):t}function HI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:u}=t;if(o){if(n){if(e.queryHash!==xC(o,e.options))return!1}else if(!Np(e.queryKey,o))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||i&&i!==e.state.fetchStatus||s&&!s(e))}function GI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(iu(e.options.mutationKey)!==iu(s))return!1}else if(!Np(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function xC(t,e){return(e?.queryKeyHashFn||iu)(t)}function iu(t){return JSON.stringify(t,(e,r)=>nE(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Np(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Np(t[r],e[r])):!1}function u6(t,e){if(t===e)return t;const r=KI(t)&&KI(e);if(r||nE(t)&&nE(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,u=r?[]:{};let d=0;for(let f=0;f<o;f++){const g=r?f:s[f];(!r&&n.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(u[g]=void 0,d++):(u[g]=u6(t[g],e[g]),u[g]===t[g]&&t[g]!==void 0&&d++)}return i===o&&d===i?t:u}return e}function X0(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function KI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nE(t){if(!XI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!XI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function XI(t){return Object.prototype.toString.call(t)==="[object Object]"}function Lz(t){return new Promise(e=>{setTimeout(e,t)})}function iE(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?u6(t,e):e}function Bz(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Fz(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var wC=Symbol();function d6(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===wC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var $z=class extends Mf{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!nu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},bC=new $z,Uz=class extends Mf{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!nu&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Y0=new Uz;function sE(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Vz(t){return Math.min(1e3*2**t,3e4)}function f6(t){return(t??"online")==="online"?Y0.isOnline():!0}var h6=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function xw(t){return t instanceof h6}function p6(t){let e=!1,r=0,n=!1,i;const s=sE(),o=E=>{n||(_(new h6(E)),t.abort?.())},u=()=>{e=!0},d=()=>{e=!1},f=()=>bC.isFocused()&&(t.networkMode==="always"||Y0.isOnline())&&t.canRun(),g=()=>f6(t.networkMode)&&t.canRun(),x=E=>{n||(n=!0,t.onSuccess?.(E),i?.(),s.resolve(E))},_=E=>{n||(n=!0,t.onError?.(E),i?.(),s.reject(E))},T=()=>new Promise(E=>{i=A=>{(n||f())&&E(A)},t.onPause?.()}).then(()=>{i=void 0,n||t.onContinue?.()}),N=()=>{if(n)return;let E;const A=r===0?t.initialPromise:void 0;try{E=A??t.fn()}catch(M){E=Promise.reject(M)}Promise.resolve(E).then(x).catch(M=>{if(n)return;const R=t.retry??(nu?0:3),I=t.retryDelay??Vz,D=typeof I=="function"?I(r,M):I,L=R===!0||typeof R=="number"&&r<R||typeof R=="function"&&R(r,M);if(e||!L){_(M);return}r++,t.onFail?.(r,M),Lz(D).then(()=>f()?void 0:T()).then(()=>{e?_(M):N()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?N():T().then(N),s)}}function qz(){let t=[],e=0,r=u=>{u()},n=u=>{u()},i=u=>setTimeout(u,0);const s=u=>{e?t.push(u):i(()=>{r(u)})},o=()=>{const u=t;t=[],u.length&&i(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||o()}return d},batchCalls:u=>(...d)=>{s(()=>{u(...d)})},schedule:s,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{i=u}}}var Qn=qz(),m6=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),rE(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(nu?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},zz=class extends m6{#e;#t;#n;#r;#a;#s;constructor(t){super(),this.#s=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=Wz(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const r=iE(this.state.data,t,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#i({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(ea).catch(ea):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ca(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===wC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!c6(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},i=()=>{const u=d6(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return n(d),this.#s=!1,this.options.persister?this.options.persister(u,d,this):u(d)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};n(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#i({type:"fetch",meta:s.fetchOptions?.meta});const o=u=>{xw(u)&&u.silent||this.#i({type:"error",error:u}),xw(u)||(this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#r=p6({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){o(d);return}this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:o,onFail:(u,d)=>{this.#i({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#i(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...g6(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return xw(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Qn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function g6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:f6(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Wz(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Hz=class extends Mf{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,i=e.queryHash??xC(n,e);let s=this.get(i);return s||(s=new zz({cache:this,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>HI(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>HI(t,r)):e}notify(t){Qn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Qn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gz=class extends m6{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||y6(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=p6({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,i)=>{this.#r({type:"failed",failureCount:n,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:r})}const n=await this.#n.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#r({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#r({type:"error",error:n})}}finally{this.#t.runNext(this)}}#r(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Qn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function y6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kz=class extends Mf{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new Gz({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=h0(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=h0(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(h0(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(h0(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Qn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>GI(e,r))}findAll(t={}){return this.getAll().filter(e=>GI(t,e))}notify(t){Qn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Qn.batch(()=>Promise.all(t.map(e=>e.continue().catch(ea))))}};function h0(t){return t.options.scope?.id??String(t.mutationId)}function YI(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let g=!1;const x=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},_=d6(e.options,e.fetchOptions),T=async(N,E,A)=>{if(g)return Promise.reject();if(E==null&&N.pages.length)return Promise.resolve(N);const M={queryKey:e.queryKey,pageParam:E,direction:A?"backward":"forward",meta:e.options.meta};x(M);const R=await _(M),{maxPages:I}=e.options,D=A?Fz:Bz;return{pages:D(N.pages,R,I),pageParams:D(N.pageParams,E,I)}};if(i&&s.length){const N=i==="backward",E=N?Xz:ZI,A={pages:s,pageParams:o},M=E(n,A);u=await T(A,M,N)}else{const N=t??s.length;do{const E=d===0?o[0]??n.initialPageParam:ZI(n,u);if(d>0&&E==null)break;u=await T(u,E),d++}while(d<N)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=f}}}function ZI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Xz(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var Yz=class{#e;#t;#n;#r;#a;#s;#i;#o;constructor(t={}){this.#e=t.queryCache||new Hz,this.#t=t.mutationCache||new Kz,this.#n=t.defaultOptions||{},this.#r=new Map,this.#a=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#i=bC.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Y0.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#i?.(),this.#i=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=this.#e.build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Rd(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(n.queryHash)?.state.data,o=Dz(e,s);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Qn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Qn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return Qn.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=Qn.batch(()=>this.#e.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(ea).catch(ea)}invalidateQueries(t={},e={}){return Qn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:e?.cancelRefetch??!0},n=Qn.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(ea)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(ea)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Rd(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ea).catch(ea)}fetchInfiniteQuery(t){return t.behavior=YI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ea).catch(ea)}ensureInfiniteQueryData(t){return t.behavior=YI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Y0.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(iu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()];let r={};return e.forEach(n=>{Np(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){this.#a.set(iu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#a.values()];let r={};return e.forEach(n=>{Np(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===wC&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Zz=class extends Mf{constructor(t,e){super(),this.options=e,this.#e=t,this.#o=null,this.#i=sE(),this.options.experimental_prefetchInRender||this.#i.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#a;#s;#i;#o;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),QI(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return aE(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return aE(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#b(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ca(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),r._defaulted&&!X0(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&JI(this.#t,n,this.options,r)&&this.#d(),this.updateResult(e),i&&(this.#t!==n||Ca(this.options.enabled,this.#t)!==Ca(r.enabled,this.#t)||Rd(this.options.staleTime,this.#t)!==Rd(r.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==n||Ca(this.options.enabled,this.#t)!==Ca(r.enabled,this.#t)||s!==this.#l)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return Jz(this,r)&&(this.#r=r,this.#s=this.options,this.#a=this.#t.state),r}getCurrentResult(){return this.#r}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(ea)),e}#g(){this.#w();const t=Rd(this.options.staleTime,this.#t);if(nu||this.#r.isStale||!rE(t))return;const r=c6(this.#r.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#b(),this.#l=t,!(nu||Ca(this.options.enabled,this.#t)===!1||!rE(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||bC.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#w(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#b(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#t,n=this.options,i=this.#r,s=this.#a,o=this.#s,d=t!==r?t.state:this.#n,{state:f}=t;let g={...f},x=!1,_;if(e._optimisticResults){const B=this.hasListeners(),z=!B&&QI(t,e),H=B&&JI(t,r,e,n);(z||H)&&(g={...g,...g6(f.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:T,errorUpdatedAt:N,status:E}=g;if(e.select&&g.data!==void 0)if(i&&g.data===s?.data&&e.select===this.#m)_=this.#f;else try{this.#m=e.select,_=e.select(g.data),_=iE(i?.data,_,e),this.#f=_,this.#o=null}catch(B){this.#o=B}else _=g.data;if(e.placeholderData!==void 0&&_===void 0&&E==="pending"){let B;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)B=i.data;else if(B=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,e.select&&B!==void 0)try{B=e.select(B),this.#o=null}catch(z){this.#o=z}B!==void 0&&(E="success",_=iE(i?.data,B,e),x=!0)}this.#o&&(T=this.#o,_=this.#f,N=Date.now(),E="error");const A=g.fetchStatus==="fetching",M=E==="pending",R=E==="error",I=M&&A,D=_!==void 0,$={status:E,fetchStatus:g.fetchStatus,isPending:M,isSuccess:E==="success",isError:R,isInitialLoading:I,isLoading:I,data:_,dataUpdatedAt:g.dataUpdatedAt,error:T,errorUpdatedAt:N,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!M,isLoadingError:R&&!D,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:R&&D,isStale:_C(t,e),refetch:this.refetch,promise:this.#i};if(this.options.experimental_prefetchInRender){const B=ce=>{$.status==="error"?ce.reject($.error):$.data!==void 0&&ce.resolve($.data)},z=()=>{const ce=this.#i=$.promise=sE();B(ce)},H=this.#i;switch(H.status){case"pending":t.queryHash===r.queryHash&&B(H);break;case"fulfilled":($.status==="error"||$.data!==H.value)&&z();break;case"rejected":($.status!=="error"||$.error!==H.reason)&&z();break}}return $}updateResult(t){const e=this.#r,r=this.createResult(this.#t,this.options);if(this.#a=this.#t.state,this.#s=this.options,this.#a.data!==void 0&&(this.#h=this.#t),X0(r,e))return;this.#r=r;const n={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#p.size)return!0;const u=new Set(o??this.#p);return this.options.throwOnError&&u.add("error"),Object.keys(this.#r).some(d=>{const f=d;return this.#r[f]!==e[f]&&u.has(f)})};t?.listeners!==!1&&i()&&(n.listeners=!0),this.#S({...n,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){Qn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Qz(t,e){return Ca(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function QI(t,e){return Qz(t,e)||t.state.data!==void 0&&aE(t,e,e.refetchOnMount)}function aE(t,e,r){if(Ca(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&_C(t,e)}return!1}function JI(t,e,r,n){return(t!==e||Ca(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&_C(t,r)}function _C(t,e){return Ca(e.enabled,t)!==!1&&t.isStaleByTime(Rd(e.staleTime,t))}function Jz(t,e){return!X0(t.getCurrentResult(),e)}var eW=class extends Mf{#e;#t=void 0;#n;#r;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),X0(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),r?.mutationKey&&this.options.mutationKey&&iu(r.mutationKey)!==iu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#a(),this.#s()}mutate(e,r){return this.#r=r,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#a(){const e=this.#n?.state??y6();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Qn.batch(()=>{if(this.#r&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,r,n),this.#r.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#r.onError?.(e.error,r,n),this.#r.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},v6=j.createContext(void 0),Ji=t=>{const e=j.useContext(v6);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},tW=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(v6.Provider,{value:t,children:e})),x6=j.createContext(!1),rW=()=>j.useContext(x6);x6.Provider;function nW(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var iW=j.createContext(nW()),sW=()=>j.useContext(iW);function w6(t,e){return typeof t=="function"?t(...e):!!t}function oE(){}var aW=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},oW=t=>{j.useEffect(()=>{t.clearReset()},[t])},lW=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&w6(r,[t.error,n]),cW=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},uW=(t,e)=>t.isLoading&&t.isFetching&&!e,dW=(t,e)=>t?.suspense&&e.isPending,eP=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function fW(t,e,r){const n=Ji(),i=rW(),s=sW(),o=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",cW(o),aW(o,s),oW(s);const u=!n.getQueryCache().get(o.queryHash),[d]=j.useState(()=>new e(n,o)),f=d.getOptimisticResult(o);if(j.useSyncExternalStore(j.useCallback(g=>{const x=i?oE:d.subscribe(Qn.batchCalls(g));return d.updateResult(),x},[d,i]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),j.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),dW(o,f))throw eP(o,d,s);if(lW({result:f,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw f.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!nu&&uW(f,i)&&(u?eP(o,d,s):n.getQueryCache().get(o.queryHash)?.promise)?.catch(oE).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?f:d.trackResult(f)}function Ba(t,e){return fW(t,Zz)}function Bs(t,e){const r=Ji(),[n]=j.useState(()=>new eW(r,t));j.useEffect(()=>{n.setOptions(t)},[n,t]);const i=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(Qn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((o,u)=>{n.mutate(o,u).catch(oE)},[n]);if(i.error&&w6(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function hW(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const pW=({on401:t})=>async({queryKey:e})=>{const r=await fetch(e.join("/"),{credentials:"include"});return await hW(r),await r.json()},mW=new Yz({defaultOptions:{queries:{queryFn:pW({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),gW=1,yW=1e6;let ww=0;function vW(){return ww=(ww+1)%Number.MAX_SAFE_INTEGER,ww.toString()}const bw=new Map,tP=t=>{if(bw.has(t))return;const e=setTimeout(()=>{bw.delete(t),yp({type:"REMOVE_TOAST",toastId:t})},yW);bw.set(t,e)},xW=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,gW)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?tP(r):t.toasts.forEach(n=>{tP(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},F0=[];let $0={toasts:[]};function yp(t){$0=xW($0,t),F0.forEach(e=>{e($0)})}function wW({...t}){const e=vW(),r=i=>yp({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>yp({type:"DISMISS_TOAST",toastId:e});return yp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function hi(){const[t,e]=j.useState($0);return j.useEffect(()=>(F0.push(e),()=>{const r=F0.indexOf(e);r>-1&&F0.splice(r,1)}),[t]),{...t,toast:wW,dismiss:r=>yp({type:"DISMISS_TOAST",toastId:r})}}var Df=QD();const bW=Ar(Df);function et(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function rP(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function I1(...t){return e=>{let r=!1;const n=t.map(i=>{const s=rP(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():rP(t[i],null)}}}}function dr(...t){return j.useCallback(I1(...t),t)}function _W(t,e){const r=j.createContext(e),n=s=>{const{children:o,...u}=s,d=j.useMemo(()=>u,Object.values(u));return m.jsx(r.Provider,{value:d,children:o})};n.displayName=t+"Provider";function i(s){const o=j.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function es(t,e=[]){let r=[];function n(s,o){const u=j.createContext(o),d=r.length;r=[...r,o];const f=x=>{const{scope:_,children:T,...N}=x,E=_?.[t]?.[d]||u,A=j.useMemo(()=>N,Object.values(N));return m.jsx(E.Provider,{value:A,children:T})};f.displayName=s+"Provider";function g(x,_){const T=_?.[t]?.[d]||u,N=j.useContext(T);if(N)return N;if(o!==void 0)return o;throw new Error(`\`${x}\` must be used within \`${s}\``)}return[f,g]}const i=()=>{const s=r.map(o=>j.createContext(o));return function(u){const d=u?.[t]||s;return j.useMemo(()=>({[`__scope${t}`]:{...u,[t]:d}}),[u,d])}};return i.scopeName=t,[n,SW(i,...e)]}function SW(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((u,{useScope:d,scopeName:f})=>{const x=d(s)[`__scope${f}`];return{...u,...x}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function su(t){const e=EW(t),r=j.forwardRef((n,i)=>{const{children:s,...o}=n,u=j.Children.toArray(s),d=u.find(AW);if(d){const f=d.props.children,g=u.map(x=>x===d?j.Children.count(f)>1?j.Children.only(null):j.isValidElement(f)?f.props.children:null:x);return m.jsx(e,{...o,ref:i,children:j.isValidElement(f)?j.cloneElement(f,void 0,g):null})}return m.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var b6=su("Slot");function EW(t){const e=j.forwardRef((r,n)=>{const{children:i,...s}=r;if(j.isValidElement(i)){const o=TW(i),u=CW(s,i.props);return i.type!==j.Fragment&&(u.ref=n?I1(n,o):o),j.cloneElement(i,u)}return j.Children.count(i)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _6=Symbol("radix.slottable");function S6(t){const e=({children:r})=>m.jsx(m.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=_6,e}function AW(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_6}function CW(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...u)=>{s(...u),i(...u)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function TW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function P1(t){const e=t+"CollectionProvider",[r,n]=es(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=E=>{const{scope:A,children:M}=E,R=oe.useRef(null),I=oe.useRef(new Map).current;return m.jsx(i,{scope:A,itemMap:I,collectionRef:R,children:M})};o.displayName=e;const u=t+"CollectionSlot",d=su(u),f=oe.forwardRef((E,A)=>{const{scope:M,children:R}=E,I=s(u,M),D=dr(A,I.collectionRef);return m.jsx(d,{ref:D,children:R})});f.displayName=u;const g=t+"CollectionItemSlot",x="data-radix-collection-item",_=su(g),T=oe.forwardRef((E,A)=>{const{scope:M,children:R,...I}=E,D=oe.useRef(null),L=dr(A,D),$=s(g,M);return oe.useEffect(()=>($.itemMap.set(D,{ref:D,...I}),()=>{$.itemMap.delete(D)})),m.jsx(_,{[x]:"",ref:L,children:R})});T.displayName=g;function N(E){const A=s(t+"CollectionConsumer",E);return oe.useCallback(()=>{const R=A.collectionRef.current;if(!R)return[];const I=Array.from(R.querySelectorAll(`[${x}]`));return Array.from(A.itemMap.values()).sort(($,B)=>I.indexOf($.ref.current)-I.indexOf(B.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:f,ItemSlot:T},N,n]}var NW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ct=NW.reduce((t,e)=>{const r=su(`Primitive.${e}`),n=j.forwardRef((i,s)=>{const{asChild:o,...u}=i,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(d,{...u,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function SC(t,e){t&&Df.flushSync(()=>t.dispatchEvent(e))}function Ni(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>e.current?.(...r),[])}function OW(t,e=globalThis?.document){const r=Ni(t);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var IW="DismissableLayer",lE="dismissableLayer.update",PW="dismissableLayer.pointerDownOutside",jW="dismissableLayer.focusOutside",nP,E6=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lf=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:u,...d}=t,f=j.useContext(E6),[g,x]=j.useState(null),_=g?.ownerDocument??globalThis?.document,[,T]=j.useState({}),N=dr(e,B=>x(B)),E=Array.from(f.layers),[A]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),M=E.indexOf(A),R=g?E.indexOf(g):-1,I=f.layersWithOutsidePointerEventsDisabled.size>0,D=R>=M,L=kW(B=>{const z=B.target,H=[...f.branches].some(ce=>ce.contains(z));!D||H||(i?.(B),o?.(B),B.defaultPrevented||u?.())},_),$=MW(B=>{const z=B.target;[...f.branches].some(ce=>ce.contains(z))||(s?.(B),o?.(B),B.defaultPrevented||u?.())},_);return OW(B=>{R===f.layers.size-1&&(n?.(B),!B.defaultPrevented&&u&&(B.preventDefault(),u()))},_),j.useEffect(()=>{if(g)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(nP=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),iP(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=nP)}},[g,_,r,f]),j.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),iP())},[g,f]),j.useEffect(()=>{const B=()=>T({});return document.addEventListener(lE,B),()=>document.removeEventListener(lE,B)},[]),m.jsx(Ct.div,{...d,ref:N,style:{pointerEvents:I?D?"auto":"none":void 0,...t.style},onFocusCapture:et(t.onFocusCapture,$.onFocusCapture),onBlurCapture:et(t.onBlurCapture,$.onBlurCapture),onPointerDownCapture:et(t.onPointerDownCapture,L.onPointerDownCapture)})});Lf.displayName=IW;var RW="DismissableLayerBranch",A6=j.forwardRef((t,e)=>{const r=j.useContext(E6),n=j.useRef(null),i=dr(e,n);return j.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),m.jsx(Ct.div,{...t,ref:i})});A6.displayName=RW;function kW(t,e=globalThis?.document){const r=Ni(t),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=u=>{if(u.target&&!n.current){let d=function(){C6(PW,r,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=d,e.addEventListener("click",i.current,{once:!0})):d()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function MW(t,e=globalThis?.document){const r=Ni(t),n=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!n.current&&C6(jW,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function iP(){const t=new CustomEvent(lE);document.dispatchEvent(t)}function C6(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?SC(i,s):i.dispatchEvent(s)}var DW=Lf,LW=A6,ri=globalThis?.document?j.useLayoutEffect:()=>{},BW="Portal",Bm=j.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=j.useState(!1);ri(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?bW.createPortal(m.jsx(Ct.div,{...n,ref:e}),o):null});Bm.displayName=BW;function FW(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var oa=t=>{const{present:e,children:r}=t,n=$W(e),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),s=dr(n.ref,UW(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:s}):null};oa.displayName="Presence";function $W(t){const[e,r]=j.useState(),n=j.useRef({}),i=j.useRef(t),s=j.useRef("none"),o=t?"mounted":"unmounted",[u,d]=FW(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const f=p0(n.current);s.current=u==="mounted"?f:"none"},[u]),ri(()=>{const f=n.current,g=i.current;if(g!==t){const _=s.current,T=p0(f);t?d("MOUNT"):T==="none"||f?.display==="none"?d("UNMOUNT"):d(g&&_!==T?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,d]),ri(()=>{if(e){let f;const g=e.ownerDocument.defaultView??window,x=T=>{const E=p0(n.current).includes(T.animationName);if(T.target===e&&E&&(d("ANIMATION_END"),!i.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",f=g.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},_=T=>{T.target===e&&(s.current=p0(n.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{g.clearTimeout(f),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:j.useCallback(f=>{f&&(n.current=getComputedStyle(f)),r(f)},[])}}function p0(t){return t?.animationName||"none"}function UW(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Wl({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=VW({defaultProp:e,onChange:r}),s=t!==void 0,o=s?t:n,u=Ni(r),d=j.useCallback(f=>{if(s){const x=typeof f=="function"?f(t):f;x!==t&&u(x)}else i(f)},[s,t,i,u]);return[o,d]}function VW({defaultProp:t,onChange:e}){const r=j.useState(t),[n]=r,i=j.useRef(n),s=Ni(e);return j.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var qW="VisuallyHidden",Fm=j.forwardRef((t,e)=>m.jsx(Ct.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Fm.displayName=qW;var zW=Fm,EC="ToastProvider",[AC,WW,HW]=P1("Toast"),[T6]=es("Toast",[HW]),[GW,j1]=T6(EC),N6=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[u,d]=j.useState(null),[f,g]=j.useState(0),x=j.useRef(!1),_=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${EC}\`. Expected non-empty \`string\`.`),m.jsx(AC.Provider,{scope:e,children:m.jsx(GW,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:j.useCallback(()=>g(T=>T+1),[]),onToastRemove:j.useCallback(()=>g(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:_,children:o})})};N6.displayName=EC;var O6="ToastViewport",KW=["F8"],cE="toast.viewportPause",uE="toast.viewportResume",I6=j.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=KW,label:i="Notifications ({hotkey})",...s}=t,o=j1(O6,r),u=WW(r),d=j.useRef(null),f=j.useRef(null),g=j.useRef(null),x=j.useRef(null),_=dr(e,x,o.onViewportChange),T=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=o.toastCount>0;j.useEffect(()=>{const A=M=>{n.length!==0&&n.every(I=>M[I]||M.code===I)&&x.current?.focus()};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[n]),j.useEffect(()=>{const A=d.current,M=x.current;if(N&&A&&M){const R=()=>{if(!o.isClosePausedRef.current){const $=new CustomEvent(cE);M.dispatchEvent($),o.isClosePausedRef.current=!0}},I=()=>{if(o.isClosePausedRef.current){const $=new CustomEvent(uE);M.dispatchEvent($),o.isClosePausedRef.current=!1}},D=$=>{!A.contains($.relatedTarget)&&I()},L=()=>{A.contains(document.activeElement)||I()};return A.addEventListener("focusin",R),A.addEventListener("focusout",D),A.addEventListener("pointermove",R),A.addEventListener("pointerleave",L),window.addEventListener("blur",R),window.addEventListener("focus",I),()=>{A.removeEventListener("focusin",R),A.removeEventListener("focusout",D),A.removeEventListener("pointermove",R),A.removeEventListener("pointerleave",L),window.removeEventListener("blur",R),window.removeEventListener("focus",I)}}},[N,o.isClosePausedRef]);const E=j.useCallback(({tabbingDirection:A})=>{const R=u().map(I=>{const D=I.ref.current,L=[D,...oH(D)];return A==="forwards"?L:L.reverse()});return(A==="forwards"?R.reverse():R).flat()},[u]);return j.useEffect(()=>{const A=x.current;if(A){const M=R=>{const I=R.altKey||R.ctrlKey||R.metaKey;if(R.key==="Tab"&&!I){const L=document.activeElement,$=R.shiftKey;if(R.target===A&&$){f.current?.focus();return}const H=E({tabbingDirection:$?"backwards":"forwards"}),ce=H.findIndex(K=>K===L);_w(H.slice(ce+1))?R.preventDefault():$?f.current?.focus():g.current?.focus()}};return A.addEventListener("keydown",M),()=>A.removeEventListener("keydown",M)}},[u,E]),m.jsxs(LW,{ref:d,role:"region","aria-label":i.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:N?void 0:"none"},children:[N&&m.jsx(dE,{ref:f,onFocusFromOutsideViewport:()=>{const A=E({tabbingDirection:"forwards"});_w(A)}}),m.jsx(AC.Slot,{scope:r,children:m.jsx(Ct.ol,{tabIndex:-1,...s,ref:_})}),N&&m.jsx(dE,{ref:g,onFocusFromOutsideViewport:()=>{const A=E({tabbingDirection:"backwards"});_w(A)}})]})});I6.displayName=O6;var P6="ToastFocusProxy",dE=j.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=j1(P6,r);return m.jsx(Fm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const u=o.relatedTarget;!s.viewport?.contains(u)&&n()}})});dE.displayName=P6;var R1="Toast",XW="toast.swipeStart",YW="toast.swipeMove",ZW="toast.swipeCancel",QW="toast.swipeEnd",j6=j.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[u=!0,d]=Wl({prop:n,defaultProp:i,onChange:s});return m.jsx(oa,{present:r||u,children:m.jsx(tH,{open:u,...o,ref:e,onClose:()=>d(!1),onPause:Ni(t.onPause),onResume:Ni(t.onResume),onSwipeStart:et(t.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:et(t.onSwipeMove,f=>{const{x:g,y:x}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:et(t.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:et(t.onSwipeEnd,f=>{const{x:g,y:x}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),d(!1)})})})});j6.displayName=R1;var[JW,eH]=T6(R1,{onClose(){}}),tH=j.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:g,onSwipeMove:x,onSwipeCancel:_,onSwipeEnd:T,...N}=t,E=j1(R1,r),[A,M]=j.useState(null),R=dr(e,Q=>M(Q)),I=j.useRef(null),D=j.useRef(null),L=i||E.duration,$=j.useRef(0),B=j.useRef(L),z=j.useRef(0),{onToastAdd:H,onToastRemove:ce}=E,K=Ni(()=>{A?.contains(document.activeElement)&&E.viewport?.focus(),o()}),W=j.useCallback(Q=>{!Q||Q===1/0||(window.clearTimeout(z.current),$.current=new Date().getTime(),z.current=window.setTimeout(K,Q))},[K]);j.useEffect(()=>{const Q=E.viewport;if(Q){const Y=()=>{W(B.current),f?.()},J=()=>{const te=new Date().getTime()-$.current;B.current=B.current-te,window.clearTimeout(z.current),d?.()};return Q.addEventListener(cE,J),Q.addEventListener(uE,Y),()=>{Q.removeEventListener(cE,J),Q.removeEventListener(uE,Y)}}},[E.viewport,L,d,f,W]),j.useEffect(()=>{s&&!E.isClosePausedRef.current&&W(L)},[s,L,E.isClosePausedRef,W]),j.useEffect(()=>(H(),()=>ce()),[H,ce]);const Z=j.useMemo(()=>A?F6(A):null,[A]);return E.viewport?m.jsxs(m.Fragment,{children:[Z&&m.jsx(rH,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:Z}),m.jsx(JW,{scope:r,onClose:K,children:Df.createPortal(m.jsx(AC.ItemSlot,{scope:r,children:m.jsx(DW,{asChild:!0,onEscapeKeyDown:et(u,()=>{E.isFocusedToastEscapeKeyDownRef.current||K(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Ct.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":E.swipeDirection,...N,ref:R,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:et(t.onKeyDown,Q=>{Q.key==="Escape"&&(u?.(Q.nativeEvent),Q.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:et(t.onPointerDown,Q=>{Q.button===0&&(I.current={x:Q.clientX,y:Q.clientY})}),onPointerMove:et(t.onPointerMove,Q=>{if(!I.current)return;const Y=Q.clientX-I.current.x,J=Q.clientY-I.current.y,te=!!D.current,ie=["left","right"].includes(E.swipeDirection),se=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,me=ie?se(0,Y):0,ne=ie?0:se(0,J),ue=Q.pointerType==="touch"?10:2,be={x:me,y:ne},Pe={originalEvent:Q,delta:be};te?(D.current=be,m0(YW,x,Pe,{discrete:!1})):sP(be,E.swipeDirection,ue)?(D.current=be,m0(XW,g,Pe,{discrete:!1}),Q.target.setPointerCapture(Q.pointerId)):(Math.abs(Y)>ue||Math.abs(J)>ue)&&(I.current=null)}),onPointerUp:et(t.onPointerUp,Q=>{const Y=D.current,J=Q.target;if(J.hasPointerCapture(Q.pointerId)&&J.releasePointerCapture(Q.pointerId),D.current=null,I.current=null,Y){const te=Q.currentTarget,ie={originalEvent:Q,delta:Y};sP(Y,E.swipeDirection,E.swipeThreshold)?m0(QW,T,ie,{discrete:!0}):m0(ZW,_,ie,{discrete:!0}),te.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),rH=t=>{const{__scopeToast:e,children:r,...n}=t,i=j1(R1,e),[s,o]=j.useState(!1),[u,d]=j.useState(!1);return sH(()=>o(!0)),j.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:m.jsx(Bm,{asChild:!0,children:m.jsx(Fm,{...n,children:s&&m.jsxs(m.Fragment,{children:[i.label," ",r]})})})},nH="ToastTitle",R6=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(Ct.div,{...n,ref:e})});R6.displayName=nH;var iH="ToastDescription",k6=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(Ct.div,{...n,ref:e})});k6.displayName=iH;var M6="ToastAction",D6=j.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?m.jsx(B6,{altText:r,asChild:!0,children:m.jsx(CC,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${M6}\`. Expected non-empty \`string\`.`),null)});D6.displayName=M6;var L6="ToastClose",CC=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=eH(L6,r);return m.jsx(B6,{asChild:!0,children:m.jsx(Ct.button,{type:"button",...n,ref:e,onClick:et(t.onClick,i.onClose)})})});CC.displayName=L6;var B6=j.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return m.jsx(Ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function F6(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),aH(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...F6(n))}}),e}function m0(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?SC(i,s):i.dispatchEvent(s)}var sP=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function sH(t=()=>{}){const e=Ni(t);ri(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function aH(t){return t.nodeType===t.ELEMENT_NODE}function oH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function _w(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var lH=N6,$6=I6,U6=j6,V6=R6,q6=k6,z6=D6,W6=CC;function H6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=H6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Qt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=H6(t))&&(n&&(n+=" "),n+=e);return n}const aP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,oP=Qt,$m=(t,e)=>r=>{var n;if(e?.variants==null)return oP(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(f=>{const g=r?.[f],x=s?.[f];if(g===null)return null;const _=aP(g)||aP(x);return i[f][_]}),u=r&&Object.entries(r).reduce((f,g)=>{let[x,_]=g;return _===void 0||(f[x]=_),f},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((f,g)=>{let{class:x,className:_,...T}=g;return Object.entries(T).every(N=>{let[E,A]=N;return Array.isArray(A)?A.includes({...s,...u}[E]):{...s,...u}[E]===A})?[...f,x,_]:f},[]);return oP(t,o,d,r?.class,r?.className)};const cH=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G6=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");var uH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const dH=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:o,...u},d)=>j.createElement("svg",{ref:d,...uH,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:G6("lucide",i),...u},[...o.map(([f,g])=>j.createElement(f,g)),...Array.isArray(s)?s:[s]]));const wt=(t,e)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement(dH,{ref:s,iconNode:e,className:G6(`lucide-${cH(t)}`,n),...i}));return r.displayName=`${t}`,r};const Z0=wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ra=wt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);const fH=wt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Fo=wt("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);const Hd=wt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const lP=wt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const cP=wt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const TC=wt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const NC=wt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const hH=wt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const pH=wt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const no=wt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Os=wt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Op=wt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const K6=wt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Hl=wt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const mH=wt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);const uP=wt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const dP=wt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const U0=wt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const gH=wt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const Gd=wt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);const yH=wt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);const vH=wt("IdCard",[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]]);const xH=wt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);const Sw=wt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const Zi=wt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const OC=wt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const wH=wt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const bH=wt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const fE=wt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const _H=wt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const SH=wt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const EH=wt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const AH=wt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);const fP=wt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);const CH=wt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const TH=wt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);const Ew=wt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const X6=wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const NH=wt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);const IC=wt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const hP=wt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const OH=wt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const IH=wt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const PH=wt("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);const Kd=wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Y6=wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Z6=wt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const jH=wt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const RH=wt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const kH=wt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const PC=wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const jC=wt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const pP=wt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const MH=wt("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Q0=wt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);const Q6=wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const Qo=wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const Ip=wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),RC="-",DH=t=>{const e=BH(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const u=o.split(RC);return u[0]===""&&u.length!==1&&u.shift(),J6(u,e)||LH(o)},getConflictingClassGroupIds:(o,u)=>{const d=r[o]||[];return u&&n[o]?[...d,...n[o]]:d}}},J6=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?J6(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(RC);return e.validators.find(({validator:o})=>o(s))?.classGroupId},mP=/^\[(.+)\]$/,LH=t=>{if(mP.test(t)){const e=mP.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},BH=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return $H(Object.entries(t.classGroups),r).forEach(([s,o])=>{hE(o,n,s,e)}),n},hE=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:gP(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(FH(i)){hE(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{hE(o,gP(e,s),r,n)})})},gP=(t,e)=>{let r=t;return e.split(RC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},FH=t=>t.isThemeGetter,$H=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,u])=>[e+o,u])):s);return[r,i]}):t,UH=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},e5="!",VH=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=u=>{const d=[];let f=0,g=0,x;for(let A=0;A<u.length;A++){let M=u[A];if(f===0){if(M===i&&(n||u.slice(A,A+s)===e)){d.push(u.slice(g,A)),g=A+s;continue}if(M==="/"){x=A;continue}}M==="["?f++:M==="]"&&f--}const _=d.length===0?u:u.substring(g),T=_.startsWith(e5),N=T?_.substring(1):_,E=x&&x>g?x-g:void 0;return{modifiers:d,hasImportantModifier:T,baseClassName:N,maybePostfixModifierPosition:E}};return r?u=>r({className:u,parseClassName:o}):o},qH=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},zH=t=>({cache:UH(t.cacheSize),parseClassName:VH(t),...DH(t)}),WH=/\s+/,HH=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(WH);let u="";for(let d=o.length-1;d>=0;d-=1){const f=o[d],{modifiers:g,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:T}=r(f);let N=!!T,E=n(N?_.substring(0,T):_);if(!E){if(!N){u=f+(u.length>0?" "+u:u);continue}if(E=n(_),!E){u=f+(u.length>0?" "+u:u);continue}N=!1}const A=qH(g).join(":"),M=x?A+e5:A,R=M+E;if(s.includes(R))continue;s.push(R);const I=i(E,N);for(let D=0;D<I.length;++D){const L=I[D];s.push(M+L)}u=f+(u.length>0?" "+u:u)}return u};function GH(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=t5(e))&&(n&&(n+=" "),n+=r);return n}const t5=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=t5(t[n]))&&(r&&(r+=" "),r+=e);return r};function KH(t,...e){let r,n,i,s=o;function o(d){const f=e.reduce((g,x)=>x(g),t());return r=zH(f),n=r.cache.get,i=r.cache.set,s=u,u(d)}function u(d){const f=n(d);if(f)return f;const g=HH(d,r);return i(d,g),g}return function(){return s(GH.apply(null,arguments))}}const en=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},r5=/^\[(?:([a-z-]+):)?(.+)\]$/i,XH=/^\d+\/\d+$/,YH=new Set(["px","full","screen"]),ZH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eG=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,No=t=>kd(t)||YH.has(t)||XH.test(t),Pl=t=>Bf(t,"length",cG),kd=t=>!!t&&!Number.isNaN(Number(t)),Aw=t=>Bf(t,"number",kd),zh=t=>!!t&&Number.isInteger(Number(t)),rG=t=>t.endsWith("%")&&kd(t.slice(0,-1)),Zt=t=>r5.test(t),jl=t=>ZH.test(t),nG=new Set(["length","size","percentage"]),iG=t=>Bf(t,nG,n5),sG=t=>Bf(t,"position",n5),aG=new Set(["image","url"]),oG=t=>Bf(t,aG,dG),lG=t=>Bf(t,"",uG),Wh=()=>!0,Bf=(t,e,r)=>{const n=r5.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},cG=t=>QH.test(t)&&!JH.test(t),n5=()=>!1,uG=t=>eG.test(t),dG=t=>tG.test(t),fG=()=>{const t=en("colors"),e=en("spacing"),r=en("blur"),n=en("brightness"),i=en("borderColor"),s=en("borderRadius"),o=en("borderSpacing"),u=en("borderWidth"),d=en("contrast"),f=en("grayscale"),g=en("hueRotate"),x=en("invert"),_=en("gap"),T=en("gradientColorStops"),N=en("gradientColorStopPositions"),E=en("inset"),A=en("margin"),M=en("opacity"),R=en("padding"),I=en("saturate"),D=en("scale"),L=en("sepia"),$=en("skew"),B=en("space"),z=en("translate"),H=()=>["auto","contain","none"],ce=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",Zt,e],W=()=>[Zt,e],Z=()=>["",No,Pl],Q=()=>["auto",kd,Zt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",Zt],me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[kd,Zt];return{cacheSize:500,separator:":",theme:{colors:[Wh],spacing:[No,Pl],blur:["none","",jl,Zt],brightness:ne(),borderColor:[t],borderRadius:["none","","full",jl,Zt],borderSpacing:W(),borderWidth:Z(),contrast:ne(),grayscale:se(),hueRotate:ne(),invert:se(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[rG,Pl],inset:K(),margin:K(),opacity:ne(),padding:W(),saturate:ne(),scale:ne(),sepia:se(),skew:ne(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Zt]}],container:["container"],columns:[{columns:[jl]}],"break-after":[{"break-after":me()}],"break-before":[{"break-before":me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Zt]}],overflow:[{overflow:ce()}],"overflow-x":[{"overflow-x":ce()}],"overflow-y":[{"overflow-y":ce()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zh,Zt]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Zt]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",zh,Zt]}],"grid-cols":[{"grid-cols":[Wh]}],"col-start-end":[{col:["auto",{span:["full",zh,Zt]},Zt]}],"col-start":[{"col-start":Q()}],"col-end":[{"col-end":Q()}],"grid-rows":[{"grid-rows":[Wh]}],"row-start-end":[{row:["auto",{span:[zh,Zt]},Zt]}],"row-start":[{"row-start":Q()}],"row-end":[{"row-end":Q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Zt]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...ie()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ie(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ie(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[R]}],px:[{px:[R]}],py:[{py:[R]}],ps:[{ps:[R]}],pe:[{pe:[R]}],pt:[{pt:[R]}],pr:[{pr:[R]}],pb:[{pb:[R]}],pl:[{pl:[R]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Zt,e]}],"min-w":[{"min-w":[Zt,e,"min","max","fit"]}],"max-w":[{"max-w":[Zt,e,"none","full","min","max","fit","prose",{screen:[jl]},jl]}],h:[{h:[Zt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Zt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Zt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Zt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",jl,Pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Aw]}],"font-family":[{font:[Wh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Zt]}],"line-clamp":[{"line-clamp":["none",kd,Aw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",No,Zt]}],"list-image":[{"list-image":["none",Zt]}],"list-style-type":[{list:["none","disc","decimal",Zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",No,Pl]}],"underline-offset":[{"underline-offset":["auto",No,Zt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),sG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",iG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oG]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[No,Zt]}],"outline-w":[{outline:[No,Pl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[No,Pl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",jl,lG]}],"shadow-color":[{shadow:[Wh]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",jl,Zt]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[I]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[I]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Zt]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",Zt]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",Zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[D]}],"scale-x":[{"scale-x":[D]}],"scale-y":[{"scale-y":[D]}],rotate:[{rotate:[zh,Zt]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[$]}],"skew-y":[{"skew-y":[$]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Zt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Zt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Zt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[No,Pl,Aw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},hG=KH(fG);function Ze(...t){return hG(Qt(t))}function J0(){const t=new Date;return new Intl.DateTimeFormat("sv-SE",{timeZone:"Asia/Manila",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).format(t).replace(" ","T")}const pG=lH,i5=j.forwardRef(({className:t,...e},r)=>m.jsx($6,{ref:r,className:Ze("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));i5.displayName=$6.displayName;const mG=$m("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),s5=j.forwardRef(({className:t,variant:e,...r},n)=>m.jsx(U6,{ref:n,className:Ze(mG({variant:e}),t),...r}));s5.displayName=U6.displayName;const gG=j.forwardRef(({className:t,...e},r)=>m.jsx(z6,{ref:r,className:Ze("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));gG.displayName=z6.displayName;const a5=j.forwardRef(({className:t,...e},r)=>m.jsx(W6,{ref:r,className:Ze("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(Ip,{className:"h-4 w-4"})}));a5.displayName=W6.displayName;const o5=j.forwardRef(({className:t,...e},r)=>m.jsx(V6,{ref:r,className:Ze("text-sm font-semibold",t),...e}));o5.displayName=V6.displayName;const l5=j.forwardRef(({className:t,...e},r)=>m.jsx(q6,{ref:r,className:Ze("text-sm opacity-90",t),...e}));l5.displayName=q6.displayName;function yG(){const{toasts:t}=hi();return m.jsxs(pG,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return m.jsxs(s5,{...s,children:[m.jsxs("div",{className:"grid gap-1",children:[r&&m.jsx(o5,{children:r}),n&&m.jsx(l5,{children:n})]}),i,m.jsx(a5,{})]},e)}),m.jsx(i5,{})]})}var vG=JD[" useId ".trim().toString()]||(()=>{}),xG=0;function Qa(t){const[e,r]=j.useState(vG());return ri(()=>{r(n=>n??String(xG++))},[t]),e?`radix-${e}`:""}const wG=["top","right","bottom","left"],Gl=Math.min,Is=Math.max,ey=Math.round,g0=Math.floor,Ja=t=>({x:t,y:t}),bG={left:"right",right:"left",bottom:"top",top:"bottom"},_G={start:"end",end:"start"};function pE(t,e,r){return Is(t,Gl(e,r))}function zo(t,e){return typeof t=="function"?t(e):t}function Wo(t){return t.split("-")[0]}function Ff(t){return t.split("-")[1]}function kC(t){return t==="x"?"y":"x"}function MC(t){return t==="y"?"height":"width"}function Kl(t){return["top","bottom"].includes(Wo(t))?"y":"x"}function DC(t){return kC(Kl(t))}function SG(t,e,r){r===void 0&&(r=!1);const n=Ff(t),i=DC(t),s=MC(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ty(o)),[o,ty(o)]}function EG(t){const e=ty(t);return[mE(t),e,mE(e)]}function mE(t){return t.replace(/start|end/g,e=>_G[e])}function AG(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function CG(t,e,r,n){const i=Ff(t);let s=AG(Wo(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(mE)))),s}function ty(t){return t.replace(/left|right|bottom|top/g,e=>bG[e])}function TG(t){return{top:0,right:0,bottom:0,left:0,...t}}function c5(t){return typeof t!="number"?TG(t):{top:t,right:t,bottom:t,left:t}}function ry(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function yP(t,e,r){let{reference:n,floating:i}=t;const s=Kl(e),o=DC(e),u=MC(o),d=Wo(e),f=s==="y",g=n.x+n.width/2-i.width/2,x=n.y+n.height/2-i.height/2,_=n[u]/2-i[u]/2;let T;switch(d){case"top":T={x:g,y:n.y-i.height};break;case"bottom":T={x:g,y:n.y+n.height};break;case"right":T={x:n.x+n.width,y:x};break;case"left":T={x:n.x-i.width,y:x};break;default:T={x:n.x,y:n.y}}switch(Ff(e)){case"start":T[o]-=_*(r&&f?-1:1);break;case"end":T[o]+=_*(r&&f?-1:1);break}return T}const NG=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,u=s.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let f=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:g,y:x}=yP(f,n,d),_=n,T={},N=0;for(let E=0;E<u.length;E++){const{name:A,fn:M}=u[E],{x:R,y:I,data:D,reset:L}=await M({x:g,y:x,initialPlacement:n,placement:_,strategy:i,middlewareData:T,rects:f,platform:o,elements:{reference:t,floating:e}});g=R??g,x=I??x,T={...T,[A]:{...T[A],...D}},L&&N<=50&&(N++,typeof L=="object"&&(L.placement&&(_=L.placement),L.rects&&(f=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:g,y:x}=yP(f,_,d)),E=-1)}return{x:g,y:x,placement:_,strategy:i,middlewareData:T}};async function Pp(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:u,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:_=!1,padding:T=0}=zo(e,t),N=c5(T),A=u[_?x==="floating"?"reference":"floating":x],M=ry(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(A)))==null||r?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:d})),R=x==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),D=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},L=ry(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:I,strategy:d}):R);return{top:(M.top-L.top+N.top)/D.y,bottom:(L.bottom-M.bottom+N.bottom)/D.y,left:(M.left-L.left+N.left)/D.x,right:(L.right-M.right+N.right)/D.x}}const OG=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:u,middlewareData:d}=e,{element:f,padding:g=0}=zo(t,e)||{};if(f==null)return{};const x=c5(g),_={x:r,y:n},T=DC(i),N=MC(T),E=await o.getDimensions(f),A=T==="y",M=A?"top":"left",R=A?"bottom":"right",I=A?"clientHeight":"clientWidth",D=s.reference[N]+s.reference[T]-_[T]-s.floating[N],L=_[T]-s.reference[T],$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let B=$?$[I]:0;(!B||!await(o.isElement==null?void 0:o.isElement($)))&&(B=u.floating[I]||s.floating[N]);const z=D/2-L/2,H=B/2-E[N]/2-1,ce=Gl(x[M],H),K=Gl(x[R],H),W=ce,Z=B-E[N]-K,Q=B/2-E[N]/2+z,Y=pE(W,Q,Z),J=!d.arrow&&Ff(i)!=null&&Q!==Y&&s.reference[N]/2-(Q<W?ce:K)-E[N]/2<0,te=J?Q<W?Q-W:Q-Z:0;return{[T]:_[T]+te,data:{[T]:Y,centerOffset:Q-Y-te,...J&&{alignmentOffset:te}},reset:J}}}),IG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:u,platform:d,elements:f}=e,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:_,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:N="none",flipAlignment:E=!0,...A}=zo(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const M=Wo(i),R=Kl(u),I=Wo(u)===u,D=await(d.isRTL==null?void 0:d.isRTL(f.floating)),L=_||(I||!E?[ty(u)]:EG(u)),$=N!=="none";!_&&$&&L.push(...CG(u,E,N,D));const B=[u,...L],z=await Pp(e,A),H=[];let ce=((n=s.flip)==null?void 0:n.overflows)||[];if(g&&H.push(z[M]),x){const Q=SG(i,o,D);H.push(z[Q[0]],z[Q[1]])}if(ce=[...ce,{placement:i,overflows:H}],!H.every(Q=>Q<=0)){var K,W;const Q=(((K=s.flip)==null?void 0:K.index)||0)+1,Y=B[Q];if(Y)return{data:{index:Q,overflows:ce},reset:{placement:Y}};let J=(W=ce.filter(te=>te.overflows[0]<=0).sort((te,ie)=>te.overflows[1]-ie.overflows[1])[0])==null?void 0:W.placement;if(!J)switch(T){case"bestFit":{var Z;const te=(Z=ce.filter(ie=>{if($){const se=Kl(ie.placement);return se===R||se==="y"}return!0}).map(ie=>[ie.placement,ie.overflows.filter(se=>se>0).reduce((se,me)=>se+me,0)]).sort((ie,se)=>ie[1]-se[1])[0])==null?void 0:Z[0];te&&(J=te);break}case"initialPlacement":J=u;break}if(i!==J)return{reset:{placement:J}}}return{}}}};function vP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xP(t){return wG.some(e=>t[e]>=0)}const PG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=zo(t,e);switch(n){case"referenceHidden":{const s=await Pp(e,{...i,elementContext:"reference"}),o=vP(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xP(o)}}}case"escaped":{const s=await Pp(e,{...i,altBoundary:!0}),o=vP(s,r.floating);return{data:{escapedOffsets:o,escaped:xP(o)}}}default:return{}}}}};async function jG(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Wo(r),u=Ff(r),d=Kl(r)==="y",f=["left","top"].includes(o)?-1:1,g=s&&d?-1:1,x=zo(e,t);let{mainAxis:_,crossAxis:T,alignmentAxis:N}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof N=="number"&&(T=u==="end"?N*-1:N),d?{x:T*g,y:_*f}:{x:_*f,y:T*g}}const RG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:u}=e,d=await jG(e,t);return o===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:i+d.x,y:s+d.y,data:{...d,placement:o}}}}},kG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:u={fn:A=>{let{x:M,y:R}=A;return{x:M,y:R}}},...d}=zo(t,e),f={x:r,y:n},g=await Pp(e,d),x=Kl(Wo(i)),_=kC(x);let T=f[_],N=f[x];if(s){const A=_==="y"?"top":"left",M=_==="y"?"bottom":"right",R=T+g[A],I=T-g[M];T=pE(R,T,I)}if(o){const A=x==="y"?"top":"left",M=x==="y"?"bottom":"right",R=N+g[A],I=N-g[M];N=pE(R,N,I)}const E=u.fn({...e,[_]:T,[x]:N});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[_]:s,[x]:o}}}}}},MG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=zo(t,e),g={x:r,y:n},x=Kl(i),_=kC(x);let T=g[_],N=g[x];const E=zo(u,e),A=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(d){const I=_==="y"?"height":"width",D=s.reference[_]-s.floating[I]+A.mainAxis,L=s.reference[_]+s.reference[I]-A.mainAxis;T<D?T=D:T>L&&(T=L)}if(f){var M,R;const I=_==="y"?"width":"height",D=["top","left"].includes(Wo(i)),L=s.reference[x]-s.floating[I]+(D&&((M=o.offset)==null?void 0:M[x])||0)+(D?0:A.crossAxis),$=s.reference[x]+s.reference[I]+(D?0:((R=o.offset)==null?void 0:R[x])||0)-(D?A.crossAxis:0);N<L?N=L:N>$&&(N=$)}return{[_]:T,[x]:N}}}},DG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:u}=e,{apply:d=()=>{},...f}=zo(t,e),g=await Pp(e,f),x=Wo(i),_=Ff(i),T=Kl(i)==="y",{width:N,height:E}=s.floating;let A,M;x==="top"||x==="bottom"?(A=x,M=_===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(M=x,A=_==="end"?"top":"bottom");const R=E-g.top-g.bottom,I=N-g.left-g.right,D=Gl(E-g[A],R),L=Gl(N-g[M],I),$=!e.middlewareData.shift;let B=D,z=L;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(z=I),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(B=R),$&&!_){const ce=Is(g.left,0),K=Is(g.right,0),W=Is(g.top,0),Z=Is(g.bottom,0);T?z=N-2*(ce!==0||K!==0?ce+K:Is(g.left,g.right)):B=E-2*(W!==0||Z!==0?W+Z:Is(g.top,g.bottom))}await d({...e,availableWidth:z,availableHeight:B});const H=await o.getDimensions(u.floating);return N!==H.width||E!==H.height?{reset:{rects:!0}}:{}}}};function k1(){return typeof window<"u"}function $f(t){return u5(t)?(t.nodeName||"").toLowerCase():"#document"}function Ms(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fo(t){var e;return(e=(u5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function u5(t){return k1()?t instanceof Node||t instanceof Ms(t).Node:!1}function Ma(t){return k1()?t instanceof Element||t instanceof Ms(t).Element:!1}function io(t){return k1()?t instanceof HTMLElement||t instanceof Ms(t).HTMLElement:!1}function wP(t){return!k1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ms(t).ShadowRoot}function Um(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Da(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function LG(t){return["table","td","th"].includes($f(t))}function M1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function LC(t){const e=BC(),r=Ma(t)?Da(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function BG(t){let e=Xl(t);for(;io(e)&&!Xd(e);){if(LC(e))return e;if(M1(e))return null;e=Xl(e)}return null}function BC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Xd(t){return["html","body","#document"].includes($f(t))}function Da(t){return Ms(t).getComputedStyle(t)}function D1(t){return Ma(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xl(t){if($f(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wP(t)&&t.host||fo(t);return wP(e)?e.host:e}function d5(t){const e=Xl(t);return Xd(e)?t.ownerDocument?t.ownerDocument.body:t.body:io(e)&&Um(e)?e:d5(e)}function jp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=d5(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Ms(i);if(s){const u=gE(o);return e.concat(o,o.visualViewport||[],Um(i)?i:[],u&&r?jp(u):[])}return e.concat(i,jp(i,[],r))}function gE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function f5(t){const e=Da(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=io(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,u=ey(r)!==s||ey(n)!==o;return u&&(r=s,n=o),{width:r,height:n,$:u}}function FC(t){return Ma(t)?t:t.contextElement}function Md(t){const e=FC(t);if(!io(e))return Ja(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=f5(e);let o=(s?ey(r.width):r.width)/n,u=(s?ey(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const FG=Ja(0);function h5(t){const e=Ms(t);return!BC()||!e.visualViewport?FG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $G(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ms(t)?!1:e}function au(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=FC(t);let o=Ja(1);e&&(n?Ma(n)&&(o=Md(n)):o=Md(t));const u=$G(s,r,n)?h5(s):Ja(0);let d=(i.left+u.x)/o.x,f=(i.top+u.y)/o.y,g=i.width/o.x,x=i.height/o.y;if(s){const _=Ms(s),T=n&&Ma(n)?Ms(n):n;let N=_,E=gE(N);for(;E&&n&&T!==N;){const A=Md(E),M=E.getBoundingClientRect(),R=Da(E),I=M.left+(E.clientLeft+parseFloat(R.paddingLeft))*A.x,D=M.top+(E.clientTop+parseFloat(R.paddingTop))*A.y;d*=A.x,f*=A.y,g*=A.x,x*=A.y,d+=I,f+=D,N=Ms(E),E=gE(N)}}return ry({width:g,height:x,x:d,y:f})}function $C(t,e){const r=D1(t).scrollLeft;return e?e.left+r:au(fo(t)).left+r}function p5(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:$C(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function UG(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=fo(n),u=e?M1(e.floating):!1;if(n===o||u&&s)return r;let d={scrollLeft:0,scrollTop:0},f=Ja(1);const g=Ja(0),x=io(n);if((x||!x&&!s)&&(($f(n)!=="body"||Um(o))&&(d=D1(n)),io(n))){const T=au(n);f=Md(n),g.x=T.x+n.clientLeft,g.y=T.y+n.clientTop}const _=o&&!x&&!s?p5(o,d,!0):Ja(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+g.x+_.x,y:r.y*f.y-d.scrollTop*f.y+g.y+_.y}}function VG(t){return Array.from(t.getClientRects())}function qG(t){const e=fo(t),r=D1(t),n=t.ownerDocument.body,i=Is(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Is(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+$C(t);const u=-r.scrollTop;return Da(n).direction==="rtl"&&(o+=Is(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:u}}function zG(t,e){const r=Ms(t),n=fo(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,u=0,d=0;if(i){s=i.width,o=i.height;const f=BC();(!f||f&&e==="fixed")&&(u=i.offsetLeft,d=i.offsetTop)}return{width:s,height:o,x:u,y:d}}function WG(t,e){const r=au(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=io(t)?Md(t):Ja(1),o=t.clientWidth*s.x,u=t.clientHeight*s.y,d=i*s.x,f=n*s.y;return{width:o,height:u,x:d,y:f}}function bP(t,e,r){let n;if(e==="viewport")n=zG(t,r);else if(e==="document")n=qG(fo(t));else if(Ma(e))n=WG(e,r);else{const i=h5(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ry(n)}function m5(t,e){const r=Xl(t);return r===e||!Ma(r)||Xd(r)?!1:Da(r).position==="fixed"||m5(r,e)}function HG(t,e){const r=e.get(t);if(r)return r;let n=jp(t,[],!1).filter(u=>Ma(u)&&$f(u)!=="body"),i=null;const s=Da(t).position==="fixed";let o=s?Xl(t):t;for(;Ma(o)&&!Xd(o);){const u=Da(o),d=LC(o);!d&&u.position==="fixed"&&(i=null),(s?!d&&!i:!d&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Um(o)&&!d&&m5(t,o))?n=n.filter(g=>g!==o):i=u,o=Xl(o)}return e.set(t,n),n}function GG(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?M1(e)?[]:HG(e,this._c):[].concat(r),n],u=o[0],d=o.reduce((f,g)=>{const x=bP(e,g,i);return f.top=Is(x.top,f.top),f.right=Gl(x.right,f.right),f.bottom=Gl(x.bottom,f.bottom),f.left=Is(x.left,f.left),f},bP(e,u,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function KG(t){const{width:e,height:r}=f5(t);return{width:e,height:r}}function XG(t,e,r){const n=io(e),i=fo(e),s=r==="fixed",o=au(t,!0,s,e);let u={scrollLeft:0,scrollTop:0};const d=Ja(0);if(n||!n&&!s)if(($f(e)!=="body"||Um(i))&&(u=D1(e)),n){const _=au(e,!0,s,e);d.x=_.x+e.clientLeft,d.y=_.y+e.clientTop}else i&&(d.x=$C(i));const f=i&&!n&&!s?p5(i,u):Ja(0),g=o.left+u.scrollLeft-d.x-f.x,x=o.top+u.scrollTop-d.y-f.y;return{x:g,y:x,width:o.width,height:o.height}}function Cw(t){return Da(t).position==="static"}function _P(t,e){if(!io(t)||Da(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return fo(t)===r&&(r=r.ownerDocument.body),r}function g5(t,e){const r=Ms(t);if(M1(t))return r;if(!io(t)){let i=Xl(t);for(;i&&!Xd(i);){if(Ma(i)&&!Cw(i))return i;i=Xl(i)}return r}let n=_P(t,e);for(;n&&LG(n)&&Cw(n);)n=_P(n,e);return n&&Xd(n)&&Cw(n)&&!LC(n)?r:n||BG(t)||r}const YG=async function(t){const e=this.getOffsetParent||g5,r=this.getDimensions,n=await r(t.floating);return{reference:XG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function ZG(t){return Da(t).direction==="rtl"}const QG={convertOffsetParentRelativeRectToViewportRelativeRect:UG,getDocumentElement:fo,getClippingRect:GG,getOffsetParent:g5,getElementRects:YG,getClientRects:VG,getDimensions:KG,getScale:Md,isElement:Ma,isRTL:ZG};function y5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function JG(t,e){let r=null,n;const i=fo(t);function s(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function o(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=t.getBoundingClientRect(),{left:g,top:x,width:_,height:T}=f;if(u||e(),!_||!T)return;const N=g0(x),E=g0(i.clientWidth-(g+_)),A=g0(i.clientHeight-(x+T)),M=g0(g),I={rootMargin:-N+"px "+-E+"px "+-A+"px "+-M+"px",threshold:Is(0,Gl(1,d))||1};let D=!0;function L($){const B=$[0].intersectionRatio;if(B!==d){if(!D)return o();B?o(!1,B):n=setTimeout(()=>{o(!1,1e-7)},1e3)}B===1&&!y5(f,t.getBoundingClientRect())&&o(),D=!1}try{r=new IntersectionObserver(L,{...I,root:i.ownerDocument})}catch{r=new IntersectionObserver(L,I)}r.observe(t)}return o(!0),s}function eK(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=FC(t),g=i||s?[...f?jp(f):[],...jp(e)]:[];g.forEach(M=>{i&&M.addEventListener("scroll",r,{passive:!0}),s&&M.addEventListener("resize",r)});const x=f&&u?JG(f,r):null;let _=-1,T=null;o&&(T=new ResizeObserver(M=>{let[R]=M;R&&R.target===f&&T&&(T.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var I;(I=T)==null||I.observe(e)})),r()}),f&&!d&&T.observe(f),T.observe(e));let N,E=d?au(t):null;d&&A();function A(){const M=au(t);E&&!y5(E,M)&&r(),E=M,N=requestAnimationFrame(A)}return r(),()=>{var M;g.forEach(R=>{i&&R.removeEventListener("scroll",r),s&&R.removeEventListener("resize",r)}),x?.(),(M=T)==null||M.disconnect(),T=null,d&&cancelAnimationFrame(N)}}const tK=RG,rK=kG,nK=IG,iK=DG,sK=PG,SP=OG,aK=MG,oK=(t,e,r)=>{const n=new Map,i={platform:QG,...r},s={...i.platform,_c:n};return NG(t,e,{...i,platform:s})};var V0=typeof document<"u"?j.useLayoutEffect:j.useEffect;function ny(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ny(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!ny(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function v5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function EP(t,e){const r=v5(t);return Math.round(e*r)/r}function Tw(t){const e=j.useRef(t);return V0(()=>{e.current=t}),e}function lK(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:u=!0,whileElementsMounted:d,open:f}=t,[g,x]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[_,T]=j.useState(n);ny(_,n)||T(n);const[N,E]=j.useState(null),[A,M]=j.useState(null),R=j.useCallback(ie=>{ie!==$.current&&($.current=ie,E(ie))},[]),I=j.useCallback(ie=>{ie!==B.current&&(B.current=ie,M(ie))},[]),D=s||N,L=o||A,$=j.useRef(null),B=j.useRef(null),z=j.useRef(g),H=d!=null,ce=Tw(d),K=Tw(i),W=Tw(f),Z=j.useCallback(()=>{if(!$.current||!B.current)return;const ie={placement:e,strategy:r,middleware:_};K.current&&(ie.platform=K.current),oK($.current,B.current,ie).then(se=>{const me={...se,isPositioned:W.current!==!1};Q.current&&!ny(z.current,me)&&(z.current=me,Df.flushSync(()=>{x(me)}))})},[_,e,r,K,W]);V0(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,x(ie=>({...ie,isPositioned:!1})))},[f]);const Q=j.useRef(!1);V0(()=>(Q.current=!0,()=>{Q.current=!1}),[]),V0(()=>{if(D&&($.current=D),L&&(B.current=L),D&&L){if(ce.current)return ce.current(D,L,Z);Z()}},[D,L,Z,ce,H]);const Y=j.useMemo(()=>({reference:$,floating:B,setReference:R,setFloating:I}),[R,I]),J=j.useMemo(()=>({reference:D,floating:L}),[D,L]),te=j.useMemo(()=>{const ie={position:r,left:0,top:0};if(!J.floating)return ie;const se=EP(J.floating,g.x),me=EP(J.floating,g.y);return u?{...ie,transform:"translate("+se+"px, "+me+"px)",...v5(J.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:se,top:me}},[r,u,J.floating,g.x,g.y]);return j.useMemo(()=>({...g,update:Z,refs:Y,elements:J,floatingStyles:te}),[g,Z,Y,J,te])}const cK=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?SP({element:n.current,padding:i}).fn(r):{}:n?SP({element:n,padding:i}).fn(r):{}}}},uK=(t,e)=>({...tK(t),options:[t,e]}),dK=(t,e)=>({...rK(t),options:[t,e]}),fK=(t,e)=>({...aK(t),options:[t,e]}),hK=(t,e)=>({...nK(t),options:[t,e]}),pK=(t,e)=>({...iK(t),options:[t,e]}),mK=(t,e)=>({...sK(t),options:[t,e]}),gK=(t,e)=>({...cK(t),options:[t,e]});var yK="Arrow",x5=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return m.jsx(Ct.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});x5.displayName=yK;var vK=x5;function w5(t){const[e,r]=j.useState(void 0);return ri(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,u;if("borderBoxSize"in s){const d=s.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,u=f.blockSize}else o=t.offsetWidth,u=t.offsetHeight;r({width:o,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var UC="Popper",[b5,Uf]=es(UC),[xK,_5]=b5(UC),S5=t=>{const{__scopePopper:e,children:r}=t,[n,i]=j.useState(null);return m.jsx(xK,{scope:e,anchor:n,onAnchorChange:i,children:r})};S5.displayName=UC;var E5="PopperAnchor",A5=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=_5(E5,r),o=j.useRef(null),u=dr(e,o);return j.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:m.jsx(Ct.div,{...i,ref:u})});A5.displayName=E5;var VC="PopperContent",[wK,bK]=b5(VC),C5=j.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:_=!1,updatePositionStrategy:T="optimized",onPlaced:N,...E}=t,A=_5(VC,r),[M,R]=j.useState(null),I=dr(e,je=>R(je)),[D,L]=j.useState(null),$=w5(D),B=$?.width??0,z=$?.height??0,H=n+(s!=="center"?"-"+s:""),ce=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},K=Array.isArray(f)?f:[f],W=K.length>0,Z={padding:ce,boundary:K.filter(SK),altBoundary:W},{refs:Q,floatingStyles:Y,placement:J,isPositioned:te,middlewareData:ie}=lK({strategy:"fixed",placement:H,whileElementsMounted:(...je)=>eK(...je,{animationFrame:T==="always"}),elements:{reference:A.anchor},middleware:[uK({mainAxis:i+z,alignmentAxis:o}),d&&dK({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?fK():void 0,...Z}),d&&hK({...Z}),pK({...Z,apply:({elements:je,rects:Be,availableWidth:Te,availableHeight:Ue})=>{const{width:Ve,height:Ce}=Be.reference,tt=je.floating.style;tt.setProperty("--radix-popper-available-width",`${Te}px`),tt.setProperty("--radix-popper-available-height",`${Ue}px`),tt.setProperty("--radix-popper-anchor-width",`${Ve}px`),tt.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),D&&gK({element:D,padding:u}),EK({arrowWidth:B,arrowHeight:z}),_&&mK({strategy:"referenceHidden",...Z})]}),[se,me]=O5(J),ne=Ni(N);ri(()=>{te&&ne?.()},[te,ne]);const ue=ie.arrow?.x,be=ie.arrow?.y,Pe=ie.arrow?.centerOffset!==0,[nt,Ie]=j.useState();return ri(()=>{M&&Ie(window.getComputedStyle(M).zIndex)},[M]),m.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:te?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:nt,"--radix-popper-transform-origin":[ie.transformOrigin?.x,ie.transformOrigin?.y].join(" "),...ie.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(wK,{scope:r,placedSide:se,onArrowChange:L,arrowX:ue,arrowY:be,shouldHideArrow:Pe,children:m.jsx(Ct.div,{"data-side":se,"data-align":me,...E,ref:I,style:{...E.style,animation:te?void 0:"none"}})})})});C5.displayName=VC;var T5="PopperArrow",_K={top:"bottom",right:"left",bottom:"top",left:"right"},N5=j.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=bK(T5,n),o=_K[s.placedSide];return m.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:m.jsx(vK,{...i,ref:r,style:{...i.style,display:"block"}})})});N5.displayName=T5;function SK(t){return t!==null}var EK=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,u=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[f,g]=O5(r),x={start:"0%",center:"50%",end:"100%"}[g],_=(i.arrow?.x??0)+u/2,T=(i.arrow?.y??0)+d/2;let N="",E="";return f==="bottom"?(N=o?x:`${_}px`,E=`${-d}px`):f==="top"?(N=o?x:`${_}px`,E=`${n.floating.height+d}px`):f==="right"?(N=`${-d}px`,E=o?x:`${T}px`):f==="left"&&(N=`${n.floating.width+d}px`,E=o?x:`${T}px`),{data:{x:N,y:E}}}});function O5(t){const[e,r="center"]=t.split("-");return[e,r]}var I5=S5,qC=A5,zC=C5,WC=N5,[L1]=es("Tooltip",[Uf]),HC=Uf(),P5="TooltipProvider",AK=700,AP="tooltip.open",[CK,j5]=L1(P5),R5=t=>{const{__scopeTooltip:e,delayDuration:r=AK,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=j.useRef(!0),u=j.useRef(!1),d=j.useRef(0);return j.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),m.jsx(CK,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:j.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:s})};R5.displayName=P5;var k5="Tooltip",[F_e,B1]=L1(k5),yE="TooltipTrigger",TK=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=B1(yE,r),s=j5(yE,r),o=HC(r),u=j.useRef(null),d=dr(e,u,i.onTriggerChange),f=j.useRef(!1),g=j.useRef(!1),x=j.useCallback(()=>f.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),m.jsx(qC,{asChild:!0,...o,children:m.jsx(Ct.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:et(t.onPointerMove,_=>{_.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),g.current=!0)}),onPointerLeave:et(t.onPointerLeave,()=>{i.onTriggerLeave(),g.current=!1}),onPointerDown:et(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:et(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:et(t.onBlur,i.onClose),onClick:et(t.onClick,i.onClose)})})});TK.displayName=yE;var NK="TooltipPortal",[$_e,OK]=L1(NK,{forceMount:void 0}),Yd="TooltipContent",M5=j.forwardRef((t,e)=>{const r=OK(Yd,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=B1(Yd,t.__scopeTooltip);return m.jsx(oa,{present:n||o.open,children:o.disableHoverableContent?m.jsx(D5,{side:i,...s,ref:e}):m.jsx(IK,{side:i,...s,ref:e})})}),IK=j.forwardRef((t,e)=>{const r=B1(Yd,t.__scopeTooltip),n=j5(Yd,t.__scopeTooltip),i=j.useRef(null),s=dr(e,i),[o,u]=j.useState(null),{trigger:d,onClose:f}=r,g=i.current,{onPointerInTransitChange:x}=n,_=j.useCallback(()=>{u(null),x(!1)},[x]),T=j.useCallback((N,E)=>{const A=N.currentTarget,M={x:N.clientX,y:N.clientY},R=MK(M,A.getBoundingClientRect()),I=DK(M,R),D=LK(E.getBoundingClientRect()),L=FK([...I,...D]);u(L),x(!0)},[x]);return j.useEffect(()=>()=>_(),[_]),j.useEffect(()=>{if(d&&g){const N=A=>T(A,g),E=A=>T(A,d);return d.addEventListener("pointerleave",N),g.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",N),g.removeEventListener("pointerleave",E)}}},[d,g,T,_]),j.useEffect(()=>{if(o){const N=E=>{const A=E.target,M={x:E.clientX,y:E.clientY},R=d?.contains(A)||g?.contains(A),I=!BK(M,o);R?_():I&&(_(),f())};return document.addEventListener("pointermove",N),()=>document.removeEventListener("pointermove",N)}},[d,g,o,f,_]),m.jsx(D5,{...t,ref:s})}),[PK,jK]=L1(k5,{isInside:!1}),RK=S6("TooltipContent"),D5=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...u}=t,d=B1(Yd,r),f=HC(r),{onClose:g}=d;return j.useEffect(()=>(document.addEventListener(AP,g),()=>document.removeEventListener(AP,g)),[g]),j.useEffect(()=>{if(d.trigger){const x=_=>{_.target?.contains(d.trigger)&&g()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[d.trigger,g]),m.jsx(Lf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:x=>x.preventDefault(),onDismiss:g,children:m.jsxs(zC,{"data-state":d.stateAttribute,...f,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(RK,{children:n}),m.jsx(PK,{scope:r,isInside:!0,children:m.jsx(zW,{id:d.contentId,role:"tooltip",children:i||n})})]})})});M5.displayName=Yd;var L5="TooltipArrow",kK=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=HC(r);return jK(L5,r).isInside?null:m.jsx(WC,{...i,...n,ref:e})});kK.displayName=L5;function MK(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function DK(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function LK(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function BK(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const u=e[s].x,d=e[s].y,f=e[o].x,g=e[o].y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function FK(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),$K(e)}function $K(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var UK=R5,B5=M5;const VK=UK,qK=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>m.jsx(B5,{ref:n,sideOffset:e,className:Ze("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r}));qK.displayName=B5.displayName;var Xa=function(){return Xa=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xa.apply(this,arguments)};function Vf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function zK(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})}function WK(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}const HK=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class GC extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class GK extends GC{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class CP extends GC{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class TP extends GC{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vE;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vE||(vE={}));class KK{constructor(e,{headers:r={},customFetch:n,region:i=vE.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=HK(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return zK(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:u,method:d,body:f,signal:g,timeout:x}=n;let _={},{region:T}=n;T||(T=this.region);const N=new URL(`${this.url}/${r}`);T&&T!=="any"&&(_["x-region"]=T,N.searchParams.set("forceFunctionRegion",T));let E;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",E=f):typeof f=="string"?(_["Content-Type"]="text/plain",E=f):typeof FormData<"u"&&f instanceof FormData?E=f:(_["Content-Type"]="application/json",E=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?E=JSON.stringify(f):E=f;let A=g;x&&(o=new AbortController,s=setTimeout(()=>o.abort(),x),g?(A=o.signal,g.addEventListener("abort",()=>o.abort())):A=o.signal);const M=yield this.fetch(N.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),u),body:E,signal:A}).catch(L=>{throw new GK(L)}),R=M.headers.get("x-relay-error");if(R&&R==="true")throw new CP(M);if(!M.ok)throw new TP(M);let I=((i=M.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),D;return I==="application/json"?D=yield M.json():I==="application/octet-stream"||I==="application/pdf"?D=yield M.blob():I==="text/event-stream"?D=M:I==="multipart/form-data"?D=yield M.formData():D=yield M.text(),{data:D,error:null,response:M}}catch(u){return{data:null,error:u,response:u instanceof TP||u instanceof CP?u.context:void 0}}finally{s&&clearTimeout(s)}})}}var XK=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},YK=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,u=null,d=null,f=s.status,g=s.statusText;if(s.ok){var x,_;if(r.method!=="HEAD"){var T;const M=await s.text();M===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((T=r.headers.get("Accept"))===null||T===void 0)&&T.includes("application/vnd.pgrst.plan+text"))?u=M:u=JSON.parse(M))}const E=(x=r.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),A=(_=s.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");E&&A&&A.length>1&&(d=parseInt(A[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(o={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var N;const E=await s.text();try{o=JSON.parse(E),Array.isArray(o)&&s.status===404&&(u=[],o=null,f=200,g="OK")}catch{s.status===404&&E===""?(f=204,g="No Content"):o={message:E}}if(o&&r.isMaybeSingle&&(!(o==null||(N=o.details)===null||N===void 0)&&N.includes("0 rows"))&&(o=null,f=200,g="OK"),o&&r.shouldThrowOnError)throw new XK(o)}return{error:o,data:u,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let u="";const d=s?.cause;if(d){var f,g,x,_;const N=(f=d?.message)!==null&&f!==void 0?f:"",E=(g=d?.code)!==null&&g!==void 0?g:"";u=`${(x=s?.name)!==null&&x!==void 0?x:"FetchError"}: ${s?.message}`,u+=`

Caused by: ${(_=d?.name)!==null&&_!==void 0?_:"Error"}: ${N}`,E&&(u+=` (${E})`),d?.stack&&(u+=`
${d.stack}`)}else{var T;u=(T=s?.stack)!==null&&T!==void 0?T:""}return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},ZK=class extends YK{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${d}"; options=${u};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const NP=new RegExp("[,()]");var vd=class extends ZK{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&NP.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&NP.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},QK=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(f=>/\s/.test(f)&&!s?"":(f==='"'&&(s=!s),f)).join(""),{url:u,headers:d}=this.cloneRequestState();return u.searchParams.set("select",o),n&&d.append("Prefer",`count=${n}`),new vd({method:i,url:u,headers:d,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);s.searchParams.set("columns",d.join(","))}}return new vd({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:u,headers:d}=this.cloneRequestState();if(d.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&u.searchParams.set("on_conflict",e),n&&d.append("Prefer",`count=${n}`),i||d.append("Prefer","missing=default"),Array.isArray(t)){const f=t.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(f.length>0){const g=[...new Set(f)].map(x=>`"${x}"`);u.searchParams.set("columns",g.join(","))}}return new vd({method:o,url:u,headers:d,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new vd({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new vd({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},JK=class F5{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new QK(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new F5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let u;const d=new URL(`${this.url}/rpc/${e}`);let f;const g=T=>T!==null&&typeof T=="object"&&(!Array.isArray(T)||T.some(g)),x=n&&Object.values(r).some(g);x?(u="POST",f=r):n||i?(u=n?"HEAD":"GET",Object.entries(r).filter(([T,N])=>N!==void 0).map(([T,N])=>[T,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([T,N])=>{d.searchParams.append(T,N)})):(u="POST",f=r);const _=new Headers(this.headers);return x?_.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&_.set("Prefer",`count=${s}`),new vd({method:u,url:d,headers:_,schema:this.schemaName,body:f,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class eX{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const tX="2.91.1",rX=`realtime-js/${tX}`,nX="1.0.0",$5="2.0.0",OP=$5,xE=1e4,iX=1e3,sX=100;var Dl;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dl||(Dl={}));var Yn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Yn||(Yn={}));var Sa;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Sa||(Sa={}));var wE;(function(t){t.websocket="websocket"})(wE||(wE={}));var zc;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(zc||(zc={}));class aX{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,s;const o=e.topic,u=(i=e.ref)!==null&&i!==void 0?i:"",d=(s=e.join_ref)!==null&&s!==void 0?s:"",f=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},x=Object.keys(g).length===0?"":JSON.stringify(g);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+u.length+o.length+f.length+x.length,T=new ArrayBuffer(this.HEADER_LENGTH+_);let N=new DataView(T),E=0;N.setUint8(E++,this.KINDS.userBroadcastPush),N.setUint8(E++,d.length),N.setUint8(E++,u.length),N.setUint8(E++,o.length),N.setUint8(E++,f.length),N.setUint8(E++,x.length),N.setUint8(E++,r),Array.from(d,M=>N.setUint8(E++,M.charCodeAt(0))),Array.from(u,M=>N.setUint8(E++,M.charCodeAt(0))),Array.from(o,M=>N.setUint8(E++,M.charCodeAt(0))),Array.from(f,M=>N.setUint8(E++,M.charCodeAt(0))),Array.from(x,M=>N.setUint8(E++,M.charCodeAt(0)));var A=new Uint8Array(T.byteLength+n.byteLength);return A.set(new Uint8Array(T),0),A.set(new Uint8Array(n),T.byteLength),A.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,u,d]=n;return r({join_ref:i,ref:s,topic:o,event:u,payload:d})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;if(n===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,r,i)}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),u=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(e.slice(d,d+i));d=d+i;const g=n.decode(e.slice(d,d+s));d=d+s;const x=n.decode(e.slice(d,d+o));d=d+o;const _=e.slice(d,e.byteLength),T=u===this.JSON_ENCODING?JSON.parse(n.decode(_)):_,N={type:this.BROADCAST_EVENT,event:g,payload:T};return o>0&&(N.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class U5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Wr||(Wr={}));const IP=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=oX(o,t,e,i),s),{}):{}},oX=(t,e,r,n)=>{const i=e.find(u=>u.name===t),s=i?.type,o=r[t];return s&&!n.includes(s)?V5(s,o):bE(o)},V5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return dX(e,r)}switch(t){case Wr.bool:return lX(e);case Wr.float4:case Wr.float8:case Wr.int2:case Wr.int4:case Wr.int8:case Wr.numeric:case Wr.oid:return cX(e);case Wr.json:case Wr.jsonb:return uX(e);case Wr.timestamp:return fX(e);case Wr.abstime:case Wr.date:case Wr.daterange:case Wr.int4range:case Wr.int8range:case Wr.money:case Wr.reltime:case Wr.text:case Wr.time:case Wr.timestamptz:case Wr.timetz:case Wr.tsrange:case Wr.tstzrange:return bE(e);default:return bE(e)}},bE=t=>t,lX=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},cX=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},uX=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},dX=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(u=>V5(e,u))}return t},fX=t=>typeof t=="string"?t.replace(" ","T"):t,q5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Nw{constructor(e,r,n={},i=xE){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var PP;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(PP||(PP={}));class vp{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=vp.syncState(this.state,i,s,o),this.pendingDiffs.forEach(d=>{this.state=vp.syncDiff(this.state,d,s,o)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=vp.syncDiff(this.state,i,s,o),u())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),u={},d={};return this.map(s,(f,g)=>{o[f]||(d[f]=g)}),this.map(o,(f,g)=>{const x=s[f];if(x){const _=g.map(A=>A.presence_ref),T=x.map(A=>A.presence_ref),N=g.filter(A=>T.indexOf(A.presence_ref)<0),E=x.filter(A=>_.indexOf(A.presence_ref)<0);N.length>0&&(u[f]=N),E.length>0&&(d[f]=E)}else u[f]=g}),this.syncDiff(s,{joins:u,leaves:d},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(u,d)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),g.length>0){const x=e[u].map(T=>T.presence_ref),_=g.filter(T=>x.indexOf(T.presence_ref)<0);e[u].unshift(..._)}n(u,g,d)}),this.map(o,(u,d)=>{let f=e[u];if(!f)return;const g=d.map(x=>x.presence_ref);f=f.filter(x=>g.indexOf(x.presence_ref)<0),e[u]=f,i(u,f,d),f.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jP;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(jP||(jP={}));var xp;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xp||(xp={}));var ko;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ko||(ko={}));class Ed{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Yn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nw(this,Sa.join,this.params,this.timeout),this.rejoinTimer=new U5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Yn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Sa.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new vp(this),this.broadcastEndpointURL=q5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Yn.closed){const{config:{broadcast:o,presence:u,private:d}}=this.params,f=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(T=>T.filter))!==null&&i!==void 0?i:[],g=!!this.bindings[xp.PRESENCE]&&this.bindings[xp.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,x={},_={broadcast:o,presence:Object.assign(Object.assign({},u),{enabled:g}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(T=>e?.(ko.CHANNEL_ERROR,T)),this._onClose(()=>e?.(ko.CLOSED)),this.updateJoinPayload(Object.assign({config:_},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:T})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),T===void 0){e?.(ko.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,A=(N=E?.length)!==null&&N!==void 0?N:0,M=[];for(let R=0;R<A;R++){const I=E[R],{filter:{event:D,schema:L,table:$,filter:B}}=I,z=T&&T[R];if(z&&z.event===D&&Ed.isFilterValueEqual(z.schema,L)&&Ed.isFilterValueEqual(z.table,$)&&Ed.isFilterValueEqual(z.filter,B))M.push(Object.assign(Object.assign({},I),{id:z.id}));else{this.unsubscribe(),this.state=Yn.errored,e?.(ko.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=M,e&&e(ko.SUBSCRIBED);return}}).receive("error",T=>{this.state=Yn.errored,e?.(ko.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{e?.(ko.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Yn.joined&&e===xp.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let d=u.statusText;try{const f=await u.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,u,d;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Yn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Sa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Nw(this,Sa.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yn.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Nw(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>sX){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:g}=Sa;if(n&&[u,d,f,g].indexOf(o)>=0&&n!==this._joinRef())return;let _=this._onMessage(o,r,n);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(T=>{var N,E,A;return((N=T.filter)===null||N===void 0?void 0:N.event)==="*"||((A=(E=T.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(T=>T.callback(_,n)):(s=this.bindings[o])===null||s===void 0||s.filter(T=>{var N,E,A,M,R,I,D,L;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in T){const $=T.id,B=(N=T.filter)===null||N===void 0?void 0:N.event;return $&&((E=r.ids)===null||E===void 0?void 0:E.includes($))&&(B==="*"||B?.toLocaleLowerCase()===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))&&(!(!((M=T.filter)===null||M===void 0)&&M.table)||T.filter.table===((R=r.data)===null||R===void 0?void 0:R.table))}else{const $=(D=(I=T?.filter)===null||I===void 0?void 0:I.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return $==="*"||$===((L=r?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===o}).map(T=>{if(typeof _=="object"&&"ids"in _){const N=_.data,{schema:E,table:A,commit_timestamp:M,type:R,errors:I}=N;_=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:M,eventType:R,new:{},old:{},errors:I}),this._getPayloadRecords(N))}T.callback(_,n)})}_isClosed(){return this.state===Yn.closed}_isJoined(){return this.state===Yn.joined}_isJoining(){return this.state===Yn.joining}_isLeaving(){return this.state===Yn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Ed.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Sa.close,{},e)}_onError(e){this._on(Sa.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=IP(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=IP(e.columns,e.old_record)),r}}const Ow=()=>{},y0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hX=[1e3,2e3,5e3,1e4],pX=1e4,mX=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gX{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xE,this.transport=null,this.heartbeatIntervalMs=y0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ow,this.ref=0,this.reconnectTimer=null,this.vsn=OP,this.logger=Ow,this.conn=null,this.sendBuffer=[],this.serializer=new aX,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${wE.websocket}`,this.httpEndpoint=q5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eX.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Dl.connecting:return zc.Connecting;case Dl.open:return zc.Open;case Dl.closing:return zc.Closing;default:return zc.Closed}}isConnected(){return this.connectionState()===zc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Ed(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(iX,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},y0.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:o}=r,u=o?`(${o})`:"",d=s.status||"";this.log("receive",`${d} ${n} ${i} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Dl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Dl.open||this.conn.readyState===Dl.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Sa.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([mX],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:rX};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Sa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new U5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},y0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,u,d,f,g,x,_,T;switch(this.transport=(r=e?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e?.timeout)!==null&&n!==void 0?n:xE,this.heartbeatIntervalMs=(i=e?.heartbeatIntervalMs)!==null&&i!==void 0?i:y0.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(u=e?.heartbeatCallback)!==null&&u!==void 0?u:Ow,this.vsn=(d=e?.vsn)!==null&&d!==void 0?d:OP,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e?.reconnectAfterMs)!==null&&f!==void 0?f:(N=>hX[N-1]||pX),this.vsn){case nX:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((N,E)=>E(JSON.stringify(N))),this.decode=(x=e?.decode)!==null&&x!==void 0?x:((N,E)=>E(JSON.parse(N)));break;case $5:this.encode=(_=e?.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(T=e?.decode)!==null&&T!==void 0?T:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var Rp=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yX(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function vX(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function xX(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:o}){const u=yX(t.baseUrl,n,i),d=await vX(t.auth),f=await e(u,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...d,...o},body:s?JSON.stringify(s):void 0}),g=await f.text(),x=(f.headers.get("content-type")||"").includes("application/json"),_=x&&g?JSON.parse(g):g;if(!f.ok){const T=x?_:void 0,N=T?.error;throw new Rp(N?.message??`Request failed with status ${f.status}`,{status:f.status,icebergType:N?.type,icebergCode:N?.code,details:T})}return{status:f.status,headers:f.headers,data:_}}}}function v0(t){return t.join("")}var wX=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:v0(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${v0(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${v0(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${v0(t.namespace)}`}),!0}catch(e){if(e instanceof Rp&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Rp&&r.status===409)return;throw r}}};function sd(t){return t.join("")}var bX=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sd(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sd(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sd(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sd(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sd(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sd(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Rp&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Rp&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},_X=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=xX({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new wX(this.client,e),this.tableOps=new bX(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},F1=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function gn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var SX=class extends F1{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},_E=class extends F1{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const KC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EX=()=>Response,SE=t=>{if(Array.isArray(t))return t.map(r=>SE(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=SE(n)}),e},AX=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},CX=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function TX(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NX(t){var e=TX(t,"string");return kp(e)=="symbol"?e:e+""}function OX(t,e,r){return(e=NX(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RP(Object(r),!0).forEach(function(n){OX(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Iw=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},IX=async(t,e,r)=>{t instanceof await EX()&&!r?.noResolveJson?t.json().then(n=>{const i=t.status||500,s=n?.statusCode||i+"";e(new SX(Iw(n),i,s))}).catch(n=>{e(new _E(Iw(n),n))}):e(new _E(Iw(t),t))},PX=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(AX(n)?(i.headers=kt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,e?.duplex&&(i.duplex=e.duplex),kt(kt({},i),r))};async function Vm(t,e,r,n,i,s){return new Promise((o,u)=>{t(r,PX(e,n,i,s)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>IX(d,u,n))})}async function Mp(t,e,r,n){return Vm(t,"GET",e,r,n)}async function ba(t,e,r,n,i){return Vm(t,"POST",e,n,i,r)}async function EE(t,e,r,n,i){return Vm(t,"PUT",e,n,i,r)}async function jX(t,e,r,n){return Vm(t,"HEAD",e,kt(kt({},r),{},{noResolveJson:!0}),n)}async function XC(t,e,r,n,i){return Vm(t,"DELETE",e,n,i,r)}var RX=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(gn(e))return{data:null,error:e};throw e}}};let z5;z5=Symbol.toStringTag;var kX=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[z5]="BlobDownloadBuilder",this.promise=null}asStream(){return new RX(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(gn(e))return{data:null,error:e};throw e}}};const MX={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var DX=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=KC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let s;const o=kt(kt({},kP),n);let u=kt(kt({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",i.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),d&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(d))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n?.headers&&(u=kt(kt({},u),n.headers));const f=i._removeEmptyFolders(e),g=i._getFinalPath(f),x=await(t=="PUT"?EE:ba)(i.fetch,`${i.url}/object/${g}`,s,kt({headers:u},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:x.Id,fullPath:x.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(gn(s))return{data:null,error:s};throw s}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),u=new URL(i.url+`/object/upload/sign/${o}`);u.searchParams.set("token",e);try{let d;const f=kt({upsert:kP.upsert},n),g=kt(kt({},i.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType),{data:{path:s,fullPath:(await EE(i.fetch,u.toString(),d,{headers:g})).Key},error:null}}catch(d){if(i.shouldThrowOnError)throw d;if(gn(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=kt({},r.headers);e?.upsert&&(i["x-upsert"]="true");const s=await ba(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+s.url),u=o.searchParams.get("token");if(!u)throw new F1("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await ba(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await ba(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r?.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),s=await ba(n.fetch,`${n.url}/object/sign/${i}`,kt({expiresIn:e},r?.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await ba(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>kt(kt({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof e?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(e?.transform||{}),i=n?`?${n}`:"",s=this._getFinalPath(t),o=()=>Mp(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new kX(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:SE(await Mp(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await jX(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(gn(n)&&n instanceof _E){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof e?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(e?.transform||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await XC(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=kt(kt(kt({},MX),e),{},{prefix:t||""});return{data:await ba(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(gn(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=kt({},t);return{data:await ba(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const W5="2.91.1",H5={"X-Client-Info":`storage-js/${W5}`};var LX=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=kt(kt({},H5),e),this.fetch=KC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Mp(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Mp(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await ba(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await EE(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await ba(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await XC(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},BX=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=kt(kt({},H5),e),this.fetch=KC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ba(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Mp(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await XC(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!CX(t))throw new F1("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _X({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...u)=>{try{return{data:await o.apply(i,u),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const YC={"X-Client-Info":`storage-js/${W5}`,"Content-Type":"application/json"};var G5=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function js(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Pw=class extends G5{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},FX=class extends G5{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const ZC=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),$X=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},MP=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UX=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!r?.noResolveJson){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const o=s?.statusCode||s?.code||n+"";e(new Pw(MP(s),n,o))}).catch(()=>{const s=n+"";e(new Pw(i.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new Pw(i.statusText||`HTTP ${n} error`,n,s))}}else e(new FX(MP(t),t))},VX=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return n?($X(n)?(i.headers=kt({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,kt(kt({},i),r)):i};async function qX(t,e,r,n,i,s){return new Promise((o,u)=>{t(r,VX(e,n,i,s)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>UX(d,u,n))})}async function Rs(t,e,r,n,i){return qX(t,"POST",e,n,i,r)}var zX=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=kt(kt({},YC),e),this.fetch=ZC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Rs(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Rs(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(js(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Rs(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Rs(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(js(n))return{data:null,error:n};throw n}}},WX=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=kt(kt({},YC),e),this.fetch=ZC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Rs(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Rs(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Rs(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Rs(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Rs(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}},HX=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=kt(kt({},YC),e),this.fetch=ZC(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Rs(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Rs(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Rs(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Rs(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(js(r))return{data:null,error:r};throw r}}},GX=class extends HX{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new KX(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},KX=class extends zX{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new XX(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},XX=class extends WX{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,kt(kt({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},YX=class extends LX{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new DX(this.url,this.headers,t,this.fetch)}get vectors(){return new GX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new BX(this.url+"/iceberg",this.headers,this.fetch)}};const K5="2.91.1",xd=30*1e3,AE=3,jw=AE*xd,ZX="http://localhost:9999",QX="supabase.auth.token",JX={"X-Client-Info":`gotrue-js/${K5}`},CE="X-Supabase-Api-Version",X5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eY=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tY=600*1e3;class Dp extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function _t(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class rY extends Dp{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function nY(t){return _t(t)&&t.name==="AuthApiError"}class Wc extends Dp{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Jo extends Dp{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Es extends Jo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function iY(t){return _t(t)&&t.name==="AuthSessionMissingError"}class ad extends Jo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class x0 extends Jo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class w0 extends Jo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sY(t){return _t(t)&&t.name==="AuthImplicitGrantRedirectError"}class DP extends Jo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class aY extends Jo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class TE extends Jo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Rw(t){return _t(t)&&t.name==="AuthRetryableFetchError"}class LP extends Jo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class NE extends Jo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const iy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BP=` 	
\r=`.split(""),oY=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<BP.length;e+=1)t[BP[e].charCodeAt(0)]=-2;for(let e=0;e<iy.length;e+=1)t[iy[e].charCodeAt(0)]=e;return t})();function FP(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(iy[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(iy[n]),e.queuedBits-=6}}function Y5(t,e,r){const n=oY[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function $P(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{uY(o,n,r)};for(let o=0;o<t.length;o+=1)Y5(t.charCodeAt(o),i,s);return e.join("")}function lY(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function cY(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}lY(n,e)}}function uY(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Dd(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Y5(t.charCodeAt(i),r,n);return new Uint8Array(e)}function dY(t){const e=[];return cY(t,r=>e.push(r)),new Uint8Array(e)}function Gc(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>FP(i,r,n)),FP(null,r,n),e.join("")}function fY(t){return Math.round(Date.now()/1e3)+t}function hY(){return Symbol("auth-callback")}const Ei=()=>typeof window<"u"&&typeof document<"u",Mc={tested:!1,writable:!1},Z5=()=>{if(!Ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mc.tested)return Mc.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mc.tested=!0,Mc.writable=!0}catch{Mc.tested=!0,Mc.writable=!1}return Mc.writable};function pY(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Q5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),mY=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wd=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Dc=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_i=async(t,e)=>{await t.removeItem(e)};class $1{constructor(){this.promise=new $1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}$1.promiseConstructor=Promise;function kw(t){const e=t.split(".");if(e.length!==3)throw new NE("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!eY.test(e[n]))throw new NE("JWT not in base64url format");return{header:JSON.parse($P(e[0])),payload:JSON.parse($P(e[1])),signature:Dd(e[2]),raw:{header:e[0],payload:e[1]}}}async function gY(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function yY(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function vY(t){return("0"+t.toString(16)).substr(-2)}function xY(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,vY).join("")}async function wY(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function bY(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await wY(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function od(t,e,r=!1){const n=xY();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await wd(t,`${e}-code-verifier`,i);const s=await bY(n);return[s,n===s?"plain":"s256"]}const _Y=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SY(t){const e=t.headers.get(CE);if(!e||!e.match(_Y))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function EY(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function AY(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ld(t){if(!CY.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mw(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TY(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function UP(t){return JSON.parse(JSON.stringify(t))}const $c=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),NY=[502,503,504];async function VP(t){var e;if(!mY(t))throw new TE($c(t),0);if(NY.includes(t.status))throw new TE($c(t),t.status);let r;try{r=await t.json()}catch(s){throw new Wc($c(s),s)}let n;const i=SY(t);if(i&&i.getTime()>=X5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new LP($c(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Es}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new LP($c(r),t.status,r.weak_password.reasons);throw new rY($c(r),t.status||500,n)}const OY=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Rt(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[CE]||(s[CE]=X5["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await IY(t,e,r+u,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function IY(t,e,r,n,i,s){const o=OY(e,n,i,s);let u;try{u=await t(r,Object.assign({},o))}catch(d){throw console.error(d),new TE($c(d),0)}if(u.ok||await VP(u),n?.noResolveJson)return u;try{return await u.json()}catch(d){await VP(d)}}function xa(t){var e;let r=null;RY(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=fY(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function qP(t){const e=xa(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fl(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function PY(t){return{data:t,error:null}}function jY(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=Vf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function zP(t){return t}function RY(t){return t.access_token&&t.refresh_token&&t.expires_in}const Dw=["global","local","others"];class kY{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Q5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Dw[0]){if(Dw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dw.join(", ")}`);try{return await Rt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(_t(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Rt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fl})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Vf(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Rt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:jY,redirectTo:r?.redirectTo})}catch(r){if(_t(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fl})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await Rt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:zP});if(g.error)throw g.error;const x=await g.json(),_=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,T=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return T.length>0&&(T.forEach(N=>{const E=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(N.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(_)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(_t(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){ld(e);try{return await Rt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fl})}catch(r){if(_t(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ld(e);try{return await Rt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Fl})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ld(e);try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fl})}catch(n){if(_t(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ld(e.userId);try{const{data:r,error:n}=await Rt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ld(e.userId),ld(e.id);try{return{data:await Rt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=await Rt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:zP});if(g.error)throw g.error;const x=await g.json(),_=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,T=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return T.length>0&&(T.forEach(N=>{const E=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(N.split(";")[1].split("=")[1]);f[`${A}Page`]=E}),f.total=parseInt(_)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(_t(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Rt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Rt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(_t(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Rt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(_t(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Rt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(_t(r))return{data:null,error:r};throw r}}}function WP(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const cd={debug:!!(globalThis&&Z5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class J5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MY extends J5{}async function DY(t,e,r){cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),cd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw cd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new MY(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cd.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function LY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function eL(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function BY(t){return parseInt(t,16)}function FY(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function $Y(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:u,requestId:d,resources:f,scheme:g,uri:x,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const T=eL(t.address),N=g?`${g}://${n}`:n,E=t.statement?`${t.statement}
`:"",A=`${N} wants you to sign in with your Ethereum account:
${T}

${E}`;let M=`URI: ${x}
Version: ${_}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(M+=`
Expiration Time: ${i.toISOString()}`),u&&(M+=`
Not Before: ${u.toISOString()}`),d&&(M+=`
Request ID: ${d}`),f){let R=`
Resources:`;for(const I of f){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);R+=`
- ${I}`}M+=R}return`${A}
${M}`}class Ln extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class sy extends Ln{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function UY({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ln({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ln({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ln({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Ln({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Ln({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Ln({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new Ln({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Ln({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(tL(o)){if(s.rp.id!==o)return new Ln({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ln({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Ln({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Ln({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ln({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function VY({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Ln({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Ln({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(tL(n)){if(r.rpId!==n)return new Ln({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Ln({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Ln({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Ln({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class qY{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const zY=new qY;function WY(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Vf(t,["challenge","user","excludeCredentials"]),s=Dd(e).buffer,o=Object.assign(Object.assign({},r),{id:Dd(r.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];u.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:Dd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function HY(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Vf(t,["challenge","allowCredentials"]),i=Dd(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const u=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},u),{id:Dd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function GY(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:Gc(new Uint8Array(t.response.attestationObject)),clientDataJSON:Gc(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function KY(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Gc(new Uint8Array(i.authenticatorData)),clientDataJSON:Gc(new Uint8Array(i.clientDataJSON)),signature:Gc(new Uint8Array(i.signature)),userHandle:i.userHandle?Gc(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tL(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function HP(){var t,e;return!!(Ei()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function XY(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sy("Browser returned unexpected credential type",e)}:{data:null,error:new sy("Empty credential response",e)}}catch(e){return{data:null,error:UY({error:e,options:t})}}}async function YY(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new sy("Browser returned unexpected credential type",e)}:{data:null,error:new sy("Empty credential response",e)}}catch(e){return{data:null,error:VY({error:e,options:t})}}}const ZY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ay(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const u=n[s];e(u)?n[s]=ay(u,o):n[s]=ay(o)}else n[s]=o}return n}function JY(t,e){return ay(ZY,t,e||{})}function eZ(t,e){return ay(QY,t,e||{})}class tZ{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:u};const d=i??zY.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=JY(o.webauthn.credential_options.publicKey,s?.create),{data:g,error:x}=await XY({publicKey:f,signal:d});return g?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}case"request":{const f=eZ(o.webauthn.credential_options.publicKey,s?.request),{data:g,error:x}=await YY(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return g?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:g}},error:null}:{data:null,error:x}}}}catch(o){return _t(o)?{data:null,error:o}:{data:null,error:new Wc("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Dp("rpId is required for WebAuthn authentication")};try{if(!HP())return{data:null,error:new Wc("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:u};const{webauthn:d}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return _t(o)?{data:null,error:o}:{data:null,error:new Wc("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Dp("rpId is required for WebAuthn registration")};try{if(!HP())return{data:null,error:new Wc("Browser does not support WebAuthn",null)};const{data:o,error:u}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(g=>{var x;return(x=g.data)===null||x===void 0?void 0:x.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:u};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return _t(o)?{data:null,error:o}:{data:null,error:new Wc("Unexpected error in register",o)}}}}LY();const rZ={url:ZX,storageKey:QX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:JX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function GP(t,e,r){return await r()}const ud={};class Lp{get jwks(){var e,r;return(r=(e=ud[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){ud[this.storageKey]=Object.assign(Object.assign({},ud[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=ud[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){ud[this.storageKey]=Object.assign(Object.assign({},ud[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},rZ),e);if(this.storageKey=s.storageKey,this.instanceID=(r=Lp.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ei()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kY({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Q5(s.fetch),this.lock=s.lock||GP,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Ei()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=DY:this.lock=GP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tZ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Z5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=WP(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=WP(this.memoryStorage)),Ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${K5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Ei()&&(r=pY(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ei()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),sY(s)){const d=(e=s.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return _t(r)?this._returnResult({error:r}):this._returnResult({error:new Wc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:xa}),{data:o,error:u}=s;if(u||!o)return this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(_t(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:g,password:x,options:_}=e;let T=null,N=null;this.flowType==="pkce"&&([T,N]=await od(this.storage,this.storageKey)),s=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:g,password:x,data:(r=_?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:T,code_challenge_method:N},xform:xa})}else if("phone"in e){const{phone:g,password:x,options:_}=e;s=await Rt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(n=_?.data)!==null&&n!==void 0?n:{},channel:(i=_?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:xa})}else throw new x0("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u||!o)return await _i(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(s){if(await _i(this.storage,`${this.storageKey}-code-verifier`),_t(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:u}=e;r=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:qP})}else if("phone"in e){const{phone:s,password:o,options:u}=e;r=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:qP})}else throw new x0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new ad;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,u,d,f,g,x,_;let T,N;if("message"in e)T=e.message,N=e.signature;else{const{chain:E,wallet:A,statement:M,options:R}=e;let I;if(Ei())if(typeof A=="object")I=A;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")I=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=A}const D=new URL((r=R?.url)!==null&&r!==void 0?r:window.location.href),L=await I.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const $=eL(L[0]);let B=(n=R?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!B){const H=await I.request({method:"eth_chainId"});B=BY(H)}const z={domain:D.host,address:$,statement:M,uri:D.href,version:"1",chainId:B,nonce:(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=R?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=R?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.resources};T=$Y(z),N=await I.request({method:"personal_sign",params:[FY(T),$]})}try{const{data:E,error:A}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:N},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:xa});if(A)throw A;if(!E||!E.session||!E.user){const M=new ad;return this._returnResult({data:{user:null,session:null},error:M})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:A})}catch(E){if(_t(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var r,n,i,s,o,u,d,f,g,x,_,T;let N,E;if("message"in e)N=e.message,E=e.signature;else{const{chain:A,wallet:M,statement:R,options:I}=e;let D;if(Ei())if(typeof M=="object")D=M;else{const $=window;if("solana"in $&&typeof $.solana=="object"&&("signIn"in $.solana&&typeof $.solana.signIn=="function"||"signMessage"in $.solana&&typeof $.solana.signMessage=="function"))D=$.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=M}const L=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const $=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),R?{statement:R}:null));let B;if(Array.isArray($)&&$[0]&&typeof $[0]=="object")B=$[0];else if($&&typeof $=="object"&&"signedMessage"in $&&"signature"in $)B=$;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)N=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),E=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${L.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(n=I?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=I?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((o=I?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((u=I?.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((d=I?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((f=I?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((x=(g=I?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...I.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const $=await D.signMessage(new TextEncoder().encode(N),"utf8");if(!$||!($ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=$}}try{const{data:A,error:M}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Gc(E)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(T=e.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:xa});if(M)throw M;if(!A||!A.session||!A.user){const R=new ad;return this._returnResult({data:{user:null,session:null},error:R})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:M})}catch(A){if(_t(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(e){const r=await Dc(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new aY;const{data:s,error:o}=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:xa});if(await _i(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const u=new ad;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await _i(this.storage,`${this.storageKey}-code-verifier`),_t(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,u=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:xa}),{data:d,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const g=new ad;return this._returnResult({data:{user:null,session:null},error:g})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:u,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await od(this.storage,this.storageKey));const{error:x}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:g}=await Rt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(s=d?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:g})}throw new x0("You must provide either an email or phone number.")}catch(u){if(await _i(this.storage,`${this.storageKey}-code-verifier`),_t(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:u}=await Rt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:xa});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(_t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let u=null,d=null;this.flowType==="pkce"&&([u,d]=await od(this.storage,this.storageKey));const f=await Rt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:PY});return!((s=f.data)===null||s===void 0)&&s.url&&Ei()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await _i(this.storage,`${this.storageKey}-code-verifier`),_t(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Es;const{error:i}=await Rt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(_t(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Rt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:u}=await Rt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:u})}throw new x0("You must provide either an email or phone number and a type")}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Dc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<jw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await Dc(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Mw()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=TY(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fl}):await this._useSession(async r=>{var n,i,s;const{data:o,error:u}=r;if(u)throw u;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Es}:await Rt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Fl})})}catch(r){if(_t(r))return iY(r)&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Es;const o=i.session;let u=null,d=null;this.flowType==="pkce"&&e.email!=null&&([u,d]=await od(this.storage,this.storageKey));const{data:f,error:g}=await Rt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Fl});if(g)throw g;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await _i(this.storage,`${this.storageKey}-code-verifier`),_t(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Es;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=kw(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:u,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(e.access_token);if(d)throw d;s={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(_t(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:u}=r;if(u)throw u;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new Es;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(_t(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Ei())throw new w0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new w0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new DP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new w0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new DP("No code detected.");const{data:R,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:u,expires_at:d,token_type:f}=e;if(!s||!u||!o||!f)throw new w0("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(u);let _=g+x;d&&(_=parseInt(d));const T=_-g;T*1e3<=xd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${x}s`);const N=_-x;g-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,_,g):g-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,_,g);const{data:E,error:A}=await this._getUser(s);if(A)throw A;const M={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:x,expires_at:_,refresh_token:o,token_type:f,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:M,redirectType:e.type},error:null})}catch(n){if(_t(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Dc(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:u}=await this.admin.signOut(o,e);if(u&&!(nY(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await _i(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=hY(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await od(this.storage,this.storageKey,!0));try{return await Rt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await _i(this.storage,`${this.storageKey}-code-verifier`),_t(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,u,d,f,g;const{data:x,error:_}=s;if(_)throw _;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await Rt(this.fetch,"GET",T,{headers:this.headers,jwt:(g=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return Ei()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:e.provider,url:n?.url},error:null})}catch(n){if(_t(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:u,token:d,access_token:f,nonce:g}=e,x=await Rt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:d,access_token:f,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:xa}),{data:_,error:T}=x;return T?this._returnResult({data:{user:null,session:null},error:T}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new ad}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:T}))}catch(i){if(await _i(this.storage,`${this.storageKey}-code-verifier`),_t(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Rt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yY(async i=>(i>0&&await gY(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Rt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xa})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Rw(s)&&Date.now()+o-n<xd})}catch(n){if(this._debug(r,"error",n),_t(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ei()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Dc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Dc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await wd(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:Mw()}else if(i&&!i.user&&!i.user){const o=await Dc(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await _i(this.storage,this.storageKey+"-user"),await wd(this.storage,this.storageKey,i)):i.user=Mw()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jw;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${jw}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Rw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new $1;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Es;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={data:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),_t(s)){const o={data:null,error:s};return Rw(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(d){s.push(d)}});if(await Promise.all(o),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await _i(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wd(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=UP(i);await wd(this.storage,this.storageKey,s)}else{const i=UP(r);await wd(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _i(this.storage,this.storageKey),await _i(this.storage,this.storageKey+"-code-verifier"),await _i(this.storage,this.storageKey+"-user"),this.userStorage&&await _i(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ei()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/xd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${xd}ms, refresh threshold is ${AE} ticks`),i<=AE&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof J5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ei()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await od(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Rt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:f}=await Rt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?GY(e.webauthn.credential_response):KY(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:d}=await Rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:d}))})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await Rt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:u}=o;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:WY(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:HY(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r?.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=kw(n.access_token);let o=null;s.aal&&(o=s.aal);let u=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=s.amr||[];return{data:{currentLevel:o,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Rt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Es})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Es});const o=await Rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Ei()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Es});const o=await Rt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return o.data&&o.data.redirect_url&&Ei()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Rt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Es})})}catch(e){if(_t(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Rt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Es})})}catch(r){if(_t(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+tY>i)return n;const{data:s,error:o}=await Rt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:T,error:N}=await this.getSession();if(N||!T.session)return this._returnResult({data:null,error:N});n=T.session.access_token}const{header:i,payload:s,signature:o,raw:{header:u,payload:d}}=kw(n);r?.allowExpired||EY(s.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:T}=await this.getUser(n);if(T)throw T;return{data:{claims:s,header:i,signature:o},error:null}}const g=AY(i.alg),x=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,o,dY(`${u}.${d}`)))throw new NE("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(_t(n))return this._returnResult({data:null,error:n});throw n}}}Lp.nextInstanceID={};const nZ=Lp,iZ="2.91.1";let op="";typeof Deno<"u"?op="deno":typeof document<"u"?op="web":typeof navigator<"u"&&navigator.product==="ReactNative"?op="react-native":op="node";const sZ={"X-Client-Info":`supabase-js-${op}/${iZ}`},aZ={headers:sZ},oZ={schema:"public"},lZ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cZ={};function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function uZ(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dZ(t){var e=uZ(t,"string");return Bp(e)=="symbol"?e:e+""}function fZ(t,e,r){return(e=dZ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function En(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(r),!0).forEach(function(n){fZ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const hZ=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pZ=()=>Headers,mZ=(t,e,r)=>{const n=hZ(r),i=pZ();return async(s,o)=>{var u;const d=(u=await e())!==null&&u!==void 0?u:t;let f=new i(o?.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(s,En(En({},o),{},{headers:f}))}};function gZ(t){return t.endsWith("/")?t:t+"/"}function yZ(t,e){var r,n;const{db:i,auth:s,realtime:o,global:u}=t,{db:d,auth:f,realtime:g,global:x}=e,_={db:En(En({},d),i),auth:En(En({},f),s),realtime:En(En({},g),o),storage:{},global:En(En(En({},x),u),{},{headers:En(En({},(r=x?.headers)!==null&&r!==void 0?r:{}),(n=u?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function vZ(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gZ(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var xZ=class extends nZ{constructor(t){super(t)}},wZ=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=vZ(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:oZ,realtime:cZ,auth:En(En({},lZ),{},{storageKey:o}),global:aZ},d=yZ(r??{},u);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(g,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=d.auth)!==null&&f!==void 0?f:{},this.headers,d.global.fetch)}this.fetch=mZ(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(En({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new JK(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new YX(this.storageUrl.href,this.headers,this.fetch,r?.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new KK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:u,debug:d,throwOnError:f},g,x){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xZ({url:this.authUrl.href,headers:En(En({},_),g),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:u,debug:d,throwOnError:f,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new gX(this.realtimeUrl.href,En(En({},t),{},{params:En(En({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const bZ=(t,e,r)=>new wZ(t,e,r);function _Z(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}_Z()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SZ=void 0,EZ=void 0;throw new Error("Missing Supabase environment variables. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY.");const Et=bZ(SZ,EZ),oy="attendance_user";function XP(){try{const t=localStorage.getItem(oy);if(t)return JSON.parse(t)}catch{localStorage.removeItem(oy)}return null}function Lw(t){t?localStorage.setItem(oy,JSON.stringify(t)):localStorage.removeItem(oy)}function Ui(){const t=Ji(),[,e]=xu(),{toast:r}=hi(),{data:n,isLoading:i}=Ba({queryKey:["auth-user"],queryFn:async()=>XP(),retry:!1,staleTime:1/0}),s=Bs({mutationFn:async d=>{const{identifier:f,password:g}=d,x=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({identifier:f,password:g})});if(!x.ok){const N=await x.json().catch(()=>({}));throw new Error(N.message||"Invalid email/ID number or password")}const _=await x.json();return{id:_.id,idNumber:_.idNumber||_.id_number,email:_.email,password:"",fullName:_.fullName||_.full_name,role:_.role,profilePicture:_.profilePicture||_.profile_picture||null,createdAt:_.createdAt||_.created_at?new Date(_.createdAt||_.created_at):null}},onSuccess:d=>{Lw(d),t.setQueryData(["auth-user"],d),r({title:"Welcome back!",description:`Logged in as ${d.fullName}`}),e("/dashboard")},onError:d=>{r({title:"Login Failed",description:d.message,variant:"destructive"})}}),o=Bs({mutationFn:async()=>{Lw(null);try{await fetch("/api/logout",{method:"POST",credentials:"include"})}catch(d){console.warn("Express logout failed (non-blocking):",d)}return Promise.resolve()},onSuccess:()=>{t.setQueryData(["auth-user"],null),t.clear(),e("/login"),r({title:"Logged out",description:"See you next time!"})}}),u=async()=>{const d=XP();if(d?.id){const{data:f}=await Et.from("users").select("id, id_number, email, full_name, role, profile_picture, created_at").eq("id",d.id).single();if(f){const g={id:f.id,idNumber:f.id_number,email:f.email,password:"",fullName:f.full_name,role:f.role,profilePicture:f.profile_picture,createdAt:f.created_at?new Date(f.created_at):null};Lw(g),t.setQueryData(["auth-user"],g)}}};return{user:n,isLoading:i,login:s.mutate,isLoggingIn:s.isPending,logout:o.mutate,isLoggingOut:o.isPending,refreshUser:u}}const Rl={schoolName:"De La Salle University",systemTitle:"AttendED",tagline:"Streamlining Academic Attendance",primaryColor:"#006937",secondaryColor:"#004d29",logoUrl:"",faviconUrl:"",theme:"light",fontFamily:"inter"},rL=j.createContext(void 0),Hh="attended-system-settings";function YP(t){t=t.replace(/^#/,"");const e=parseInt(t.substring(0,2),16)/255,r=parseInt(t.substring(2,4),16)/255,n=parseInt(t.substring(4,6),16)/255,i=Math.max(e,r,n),s=Math.min(e,r,n);let o=0,u=0;const d=(i+s)/2;if(i!==s){const f=i-s;switch(u=d>.5?f/(2-i-s):f/(i+s),i){case e:o=((r-n)/f+(r<n?6:0))/6;break;case r:o=((n-e)/f+2)/6;break;case n:o=((e-r)/f+4)/6;break}}return`${Math.round(o*360)} ${Math.round(u*100)}% ${Math.round(d*100)}%`}function AZ(t){const e=document.documentElement,r=YP(t.primaryColor),n=YP(t.secondaryColor),s=r.split(" ")[0];e.style.setProperty("--primary",r),e.style.setProperty("--primary-foreground","0 0% 100%"),e.style.setProperty("--secondary",`${s} 30% 96%`),e.style.setProperty("--secondary-foreground",r),e.style.setProperty("--accent",n),e.style.setProperty("--accent-foreground","0 0% 100%"),e.style.setProperty("--ring",r),e.style.setProperty("--primary-hex",t.primaryColor),e.style.setProperty("--secondary-hex",t.secondaryColor)}function ZP(t){const e=document.documentElement;if(t==="system"){const r=window.matchMedia("(prefers-color-scheme: dark)").matches;e.classList.toggle("dark",r)}else e.classList.toggle("dark",t==="dark")}function CZ(t){const e=document.documentElement,r={inter:'"Inter", sans-serif',roboto:'"Roboto", sans-serif',poppins:'"Poppins", sans-serif',"open-sans":'"Open Sans", sans-serif'};e.style.setProperty("--font-sans",r[t]||r.inter)}function TZ(t){if(!t)return;let e=document.querySelector("link[rel~='icon']");e||(e=document.createElement("link"),e.rel="icon",document.head.appendChild(e)),e.href=t}function NZ({children:t}){const[e,r]=j.useState(Rl),[n,i]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const{data:d,error:f}=await Et.from("system_settings").select("key, value");if(!f&&d&&d.length>0){const g={};d.forEach(x=>{const _=x.key;_ in Rl&&(g[_]=x.value)}),r({...Rl,...g}),localStorage.setItem(Hh,JSON.stringify({...Rl,...g}))}else{const g=localStorage.getItem(Hh);if(g){const x=JSON.parse(g);r({...Rl,...x})}}}catch(d){console.error("Failed to load system settings from database:",d);try{const f=localStorage.getItem(Hh);if(f){const g=JSON.parse(f);r({...Rl,...g})}}catch(f){console.error("Failed to load system settings from localStorage:",f)}}i(!1)})()},[]),j.useEffect(()=>{n||(AZ(e),ZP(e.theme),CZ(e.fontFamily),TZ(e.faviconUrl),document.title=`${e.systemTitle} - ${e.schoolName}`)},[e,n]),j.useEffect(()=>{if(e.theme!=="system")return;const u=window.matchMedia("(prefers-color-scheme: dark)"),d=()=>ZP("system");return u.addEventListener("change",d),()=>u.removeEventListener("change",d)},[e.theme]);const s=j.useCallback(async u=>{const d={...e,...u};r(d);try{localStorage.setItem(Hh,JSON.stringify(d))}catch(f){console.error("Failed to save to localStorage:",f)}try{const f=Object.entries(u);for(const[g,x]of f){const{error:_}=await Et.from("system_settings").upsert({key:g,value:String(x),updated_at:new Date().toISOString()},{onConflict:"key"});_&&console.error(`Failed to save setting ${g}:`,_)}}catch(f){console.error("Failed to save system settings to database:",f)}},[e]),o=j.useCallback(async()=>{r(Rl);try{localStorage.removeItem(Hh)}catch(u){console.error("Failed to clear localStorage:",u)}try{const u=Object.entries(Rl);for(const[d,f]of u){const{error:g}=await Et.from("system_settings").upsert({key:d,value:String(f),updated_at:new Date().toISOString()},{onConflict:"key"});g&&console.error(`Failed to reset setting ${d}:`,g)}}catch(u){console.error("Failed to reset system settings in database:",u)}},[]);return m.jsx(rL.Provider,{value:{settings:e,updateSettings:s,resetSettings:o,isLoading:n},children:t})}function qf(){const t=j.useContext(rL);if(t===void 0)throw new Error("useSystemSettings must be used within a SystemSettingsProvider");return t}var qm=t=>t.type==="checkbox",Kc=t=>t instanceof Date,Hi=t=>t==null;const nL=t=>typeof t=="object";var Rn=t=>!Hi(t)&&!Array.isArray(t)&&nL(t)&&!Kc(t),iL=t=>Rn(t)&&t.target?qm(t.target)?t.target.checked:t.target.value:t,OZ=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,sL=(t,e)=>t.has(OZ(e)),IZ=t=>{const e=t.constructor&&t.constructor.prototype;return Rn(e)&&e.hasOwnProperty("isPrototypeOf")},QC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ai(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(QC&&(t instanceof Blob||n))&&(r||Rn(t)))if(e=r?[]:{},!r&&!IZ(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ai(t[i]));else return t;return e}var U1=t=>Array.isArray(t)?t.filter(Boolean):[],jn=t=>t===void 0,st=(t,e,r)=>{if(!e||!Rn(t))return r;const n=U1(e.split(/[,[\].]+?/)).reduce((i,s)=>Hi(i)?i:i[s],t);return jn(n)||n===t?jn(t[e])?r:t[e]:n},Ns=t=>typeof t=="boolean",JC=t=>/^\w*$/.test(t),aL=t=>U1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Er=(t,e,r)=>{let n=-1;const i=JC(e)?[e]:aL(e),s=i.length,o=s-1;for(;++n<s;){const u=i[n];let d=r;if(n!==o){const f=t[u];d=Rn(f)||Array.isArray(f)?f:isNaN(+i[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}};const ly={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ta={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oL=oe.createContext(null),V1=()=>oe.useContext(oL),PZ=t=>{const{children:e,...r}=t;return oe.createElement(oL.Provider,{value:r},e)};var lL=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Ta.all&&(e._proxyFormState[o]=!n||Ta.all),r&&(r[o]=!0),t[o]}});return i};function jZ(t){const e=V1(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[o,u]=oe.useState(r._formState),d=oe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=oe.useRef(i);return f.current=i,oe.useEffect(()=>r._subscribe({name:f.current,formState:d.current,exact:s,callback:g=>{!n&&u({...r._formState,...g})}}),[r,n,s]),oe.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),oe.useMemo(()=>lL(o,r,d.current,!1),[o,r])}var Ya=t=>typeof t=="string",cL=(t,e,r,n,i)=>Ya(t)?(n&&e.watch.add(t),st(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),st(r,s))):(n&&(e.watchAll=!0),r);function RZ(t){const e=V1(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:o}=t||{},u=oe.useRef(n),d=oe.useRef(i);u.current=n,oe.useEffect(()=>r._subscribe({name:u.current,formState:{values:!0},exact:o,callback:x=>!s&&g(cL(u.current,r._names,x.values||r._formValues,!1,d.current))}),[r,s,o]);const[f,g]=oe.useState(r._getWatch(n,i));return oe.useEffect(()=>r._removeUnmounted()),f}function kZ(t){const e=V1(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s}=t,o=sL(i._names.array,r),u=RZ({control:i,name:r,defaultValue:st(i._formValues,r,st(i._defaultValues,r,t.defaultValue)),exact:!0}),d=jZ({control:i,name:r,exact:!0}),f=oe.useRef(t),g=oe.useRef(i.register(r,{...t.rules,value:u,...Ns(t.disabled)?{disabled:t.disabled}:{}})),x=oe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!st(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!st(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!st(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!st(d.validatingFields,r)},error:{enumerable:!0,get:()=>st(d.errors,r)}}),[d,r]),_=oe.useCallback(A=>g.current.onChange({target:{value:iL(A),name:r},type:ly.CHANGE}),[r]),T=oe.useCallback(()=>g.current.onBlur({target:{value:st(i._formValues,r),name:r},type:ly.BLUR}),[r,i._formValues]),N=oe.useCallback(A=>{const M=st(i._fields,r);M&&A&&(M._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:R=>A.setCustomValidity(R),reportValidity:()=>A.reportValidity()})},[i._fields,r]),E=oe.useMemo(()=>({name:r,value:u,...Ns(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:_,onBlur:T,ref:N}),[r,n,d.disabled,_,T,N,u]);return oe.useEffect(()=>{const A=i._options.shouldUnregister||s;i.register(r,{...f.current.rules,...Ns(f.current.disabled)?{disabled:f.current.disabled}:{}});const M=(R,I)=>{const D=st(i._fields,R);D&&D._f&&(D._f.mount=I)};if(M(r,!0),A){const R=Ai(st(i._options.defaultValues,r));Er(i._defaultValues,r,R),jn(st(i._formValues,r))&&Er(i._formValues,r,R)}return!o&&i.register(r),()=>{(o?A&&!i._state.action:A)?i.unregister(r):M(r,!1)}},[r,i,o,s]),oe.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),oe.useMemo(()=>({field:E,formState:d,fieldState:x}),[E,d,x])}const MZ=t=>t.render(kZ(t));var uL=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},wp=t=>Array.isArray(t)?t:[t],QP=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},OE=t=>Hi(t)||!nL(t);function $l(t,e){if(OE(t)||OE(e))return t===e;if(Kc(t)&&Kc(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Kc(s)&&Kc(o)||Rn(s)&&Rn(o)||Array.isArray(s)&&Array.isArray(o)?!$l(s,o):s!==o)return!1}}return!0}var Wi=t=>Rn(t)&&!Object.keys(t).length,eT=t=>t.type==="file",Na=t=>typeof t=="function",cy=t=>{if(!QC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},dL=t=>t.type==="select-multiple",tT=t=>t.type==="radio",DZ=t=>tT(t)||qm(t),Bw=t=>cy(t)&&t.isConnected;function LZ(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=jn(t)?n++:t[e[n++]];return t}function BZ(t){for(const e in t)if(t.hasOwnProperty(e)&&!jn(t[e]))return!1;return!0}function Zn(t,e){const r=Array.isArray(e)?e:JC(e)?[e]:aL(e),n=r.length===1?t:LZ(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Rn(n)&&Wi(n)||Array.isArray(n)&&BZ(n))&&Zn(t,r.slice(0,-1)),t}var fL=t=>{for(const e in t)if(Na(t[e]))return!0;return!1};function uy(t,e={}){const r=Array.isArray(t);if(Rn(t)||r)for(const n in t)Array.isArray(t[n])||Rn(t[n])&&!fL(t[n])?(e[n]=Array.isArray(t[n])?[]:{},uy(t[n],e[n])):Hi(t[n])||(e[n]=!0);return e}function hL(t,e,r){const n=Array.isArray(t);if(Rn(t)||n)for(const i in t)Array.isArray(t[i])||Rn(t[i])&&!fL(t[i])?jn(e)||OE(r[i])?r[i]=Array.isArray(t[i])?uy(t[i],[]):{...uy(t[i])}:hL(t[i],Hi(e)?{}:e[i],r[i]):r[i]=!$l(t[i],e[i]);return r}var Gh=(t,e)=>hL(t,e,uy(e));const JP={value:!1,isValid:!1},ej={value:!0,isValid:!0};var pL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!jn(t[0].attributes.value)?jn(t[0].value)||t[0].value===""?ej:{value:t[0].value,isValid:!0}:ej:JP}return JP},mL=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>jn(t)?t:e?t===""?NaN:t&&+t:r&&Ya(t)?new Date(t):n?n(t):t;const tj={isValid:!1,value:null};var gL=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,tj):tj;function rj(t){const e=t.ref;return eT(e)?e.files:tT(e)?gL(t.refs).value:dL(e)?[...e.selectedOptions].map(({value:r})=>r):qm(e)?pL(t.refs).value:mL(jn(e.value)?t.ref.value:e.value,t)}var FZ=(t,e,r,n)=>{const i={};for(const s of t){const o=st(e,s);o&&Er(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},dy=t=>t instanceof RegExp,Kh=t=>jn(t)?t:dy(t)?t.source:Rn(t)?dy(t.value)?t.value.source:t.value:t,nj=t=>({isOnSubmit:!t||t===Ta.onSubmit,isOnBlur:t===Ta.onBlur,isOnChange:t===Ta.onChange,isOnAll:t===Ta.all,isOnTouch:t===Ta.onTouched});const ij="AsyncFunction";var $Z=t=>!!t&&!!t.validate&&!!(Na(t.validate)&&t.validate.constructor.name===ij||Rn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ij)),UZ=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),sj=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const bp=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=st(t,i);if(s){const{_f:o,...u}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(bp(u,e))break}else if(Rn(u)&&bp(u,e))break}}};function aj(t,e,r){const n=st(t,r);if(n||JC(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=st(e,s),u=st(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(u&&u.type)return{name:s,error:u};i.pop()}return{name:r}}var VZ=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Wi(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Ta.all))},qZ=(t,e,r)=>!t||!e||t===e||wp(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),zZ=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,WZ=(t,e)=>!U1(st(t,e)).length&&Zn(t,e),HZ=(t,e,r)=>{const n=wp(st(t,r));return Er(n,"root",e[r]),Er(t,r,n),t},q0=t=>Ya(t);function oj(t,e,r="validate"){if(q0(t)||Array.isArray(t)&&t.every(q0)||Ns(t)&&!t)return{type:r,message:q0(t)?t:"",ref:e}}var dd=t=>Rn(t)&&!dy(t)?t:{value:t,message:""},lj=async(t,e,r,n,i,s)=>{const{ref:o,refs:u,required:d,maxLength:f,minLength:g,min:x,max:_,pattern:T,validate:N,name:E,valueAsNumber:A,mount:M}=t._f,R=st(r,E);if(!M||e.has(E))return{};const I=u?u[0]:o,D=W=>{i&&I.reportValidity&&(I.setCustomValidity(Ns(W)?"":W||""),I.reportValidity())},L={},$=tT(o),B=qm(o),z=$||B,H=(A||eT(o))&&jn(o.value)&&jn(R)||cy(o)&&o.value===""||R===""||Array.isArray(R)&&!R.length,ce=uL.bind(null,E,n,L),K=(W,Z,Q,Y=Oo.maxLength,J=Oo.minLength)=>{const te=W?Z:Q;L[E]={type:W?Y:J,message:te,ref:o,...ce(W?Y:J,te)}};if(s?!Array.isArray(R)||!R.length:d&&(!z&&(H||Hi(R))||Ns(R)&&!R||B&&!pL(u).isValid||$&&!gL(u).isValid)){const{value:W,message:Z}=q0(d)?{value:!!d,message:d}:dd(d);if(W&&(L[E]={type:Oo.required,message:Z,ref:I,...ce(Oo.required,Z)},!n))return D(Z),L}if(!H&&(!Hi(x)||!Hi(_))){let W,Z;const Q=dd(_),Y=dd(x);if(!Hi(R)&&!isNaN(R)){const J=o.valueAsNumber||R&&+R;Hi(Q.value)||(W=J>Q.value),Hi(Y.value)||(Z=J<Y.value)}else{const J=o.valueAsDate||new Date(R),te=me=>new Date(new Date().toDateString()+" "+me),ie=o.type=="time",se=o.type=="week";Ya(Q.value)&&R&&(W=ie?te(R)>te(Q.value):se?R>Q.value:J>new Date(Q.value)),Ya(Y.value)&&R&&(Z=ie?te(R)<te(Y.value):se?R<Y.value:J<new Date(Y.value))}if((W||Z)&&(K(!!W,Q.message,Y.message,Oo.max,Oo.min),!n))return D(L[E].message),L}if((f||g)&&!H&&(Ya(R)||s&&Array.isArray(R))){const W=dd(f),Z=dd(g),Q=!Hi(W.value)&&R.length>+W.value,Y=!Hi(Z.value)&&R.length<+Z.value;if((Q||Y)&&(K(Q,W.message,Z.message),!n))return D(L[E].message),L}if(T&&!H&&Ya(R)){const{value:W,message:Z}=dd(T);if(dy(W)&&!R.match(W)&&(L[E]={type:Oo.pattern,message:Z,ref:o,...ce(Oo.pattern,Z)},!n))return D(Z),L}if(N){if(Na(N)){const W=await N(R,r),Z=oj(W,I);if(Z&&(L[E]={...Z,...ce(Oo.validate,Z.message)},!n))return D(Z.message),L}else if(Rn(N)){let W={};for(const Z in N){if(!Wi(W)&&!n)break;const Q=oj(await N[Z](R,r),I,Z);Q&&(W={...Q,...ce(Z,Q.message)},D(Q.message),n&&(L[E]=W))}if(!Wi(W)&&(L[E]={ref:I,...W},!n))return L}}return D(!0),L};const GZ={mode:Ta.onSubmit,reValidateMode:Ta.onChange,shouldFocusError:!0};function KZ(t={}){let e={...GZ,...t},r={submitCount:0,isDirty:!1,isLoading:Na(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=Rn(e.defaultValues)||Rn(e.values)?Ai(e.values||e.defaultValues)||{}:{},s=e.shouldUnregister?{}:Ai(i),o={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...g};const _={array:QP(),state:QP()},T=nj(e.mode),N=nj(e.reValidateMode),E=e.criteriaMode===Ta.all,A=le=>xe=>{clearTimeout(f),f=setTimeout(le,xe)},M=async le=>{if(!e.disabled&&(g.isValid||x.isValid||le)){const xe=e.resolver?Wi((await H()).errors):await K(n,!0);xe!==r.isValid&&_.state.next({isValid:xe})}},R=(le,xe)=>{!e.disabled&&(g.isValidating||g.validatingFields||x.isValidating||x.validatingFields)&&((le||Array.from(u.mount)).forEach(Ae=>{Ae&&(xe?Er(r.validatingFields,Ae,xe):Zn(r.validatingFields,Ae))}),_.state.next({validatingFields:r.validatingFields,isValidating:!Wi(r.validatingFields)}))},I=(le,xe=[],Ae,rt,Ge=!0,We=!0)=>{if(rt&&Ae&&!e.disabled){if(o.action=!0,We&&Array.isArray(st(n,le))){const it=Ae(st(n,le),rt.argA,rt.argB);Ge&&Er(n,le,it)}if(We&&Array.isArray(st(r.errors,le))){const it=Ae(st(r.errors,le),rt.argA,rt.argB);Ge&&Er(r.errors,le,it),WZ(r.errors,le)}if((g.touchedFields||x.touchedFields)&&We&&Array.isArray(st(r.touchedFields,le))){const it=Ae(st(r.touchedFields,le),rt.argA,rt.argB);Ge&&Er(r.touchedFields,le,it)}(g.dirtyFields||x.dirtyFields)&&(r.dirtyFields=Gh(i,s)),_.state.next({name:le,isDirty:Z(le,xe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Er(s,le,xe)},D=(le,xe)=>{Er(r.errors,le,xe),_.state.next({errors:r.errors})},L=le=>{r.errors=le,_.state.next({errors:r.errors,isValid:!1})},$=(le,xe,Ae,rt)=>{const Ge=st(n,le);if(Ge){const We=st(s,le,jn(Ae)?st(i,le):Ae);jn(We)||rt&&rt.defaultChecked||xe?Er(s,le,xe?We:rj(Ge._f)):J(le,We),o.mount&&M()}},B=(le,xe,Ae,rt,Ge)=>{let We=!1,it=!1;const It={name:le};if(!e.disabled){if(!Ae||rt){(g.isDirty||x.isDirty)&&(it=r.isDirty,r.isDirty=It.isDirty=Z(),We=it!==It.isDirty);const Cr=$l(st(i,le),xe);it=!!st(r.dirtyFields,le),Cr?Zn(r.dirtyFields,le):Er(r.dirtyFields,le,!0),It.dirtyFields=r.dirtyFields,We=We||(g.dirtyFields||x.dirtyFields)&&it!==!Cr}if(Ae){const Cr=st(r.touchedFields,le);Cr||(Er(r.touchedFields,le,Ae),It.touchedFields=r.touchedFields,We=We||(g.touchedFields||x.touchedFields)&&Cr!==Ae)}We&&Ge&&_.state.next(It)}return We?It:{}},z=(le,xe,Ae,rt)=>{const Ge=st(r.errors,le),We=(g.isValid||x.isValid)&&Ns(xe)&&r.isValid!==xe;if(e.delayError&&Ae?(d=A(()=>D(le,Ae)),d(e.delayError)):(clearTimeout(f),d=null,Ae?Er(r.errors,le,Ae):Zn(r.errors,le)),(Ae?!$l(Ge,Ae):Ge)||!Wi(rt)||We){const it={...rt,...We&&Ns(xe)?{isValid:xe}:{},errors:r.errors,name:le};r={...r,...it},_.state.next(it)}},H=async le=>{R(le,!0);const xe=await e.resolver(s,e.context,FZ(le||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return R(le),xe},ce=async le=>{const{errors:xe}=await H(le);if(le)for(const Ae of le){const rt=st(xe,Ae);rt?Er(r.errors,Ae,rt):Zn(r.errors,Ae)}else r.errors=xe;return xe},K=async(le,xe,Ae={valid:!0})=>{for(const rt in le){const Ge=le[rt];if(Ge){const{_f:We,...it}=Ge;if(We){const It=u.array.has(We.name),Cr=Ge._f&&$Z(Ge._f);Cr&&g.validatingFields&&R([rt],!0);const Dr=await lj(Ge,u.disabled,s,E,e.shouldUseNativeValidation&&!xe,It);if(Cr&&g.validatingFields&&R([rt]),Dr[We.name]&&(Ae.valid=!1,xe))break;!xe&&(st(Dr,We.name)?It?HZ(r.errors,Dr,We.name):Er(r.errors,We.name,Dr[We.name]):Zn(r.errors,We.name))}!Wi(it)&&await K(it,xe,Ae)}}return Ae.valid},W=()=>{for(const le of u.unMount){const xe=st(n,le);xe&&(xe._f.refs?xe._f.refs.every(Ae=>!Bw(Ae)):!Bw(xe._f.ref))&&Te(le)}u.unMount=new Set},Z=(le,xe)=>!e.disabled&&(le&&xe&&Er(s,le,xe),!$l(ue(),i)),Q=(le,xe,Ae)=>cL(le,u,{...o.mount?s:jn(xe)?i:Ya(le)?{[le]:xe}:xe},Ae,xe),Y=le=>U1(st(o.mount?s:i,le,e.shouldUnregister?st(i,le,[]):[])),J=(le,xe,Ae={})=>{const rt=st(n,le);let Ge=xe;if(rt){const We=rt._f;We&&(!We.disabled&&Er(s,le,mL(xe,We)),Ge=cy(We.ref)&&Hi(xe)?"":xe,dL(We.ref)?[...We.ref.options].forEach(it=>it.selected=Ge.includes(it.value)):We.refs?qm(We.ref)?We.refs.length>1?We.refs.forEach(it=>(!it.defaultChecked||!it.disabled)&&(it.checked=Array.isArray(Ge)?!!Ge.find(It=>It===it.value):Ge===it.value)):We.refs[0]&&(We.refs[0].checked=!!Ge):We.refs.forEach(it=>it.checked=it.value===Ge):eT(We.ref)?We.ref.value="":(We.ref.value=Ge,We.ref.type||_.state.next({name:le,values:Ai(s)})))}(Ae.shouldDirty||Ae.shouldTouch)&&B(le,Ge,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&ne(le)},te=(le,xe,Ae)=>{for(const rt in xe){const Ge=xe[rt],We=`${le}.${rt}`,it=st(n,We);(u.array.has(le)||Rn(Ge)||it&&!it._f)&&!Kc(Ge)?te(We,Ge,Ae):J(We,Ge,Ae)}},ie=(le,xe,Ae={})=>{const rt=st(n,le),Ge=u.array.has(le),We=Ai(xe);Er(s,le,We),Ge?(_.array.next({name:le,values:Ai(s)}),(g.isDirty||g.dirtyFields||x.isDirty||x.dirtyFields)&&Ae.shouldDirty&&_.state.next({name:le,dirtyFields:Gh(i,s),isDirty:Z(le,We)})):rt&&!rt._f&&!Hi(We)?te(le,We,Ae):J(le,We,Ae),sj(le,u)&&_.state.next({...r}),_.state.next({name:o.mount?le:void 0,values:Ai(s)})},se=async le=>{o.mount=!0;const xe=le.target;let Ae=xe.name,rt=!0;const Ge=st(n,Ae),We=it=>{rt=Number.isNaN(it)||Kc(it)&&isNaN(it.getTime())||$l(it,st(s,Ae,it))};if(Ge){let it,It;const Cr=xe.type?rj(Ge._f):iL(le),Dr=le.type===ly.BLUR||le.type===ly.FOCUS_OUT,rh=!UZ(Ge._f)&&!e.resolver&&!st(r.errors,Ae)&&!Ge._f.deps||zZ(Dr,st(r.touchedFields,Ae),r.isSubmitted,N,T),Lr=sj(Ae,u,Dr);Er(s,Ae,Cr),Dr?(Ge._f.onBlur&&Ge._f.onBlur(le),d&&d(0)):Ge._f.onChange&&Ge._f.onChange(le);const Ye=B(Ae,Cr,Dr),dn=!Wi(Ye)||Lr;if(!Dr&&_.state.next({name:Ae,type:le.type,values:Ai(s)}),rh)return(g.isValid||x.isValid)&&(e.mode==="onBlur"?Dr&&M():Dr||M()),dn&&_.state.next({name:Ae,...Lr?{}:Ye});if(!Dr&&Lr&&_.state.next({...r}),e.resolver){const{errors:fr}=await H([Ae]);if(We(Cr),rt){const Ir=aj(r.errors,n,Ae),Fs=aj(fr,n,Ir.name||Ae);it=Fs.error,Ae=Fs.name,It=Wi(fr)}}else R([Ae],!0),it=(await lj(Ge,u.disabled,s,E,e.shouldUseNativeValidation))[Ae],R([Ae]),We(Cr),rt&&(it?It=!1:(g.isValid||x.isValid)&&(It=await K(n,!0)));rt&&(Ge._f.deps&&ne(Ge._f.deps),z(Ae,It,it,Ye))}},me=(le,xe)=>{if(st(r.errors,xe)&&le.focus)return le.focus(),1},ne=async(le,xe={})=>{let Ae,rt;const Ge=wp(le);if(e.resolver){const We=await ce(jn(le)?le:Ge);Ae=Wi(We),rt=le?!Ge.some(it=>st(We,it)):Ae}else le?(rt=(await Promise.all(Ge.map(async We=>{const it=st(n,We);return await K(it&&it._f?{[We]:it}:it)}))).every(Boolean),!(!rt&&!r.isValid)&&M()):rt=Ae=await K(n);return _.state.next({...!Ya(le)||(g.isValid||x.isValid)&&Ae!==r.isValid?{}:{name:le},...e.resolver||!le?{isValid:Ae}:{},errors:r.errors}),xe.shouldFocus&&!rt&&bp(n,me,le?Ge:u.mount),rt},ue=le=>{const xe={...o.mount?s:i};return jn(le)?xe:Ya(le)?st(xe,le):le.map(Ae=>st(xe,Ae))},be=(le,xe)=>({invalid:!!st((xe||r).errors,le),isDirty:!!st((xe||r).dirtyFields,le),error:st((xe||r).errors,le),isValidating:!!st(r.validatingFields,le),isTouched:!!st((xe||r).touchedFields,le)}),Pe=le=>{le&&wp(le).forEach(xe=>Zn(r.errors,xe)),_.state.next({errors:le?r.errors:{}})},nt=(le,xe,Ae)=>{const rt=(st(n,le,{_f:{}})._f||{}).ref,Ge=st(r.errors,le)||{},{ref:We,message:it,type:It,...Cr}=Ge;Er(r.errors,le,{...Cr,...xe,ref:rt}),_.state.next({name:le,errors:r.errors,isValid:!1}),Ae&&Ae.shouldFocus&&rt&&rt.focus&&rt.focus()},Ie=(le,xe)=>Na(le)?_.state.subscribe({next:Ae=>le(Q(void 0,xe),Ae)}):Q(le,xe,!0),je=le=>_.state.subscribe({next:xe=>{qZ(le.name,xe.name,le.exact)&&VZ(xe,le.formState||g,dt,le.reRenderRoot)&&le.callback({values:{...s},...r,...xe})}}).unsubscribe,Be=le=>(o.mount=!0,x={...x,...le.formState},je({...le,formState:x})),Te=(le,xe={})=>{for(const Ae of le?wp(le):u.mount)u.mount.delete(Ae),u.array.delete(Ae),xe.keepValue||(Zn(n,Ae),Zn(s,Ae)),!xe.keepError&&Zn(r.errors,Ae),!xe.keepDirty&&Zn(r.dirtyFields,Ae),!xe.keepTouched&&Zn(r.touchedFields,Ae),!xe.keepIsValidating&&Zn(r.validatingFields,Ae),!e.shouldUnregister&&!xe.keepDefaultValue&&Zn(i,Ae);_.state.next({values:Ai(s)}),_.state.next({...r,...xe.keepDirty?{isDirty:Z()}:{}}),!xe.keepIsValid&&M()},Ue=({disabled:le,name:xe})=>{(Ns(le)&&o.mount||le||u.disabled.has(xe))&&(le?u.disabled.add(xe):u.disabled.delete(xe))},Ve=(le,xe={})=>{let Ae=st(n,le);const rt=Ns(xe.disabled)||Ns(e.disabled);return Er(n,le,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:le}},name:le,mount:!0,...xe}}),u.mount.add(le),Ae?Ue({disabled:Ns(xe.disabled)?xe.disabled:e.disabled,name:le}):$(le,!0,xe.value),{...rt?{disabled:xe.disabled||e.disabled}:{},...e.progressive?{required:!!xe.required,min:Kh(xe.min),max:Kh(xe.max),minLength:Kh(xe.minLength),maxLength:Kh(xe.maxLength),pattern:Kh(xe.pattern)}:{},name:le,onChange:se,onBlur:se,ref:Ge=>{if(Ge){Ve(le,xe),Ae=st(n,le);const We=jn(Ge.value)&&Ge.querySelectorAll&&Ge.querySelectorAll("input,select,textarea")[0]||Ge,it=DZ(We),It=Ae._f.refs||[];if(it?It.find(Cr=>Cr===We):We===Ae._f.ref)return;Er(n,le,{_f:{...Ae._f,...it?{refs:[...It.filter(Bw),We,...Array.isArray(st(i,le))?[{}]:[]],ref:{type:We.type,name:le}}:{ref:We}}}),$(le,!1,void 0,We)}else Ae=st(n,le,{}),Ae._f&&(Ae._f.mount=!1),(e.shouldUnregister||xe.shouldUnregister)&&!(sL(u.array,le)&&o.action)&&u.unMount.add(le)}}},Ce=()=>e.shouldFocusError&&bp(n,me,u.mount),tt=le=>{Ns(le)&&(_.state.next({disabled:le}),bp(n,(xe,Ae)=>{const rt=st(n,Ae);rt&&(xe.disabled=rt._f.disabled||le,Array.isArray(rt._f.refs)&&rt._f.refs.forEach(Ge=>{Ge.disabled=rt._f.disabled||le}))},0,!1))},St=(le,xe)=>async Ae=>{let rt;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let Ge=Ai(s);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:We,values:it}=await H();r.errors=We,Ge=it}else await K(n);if(u.disabled.size)for(const We of u.disabled)Er(Ge,We,void 0);if(Zn(r.errors,"root"),Wi(r.errors)){_.state.next({errors:{}});try{await le(Ge,Ae)}catch(We){rt=We}}else xe&&await xe({...r.errors},Ae),Ce(),setTimeout(Ce);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Wi(r.errors)&&!rt,submitCount:r.submitCount+1,errors:r.errors}),rt)throw rt},Oe=(le,xe={})=>{st(n,le)&&(jn(xe.defaultValue)?ie(le,Ai(st(i,le))):(ie(le,xe.defaultValue),Er(i,le,Ai(xe.defaultValue))),xe.keepTouched||Zn(r.touchedFields,le),xe.keepDirty||(Zn(r.dirtyFields,le),r.isDirty=xe.defaultValue?Z(le,Ai(st(i,le))):Z()),xe.keepError||(Zn(r.errors,le),g.isValid&&M()),_.state.next({...r}))},Ke=(le,xe={})=>{const Ae=le?Ai(le):i,rt=Ai(Ae),Ge=Wi(le),We=Ge?i:rt;if(xe.keepDefaultValues||(i=Ae),!xe.keepValues){if(xe.keepDirtyValues){const it=new Set([...u.mount,...Object.keys(Gh(i,s))]);for(const It of Array.from(it))st(r.dirtyFields,It)?Er(We,It,st(s,It)):ie(It,st(We,It))}else{if(QC&&jn(le))for(const it of u.mount){const It=st(n,it);if(It&&It._f){const Cr=Array.isArray(It._f.refs)?It._f.refs[0]:It._f.ref;if(cy(Cr)){const Dr=Cr.closest("form");if(Dr){Dr.reset();break}}}}for(const it of u.mount)ie(it,st(We,it))}s=Ai(We),_.array.next({values:{...We}}),_.state.next({values:{...We}})}u={mount:xe.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!g.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues,o.watch=!!e.shouldUnregister,_.state.next({submitCount:xe.keepSubmitCount?r.submitCount:0,isDirty:Ge?!1:xe.keepDirty?r.isDirty:!!(xe.keepDefaultValues&&!$l(le,i)),isSubmitted:xe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ge?{}:xe.keepDirtyValues?xe.keepDefaultValues&&s?Gh(i,s):r.dirtyFields:xe.keepDefaultValues&&le?Gh(i,le):xe.keepDirty?r.dirtyFields:{},touchedFields:xe.keepTouched?r.touchedFields:{},errors:xe.keepErrors?r.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ot=(le,xe)=>Ke(Na(le)?le(s):le,xe),Qe=(le,xe={})=>{const Ae=st(n,le),rt=Ae&&Ae._f;if(rt){const Ge=rt.refs?rt.refs[0]:rt.ref;Ge.focus&&(Ge.focus(),xe.shouldSelect&&Na(Ge.select)&&Ge.select())}},dt=le=>{r={...r,...le}},Fe={control:{register:Ve,unregister:Te,getFieldState:be,handleSubmit:St,setError:nt,_subscribe:je,_runSchema:H,_getWatch:Q,_getDirty:Z,_setValid:M,_setFieldArray:I,_setDisabledField:Ue,_setErrors:L,_getFieldArray:Y,_reset:Ke,_resetDefaultValues:()=>Na(e.defaultValues)&&e.defaultValues().then(le=>{ot(le,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:tt,_subjects:_,_proxyFormState:g,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(le){o=le},get _defaultValues(){return i},get _names(){return u},set _names(le){u=le},get _formState(){return r},get _options(){return e},set _options(le){e={...e,...le}}},subscribe:Be,trigger:ne,register:Ve,handleSubmit:St,watch:Ie,setValue:ie,getValues:ue,reset:ot,resetField:Oe,clearErrors:Pe,unregister:Te,setError:nt,setFocus:Qe,getFieldState:be};return{...Fe,formControl:Fe}}function wu(t={}){const e=oe.useRef(void 0),r=oe.useRef(void 0),[n,i]=oe.useState({isDirty:!1,isValidating:!1,isLoading:Na(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Na(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:KZ(t),formState:n},t.formControl&&t.defaultValues&&!Na(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,oe.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),oe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),oe.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),oe.useEffect(()=>{t.values&&!$l(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),oe.useEffect(()=>{t.errors&&!Wi(t.errors)&&s._setErrors(t.errors)},[t.errors,s]),oe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),oe.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=lL(n,s),e.current}const cj=(t,e,r)=>{if(t&&"reportValidity"in t){const n=st(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},yL=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?cj(n.ref,r,t):n.refs&&n.refs.forEach(i=>cj(i,r,t))}},XZ=(t,e)=>{e.shouldUseNativeValidation&&yL(t,e);const r={};for(const n in t){const i=st(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(YZ(e.names||Object.keys(t),n)){const o=Object.assign({},st(r,n));Er(o,"root",s),Er(r,n,o)}else Er(r,n,s)}return r},YZ=(t,e)=>t.some(r=>r.startsWith(e+"."));var ZZ=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[o]={message:u.message,type:u.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(x){return t.push(x)})}),e){var d=r[o].types,f=d&&d[n.code];r[o]=uL(o,e,r,i,f?[].concat(f,n.message):n.message)}t.shift()}return r},bu=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve((function(o,u){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(f){return s.shouldUseNativeValidation&&yL({},s),{errors:{},values:r.raw?n:f}})}catch(f){return u(f)}return d&&d.then?d.then(void 0,u):d})(0,function(o){if((function(u){return Array.isArray(u?.errors)})(o))return{values:{},errors:XZ(ZZ(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},hr;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(u=>typeof i[i[u]]!="number"),o={};for(const u of s)o[u]=i[u];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(hr||(hr={}));var IE;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(IE||(IE={}));const ut=hr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Do=t=>{switch(typeof t){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return isNaN(t)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(t)?ut.array:t===null?ut.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ut.promise:typeof Map<"u"&&t instanceof Map?ut.map:typeof Set<"u"&&t instanceof Set?ut.set:typeof Date<"u"&&t instanceof Date?ut.date:ut.object;default:return ut.unknown}},ze=hr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),QZ=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ds extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let u=n,d=0;for(;d<o.path.length;){const f=o.path[d];d===o.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(r(o))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return i(this),n}static assert(e){if(!(e instanceof Ds))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ds.create=t=>new Ds(t);const Zd=(t,e)=>{let r;switch(t.code){case ze.invalid_type:t.received===ut.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ze.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,hr.jsonStringifyReplacer)}`;break;case ze.unrecognized_keys:r=`Unrecognized key(s) in object: ${hr.joinValues(t.keys,", ")}`;break;case ze.invalid_union:r="Invalid input";break;case ze.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${hr.joinValues(t.options)}`;break;case ze.invalid_enum_value:r=`Invalid enum value. Expected ${hr.joinValues(t.options)}, received '${t.received}'`;break;case ze.invalid_arguments:r="Invalid function arguments";break;case ze.invalid_return_type:r="Invalid function return type";break;case ze.invalid_date:r="Invalid date";break;case ze.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:hr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ze.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ze.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ze.custom:r="Invalid input";break;case ze.invalid_intersection_types:r="Intersection results could not be merged";break;case ze.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ze.not_finite:r="Number must be finite";break;default:r=e.defaultError,hr.assertNever(t)}return{message:r}};let vL=Zd;function JZ(t){vL=t}function fy(){return vL}const hy=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let u="";const d=n.filter(f=>!!f).slice().reverse();for(const f of d)u=f(o,{data:e,defaultError:u}).message;return{...i,path:s,message:u}},eQ=[];function at(t,e){const r=fy(),n=hy({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Zd?void 0:Zd].filter(i=>!!i)});t.common.issues.push(n)}class $i{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Lt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return $i.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Lt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const Lt=Object.freeze({status:"aborted"}),Ad=t=>({status:"dirty",value:t}),Qi=t=>({status:"valid",value:t}),PE=t=>t.status==="aborted",jE=t=>t.status==="dirty",ou=t=>t.status==="valid",Fp=t=>typeof Promise<"u"&&t instanceof Promise;function py(t,e,r,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function xL(t,e,r,n,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var xt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(xt||(xt={}));var lp,cp;class so{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uj=(t,e)=>{if(ou(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ds(t.common.issues);return this._error=r,this._error}}};function Yt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,u)=>{var d,f;const{message:g}=t;return o.code==="invalid_enum_value"?{message:g??u.defaultError}:typeof u.data>"u"?{message:(d=g??n)!==null&&d!==void 0?d:u.defaultError}:o.code!=="invalid_type"?{message:u.defaultError}:{message:(f=g??r)!==null&&f!==void 0?f:u.defaultError}},description:i}}class er{get description(){return this._def.description}_getType(e){return Do(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new $i,ctx:{common:e.parent.common,data:e.data,parsedType:Do(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Fp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},s=this._parseSync({data:e,path:i.path,parent:i});return uj(i,s)}"~validate"(e){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return ou(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>ou(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Do(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Fp(i)?i:Promise.resolve(i));return uj(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),u=()=>s.addIssue({code:ze.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(u(),!1)):o?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new La({schema:this,typeName:Mt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return eo.create(this,this._def)}nullable(){return Jl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ka.create(this)}promise(){return Jd.create(this,this._def)}or(e){return qp.create([this,e],this._def)}and(e){return zp.create(this,e,this._def)}transform(e){return new La({...Yt(this._def),schema:this,typeName:Mt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Xp({...Yt(this._def),innerType:this,defaultValue:r,typeName:Mt.ZodDefault})}brand(){return new rT({typeName:Mt.ZodBranded,type:this,...Yt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Yp({...Yt(this._def),innerType:this,catchValue:r,typeName:Mt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return zm.create(this,e)}readonly(){return Zp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const tQ=/^c[^\s-]{8,}$/i,rQ=/^[0-9a-z]+$/,nQ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sQ=/^[a-z0-9_-]{21}$/i,aQ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,oQ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,lQ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cQ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fw;const uQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,dQ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,hQ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,pQ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mQ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,wL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",gQ=new RegExp(`^${wL}$`);function bL(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function yQ(t){return new RegExp(`^${bL(t)}$`)}function _L(t){let e=`${wL}T${bL(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function vQ(t,e){return!!((e==="v4"||!e)&&uQ.test(t)||(e==="v6"||!e)&&fQ.test(t))}function xQ(t,e){if(!aQ.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function wQ(t,e){return!!((e==="v4"||!e)&&dQ.test(t)||(e==="v6"||!e)&&hQ.test(t))}class ja extends er{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ut.string){const s=this._getOrReturnCtx(e);return at(s,{code:ze.invalid_type,expected:ut.string,received:s.parsedType}),Lt}const n=new $i;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:ze.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:ze.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,u=e.data.length<s.value;(o||u)&&(i=this._getOrReturnCtx(e,i),o?at(i,{code:ze.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):u&&at(i,{code:ze.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")lQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"email",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")Fw||(Fw=new RegExp(cQ,"u")),Fw.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"emoji",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")iQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"uuid",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")sQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"nanoid",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")tQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"cuid",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")rQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"cuid2",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")nQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"ulid",code:ze.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),at(i,{validation:"url",code:ze.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"regex",code:ze.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?_L(s).test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?gQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?yQ(s).test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{code:ze.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?oQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"duration",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?vQ(e.data,s.version)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"ip",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?xQ(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"jwt",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?wQ(e.data,s.version)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"cidr",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?pQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"base64",code:ze.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?mQ.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"base64url",code:ze.invalid_string,message:s.message}),n.dirty()):hr.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ze.invalid_string,...xt.errToObj(n)})}_addCheck(e){return new ja({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...xt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...xt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...xt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...xt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...xt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...xt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...xt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...xt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...xt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...xt.errToObj(r)})}nonempty(e){return this.min(1,xt.errToObj(e))}trim(){return new ja({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ja({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ja({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ja.create=t=>{var e;return new ja({checks:[],typeName:Mt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Yt(t)})};function bQ(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Yl extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ut.number){const s=this._getOrReturnCtx(e);return at(s,{code:ze.invalid_type,expected:ut.number,received:s.parsedType}),Lt}let n;const i=new $i;for(const s of this._def.checks)s.kind==="int"?hr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),at(n,{code:ze.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?bQ(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),at(n,{code:ze.not_finite,message:s.message}),i.dirty()):hr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xt.toString(r))}setLimit(e,r,n,i){return new Yl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:xt.toString(i)}]})}_addCheck(e){return new Yl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:xt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&hr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Yl.create=t=>new Yl({checks:[],typeName:Mt.ZodNumber,coerce:t?.coerce||!1,...Yt(t)});class Zl extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ut.bigint)return this._getInvalidInput(e);let n;const i=new $i;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),at(n,{code:ze.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):hr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return at(r,{code:ze.invalid_type,expected:ut.bigint,received:r.parsedType}),Lt}gte(e,r){return this.setLimit("min",e,!0,xt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xt.toString(r))}setLimit(e,r,n,i){return new Zl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:xt.toString(i)}]})}_addCheck(e){return new Zl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Zl.create=t=>{var e;return new Zl({checks:[],typeName:Mt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Yt(t)})};class $p extends er{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ut.boolean){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.boolean,received:n.parsedType}),Lt}return Qi(e.data)}}$p.create=t=>new $p({typeName:Mt.ZodBoolean,coerce:t?.coerce||!1,...Yt(t)});class lu extends er{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ut.date){const s=this._getOrReturnCtx(e);return at(s,{code:ze.invalid_type,expected:ut.date,received:s.parsedType}),Lt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return at(s,{code:ze.invalid_date}),Lt}const n=new $i;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:ze.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:ze.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):hr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new lu({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:xt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:xt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}lu.create=t=>new lu({checks:[],coerce:t?.coerce||!1,typeName:Mt.ZodDate,...Yt(t)});class my extends er{_parse(e){if(this._getType(e)!==ut.symbol){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.symbol,received:n.parsedType}),Lt}return Qi(e.data)}}my.create=t=>new my({typeName:Mt.ZodSymbol,...Yt(t)});class Up extends er{_parse(e){if(this._getType(e)!==ut.undefined){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.undefined,received:n.parsedType}),Lt}return Qi(e.data)}}Up.create=t=>new Up({typeName:Mt.ZodUndefined,...Yt(t)});class Vp extends er{_parse(e){if(this._getType(e)!==ut.null){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.null,received:n.parsedType}),Lt}return Qi(e.data)}}Vp.create=t=>new Vp({typeName:Mt.ZodNull,...Yt(t)});class Qd extends er{constructor(){super(...arguments),this._any=!0}_parse(e){return Qi(e.data)}}Qd.create=t=>new Qd({typeName:Mt.ZodAny,...Yt(t)});class Jc extends er{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Qi(e.data)}}Jc.create=t=>new Jc({typeName:Mt.ZodUnknown,...Yt(t)});class Ho extends er{_parse(e){const r=this._getOrReturnCtx(e);return at(r,{code:ze.invalid_type,expected:ut.never,received:r.parsedType}),Lt}}Ho.create=t=>new Ho({typeName:Mt.ZodNever,...Yt(t)});class gy extends er{_parse(e){if(this._getType(e)!==ut.undefined){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.void,received:n.parsedType}),Lt}return Qi(e.data)}}gy.create=t=>new gy({typeName:Mt.ZodVoid,...Yt(t)});class ka extends er{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ut.array)return at(r,{code:ze.invalid_type,expected:ut.array,received:r.parsedType}),Lt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,u=r.data.length<i.exactLength.value;(o||u)&&(at(r,{code:o?ze.too_big:ze.too_small,minimum:u?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(at(r,{code:ze.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(at(r,{code:ze.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,u)=>i.type._parseAsync(new so(r,o,r.path,u)))).then(o=>$i.mergeArray(n,o));const s=[...r.data].map((o,u)=>i.type._parseSync(new so(r,o,r.path,u)));return $i.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new ka({...this._def,minLength:{value:e,message:xt.toString(r)}})}max(e,r){return new ka({...this._def,maxLength:{value:e,message:xt.toString(r)}})}length(e,r){return new ka({...this._def,exactLength:{value:e,message:xt.toString(r)}})}nonempty(e){return this.min(1,e)}}ka.create=(t,e)=>new ka({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Mt.ZodArray,...Yt(e)});function bd(t){if(t instanceof yn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=eo.create(bd(n))}return new yn({...t._def,shape:()=>e})}else return t instanceof ka?new ka({...t._def,type:bd(t.element)}):t instanceof eo?eo.create(bd(t.unwrap())):t instanceof Jl?Jl.create(bd(t.unwrap())):t instanceof ao?ao.create(t.items.map(e=>bd(e))):t}class yn extends er{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=hr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==ut.object){const f=this._getOrReturnCtx(e);return at(f,{code:ze.invalid_type,expected:ut.object,received:f.parsedType}),Lt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ho&&this._def.unknownKeys==="strip"))for(const f in i.data)o.includes(f)||u.push(f);const d=[];for(const f of o){const g=s[f],x=i.data[f];d.push({key:{status:"valid",value:f},value:g._parse(new so(i,x,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Ho){const f=this._def.unknownKeys;if(f==="passthrough")for(const g of u)d.push({key:{status:"valid",value:g},value:{status:"valid",value:i.data[g]}});else if(f==="strict")u.length>0&&(at(i,{code:ze.unrecognized_keys,keys:u}),n.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const g of u){const x=i.data[g];d.push({key:{status:"valid",value:g},value:f._parse(new so(i,x,i.path,g)),alwaysSet:g in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const g of d){const x=await g.key,_=await g.value;f.push({key:x,value:_,alwaysSet:g.alwaysSet})}return f}).then(f=>$i.mergeObjectSync(n,f)):$i.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return xt.errToObj,new yn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,u;const d=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=xt.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new yn({...this._def,unknownKeys:"strip"})}passthrough(){return new yn({...this._def,unknownKeys:"passthrough"})}extend(e){return new yn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new yn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Mt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new yn({...this._def,catchall:e})}pick(e){const r={};return hr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new yn({...this._def,shape:()=>r})}omit(e){const r={};return hr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new yn({...this._def,shape:()=>r})}deepPartial(){return bd(this)}partial(e){const r={};return hr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new yn({...this._def,shape:()=>r})}required(e){const r={};return hr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof eo;)s=s._def.innerType;r[n]=s}}),new yn({...this._def,shape:()=>r})}keyof(){return SL(hr.objectKeys(this.shape))}}yn.create=(t,e)=>new yn({shape:()=>t,unknownKeys:"strip",catchall:Ho.create(),typeName:Mt.ZodObject,...Yt(e)});yn.strictCreate=(t,e)=>new yn({shape:()=>t,unknownKeys:"strict",catchall:Ho.create(),typeName:Mt.ZodObject,...Yt(e)});yn.lazycreate=(t,e)=>new yn({shape:t,unknownKeys:"strip",catchall:Ho.create(),typeName:Mt.ZodObject,...Yt(e)});class qp extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const u of s)if(u.result.status==="valid")return u.result;for(const u of s)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const o=s.map(u=>new Ds(u.ctx.common.issues));return at(r,{code:ze.invalid_union,unionErrors:o}),Lt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const d of n){const f={...r,common:{...r.common,issues:[]},parent:null},g=d._parseSync({data:r.data,path:r.path,parent:f});if(g.status==="valid")return g;g.status==="dirty"&&!s&&(s={result:g,ctx:f}),f.common.issues.length&&o.push(f.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const u=o.map(d=>new Ds(d));return at(r,{code:ze.invalid_union,unionErrors:u}),Lt}}get options(){return this._def.options}}qp.create=(t,e)=>new qp({options:t,typeName:Mt.ZodUnion,...Yt(e)});const jo=t=>t instanceof Hp?jo(t.schema):t instanceof La?jo(t.innerType()):t instanceof Gp?[t.value]:t instanceof Ql?t.options:t instanceof Kp?hr.objectValues(t.enum):t instanceof Xp?jo(t._def.innerType):t instanceof Up?[void 0]:t instanceof Vp?[null]:t instanceof eo?[void 0,...jo(t.unwrap())]:t instanceof Jl?[null,...jo(t.unwrap())]:t instanceof rT||t instanceof Zp?jo(t.unwrap()):t instanceof Yp?jo(t._def.innerType):[];class q1 extends er{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.object)return at(r,{code:ze.invalid_type,expected:ut.object,received:r.parsedType}),Lt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(at(r,{code:ze.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Lt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=jo(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of o){if(i.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);i.set(u,s)}}return new q1({typeName:Mt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Yt(n)})}}function RE(t,e){const r=Do(t),n=Do(e);if(t===e)return{valid:!0,data:t};if(r===ut.object&&n===ut.object){const i=hr.objectKeys(e),s=hr.objectKeys(t).filter(u=>i.indexOf(u)!==-1),o={...t,...e};for(const u of s){const d=RE(t[u],e[u]);if(!d.valid)return{valid:!1};o[u]=d.data}return{valid:!0,data:o}}else if(r===ut.array&&n===ut.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],u=e[s],d=RE(o,u);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return r===ut.date&&n===ut.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class zp extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(PE(s)||PE(o))return Lt;const u=RE(s.value,o.value);return u.valid?((jE(s)||jE(o))&&r.dirty(),{status:r.value,value:u.data}):(at(n,{code:ze.invalid_intersection_types}),Lt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}zp.create=(t,e,r)=>new zp({left:t,right:e,typeName:Mt.ZodIntersection,...Yt(r)});class ao extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.array)return at(n,{code:ze.invalid_type,expected:ut.array,received:n.parsedType}),Lt;if(n.data.length<this._def.items.length)return at(n,{code:ze.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Lt;!this._def.rest&&n.data.length>this._def.items.length&&(at(n,{code:ze.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new so(n,o,n.path,u)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>$i.mergeArray(r,o)):$i.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new ao({...this._def,rest:e})}}ao.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ao({items:t,typeName:Mt.ZodTuple,rest:null,...Yt(e)})};class Wp extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.object)return at(n,{code:ze.invalid_type,expected:ut.object,received:n.parsedType}),Lt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const u in n.data)i.push({key:s._parse(new so(n,u,n.path,u)),value:o._parse(new so(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?$i.mergeObjectAsync(r,i):$i.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof er?new Wp({keyType:e,valueType:r,typeName:Mt.ZodRecord,...Yt(n)}):new Wp({keyType:ja.create(),valueType:e,typeName:Mt.ZodRecord,...Yt(r)})}}class yy extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.map)return at(n,{code:ze.invalid_type,expected:ut.map,received:n.parsedType}),Lt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([u,d],f)=>({key:i._parse(new so(n,u,n.path,[f,"key"])),value:s._parse(new so(n,d,n.path,[f,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of o){const f=await d.key,g=await d.value;if(f.status==="aborted"||g.status==="aborted")return Lt;(f.status==="dirty"||g.status==="dirty")&&r.dirty(),u.set(f.value,g.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of o){const f=d.key,g=d.value;if(f.status==="aborted"||g.status==="aborted")return Lt;(f.status==="dirty"||g.status==="dirty")&&r.dirty(),u.set(f.value,g.value)}return{status:r.value,value:u}}}}yy.create=(t,e,r)=>new yy({valueType:e,keyType:t,typeName:Mt.ZodMap,...Yt(r)});class cu extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ut.set)return at(n,{code:ze.invalid_type,expected:ut.set,received:n.parsedType}),Lt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(at(n,{code:ze.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(at(n,{code:ze.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(d){const f=new Set;for(const g of d){if(g.status==="aborted")return Lt;g.status==="dirty"&&r.dirty(),f.add(g.value)}return{status:r.value,value:f}}const u=[...n.data.values()].map((d,f)=>s._parse(new so(n,d,n.path,f)));return n.common.async?Promise.all(u).then(d=>o(d)):o(u)}min(e,r){return new cu({...this._def,minSize:{value:e,message:xt.toString(r)}})}max(e,r){return new cu({...this._def,maxSize:{value:e,message:xt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}cu.create=(t,e)=>new cu({valueType:t,minSize:null,maxSize:null,typeName:Mt.ZodSet,...Yt(e)});class Ld extends er{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.function)return at(r,{code:ze.invalid_type,expected:ut.function,received:r.parsedType}),Lt;function n(u,d){return hy({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,fy(),Zd].filter(f=>!!f),issueData:{code:ze.invalid_arguments,argumentsError:d}})}function i(u,d){return hy({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,fy(),Zd].filter(f=>!!f),issueData:{code:ze.invalid_return_type,returnTypeError:d}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Jd){const u=this;return Qi(async function(...d){const f=new Ds([]),g=await u._def.args.parseAsync(d,s).catch(T=>{throw f.addIssue(n(d,T)),f}),x=await Reflect.apply(o,this,g);return await u._def.returns._def.type.parseAsync(x,s).catch(T=>{throw f.addIssue(i(x,T)),f})})}else{const u=this;return Qi(function(...d){const f=u._def.args.safeParse(d,s);if(!f.success)throw new Ds([n(d,f.error)]);const g=Reflect.apply(o,this,f.data),x=u._def.returns.safeParse(g,s);if(!x.success)throw new Ds([i(g,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ld({...this._def,args:ao.create(e).rest(Jc.create())})}returns(e){return new Ld({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Ld({args:e||ao.create([]).rest(Jc.create()),returns:r||Jc.create(),typeName:Mt.ZodFunction,...Yt(n)})}}class Hp extends er{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Hp.create=(t,e)=>new Hp({getter:t,typeName:Mt.ZodLazy,...Yt(e)});class Gp extends er{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return at(r,{received:r.data,code:ze.invalid_literal,expected:this._def.value}),Lt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gp.create=(t,e)=>new Gp({value:t,typeName:Mt.ZodLiteral,...Yt(e)});function SL(t,e){return new Ql({values:t,typeName:Mt.ZodEnum,...Yt(e)})}class Ql extends er{constructor(){super(...arguments),lp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return at(r,{expected:hr.joinValues(n),received:r.parsedType,code:ze.invalid_type}),Lt}if(py(this,lp)||xL(this,lp,new Set(this._def.values)),!py(this,lp).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return at(r,{received:r.data,code:ze.invalid_enum_value,options:n}),Lt}return Qi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ql.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ql.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}lp=new WeakMap;Ql.create=SL;class Kp extends er{constructor(){super(...arguments),cp.set(this,void 0)}_parse(e){const r=hr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ut.string&&n.parsedType!==ut.number){const i=hr.objectValues(r);return at(n,{expected:hr.joinValues(i),received:n.parsedType,code:ze.invalid_type}),Lt}if(py(this,cp)||xL(this,cp,new Set(hr.getValidEnumValues(this._def.values))),!py(this,cp).has(e.data)){const i=hr.objectValues(r);return at(n,{received:n.data,code:ze.invalid_enum_value,options:i}),Lt}return Qi(e.data)}get enum(){return this._def.values}}cp=new WeakMap;Kp.create=(t,e)=>new Kp({values:t,typeName:Mt.ZodNativeEnum,...Yt(e)});class Jd extends er{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ut.promise&&r.common.async===!1)return at(r,{code:ze.invalid_type,expected:ut.promise,received:r.parsedType}),Lt;const n=r.parsedType===ut.promise?r.data:Promise.resolve(r.data);return Qi(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Jd.create=(t,e)=>new Jd({type:t,typeName:Mt.ZodPromise,...Yt(e)});class La extends er{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Mt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{at(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async u=>{if(r.value==="aborted")return Lt;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?Lt:d.status==="dirty"||r.value==="dirty"?Ad(d.value):d});{if(r.value==="aborted")return Lt;const u=this._def.schema._parseSync({data:o,path:n.path,parent:n});return u.status==="aborted"?Lt:u.status==="dirty"||r.value==="dirty"?Ad(u.value):u}}if(i.type==="refinement"){const o=u=>{const d=i.refinement(u,s);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Lt:(u.status==="dirty"&&r.dirty(),o(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Lt:(u.status==="dirty"&&r.dirty(),o(u.value).then(()=>({status:r.value,value:u.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ou(o))return o;const u=i.transform(o.value,s);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>ou(o)?Promise.resolve(i.transform(o.value,s)).then(u=>({status:r.value,value:u})):o);hr.assertNever(i)}}La.create=(t,e,r)=>new La({schema:t,typeName:Mt.ZodEffects,effect:e,...Yt(r)});La.createWithPreprocess=(t,e,r)=>new La({schema:e,effect:{type:"preprocess",transform:t},typeName:Mt.ZodEffects,...Yt(r)});class eo extends er{_parse(e){return this._getType(e)===ut.undefined?Qi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eo.create=(t,e)=>new eo({innerType:t,typeName:Mt.ZodOptional,...Yt(e)});class Jl extends er{_parse(e){return this._getType(e)===ut.null?Qi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jl.create=(t,e)=>new Jl({innerType:t,typeName:Mt.ZodNullable,...Yt(e)});class Xp extends er{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ut.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Xp.create=(t,e)=>new Xp({innerType:t,typeName:Mt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Yt(e)});class Yp extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Fp(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ds(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ds(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Yp.create=(t,e)=>new Yp({innerType:t,typeName:Mt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Yt(e)});class vy extends er{_parse(e){if(this._getType(e)!==ut.nan){const n=this._getOrReturnCtx(e);return at(n,{code:ze.invalid_type,expected:ut.nan,received:n.parsedType}),Lt}return{status:"valid",value:e.data}}}vy.create=t=>new vy({typeName:Mt.ZodNaN,...Yt(t)});const _Q=Symbol("zod_brand");class rT extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class zm extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Lt:s.status==="dirty"?(r.dirty(),Ad(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Lt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new zm({in:e,out:r,typeName:Mt.ZodPipeline})}}class Zp extends er{_parse(e){const r=this._def.innerType._parse(e),n=i=>(ou(i)&&(i.value=Object.freeze(i.value)),i);return Fp(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Zp.create=(t,e)=>new Zp({innerType:t,typeName:Mt.ZodReadonly,...Yt(e)});function dj(t,e){const r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function EL(t,e={},r){return t?Qd.create().superRefine((n,i)=>{var s,o;const u=t(n);if(u instanceof Promise)return u.then(d=>{var f,g;if(!d){const x=dj(e,n),_=(g=(f=x.fatal)!==null&&f!==void 0?f:r)!==null&&g!==void 0?g:!0;i.addIssue({code:"custom",...x,fatal:_})}});if(!u){const d=dj(e,n),f=(o=(s=d.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...d,fatal:f})}}):Qd.create()}const SQ={object:yn.lazycreate};var Mt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Mt||(Mt={}));const EQ=(t,e={message:`Input not instance of ${t.name}`})=>EL(r=>r instanceof t,e),AL=ja.create,CL=Yl.create,AQ=vy.create,CQ=Zl.create,TL=$p.create,TQ=lu.create,NQ=my.create,OQ=Up.create,IQ=Vp.create,PQ=Qd.create,jQ=Jc.create,RQ=Ho.create,kQ=gy.create,MQ=ka.create,DQ=yn.create,LQ=yn.strictCreate,BQ=qp.create,FQ=q1.create,$Q=zp.create,UQ=ao.create,VQ=Wp.create,qQ=yy.create,zQ=cu.create,WQ=Ld.create,HQ=Hp.create,GQ=Gp.create,KQ=Ql.create,XQ=Kp.create,YQ=Jd.create,fj=La.create,ZQ=eo.create,QQ=Jl.create,JQ=La.createWithPreprocess,eJ=zm.create,tJ=()=>AL().optional(),rJ=()=>CL().optional(),nJ=()=>TL().optional(),iJ={string:(t=>ja.create({...t,coerce:!0})),number:(t=>Yl.create({...t,coerce:!0})),boolean:(t=>$p.create({...t,coerce:!0})),bigint:(t=>Zl.create({...t,coerce:!0})),date:(t=>lu.create({...t,coerce:!0}))},sJ=Lt;var lr=Object.freeze({__proto__:null,defaultErrorMap:Zd,setErrorMap:JZ,getErrorMap:fy,makeIssue:hy,EMPTY_PATH:eQ,addIssueToContext:at,ParseStatus:$i,INVALID:Lt,DIRTY:Ad,OK:Qi,isAborted:PE,isDirty:jE,isValid:ou,isAsync:Fp,get util(){return hr},get objectUtil(){return IE},ZodParsedType:ut,getParsedType:Do,ZodType:er,datetimeRegex:_L,ZodString:ja,ZodNumber:Yl,ZodBigInt:Zl,ZodBoolean:$p,ZodDate:lu,ZodSymbol:my,ZodUndefined:Up,ZodNull:Vp,ZodAny:Qd,ZodUnknown:Jc,ZodNever:Ho,ZodVoid:gy,ZodArray:ka,ZodObject:yn,ZodUnion:qp,ZodDiscriminatedUnion:q1,ZodIntersection:zp,ZodTuple:ao,ZodRecord:Wp,ZodMap:yy,ZodSet:cu,ZodFunction:Ld,ZodLazy:Hp,ZodLiteral:Gp,ZodEnum:Ql,ZodNativeEnum:Kp,ZodPromise:Jd,ZodEffects:La,ZodTransformer:La,ZodOptional:eo,ZodNullable:Jl,ZodDefault:Xp,ZodCatch:Yp,ZodNaN:vy,BRAND:_Q,ZodBranded:rT,ZodPipeline:zm,ZodReadonly:Zp,custom:EL,Schema:er,ZodSchema:er,late:SQ,get ZodFirstPartyTypeKind(){return Mt},coerce:iJ,any:PQ,array:MQ,bigint:CQ,boolean:TL,date:TQ,discriminatedUnion:FQ,effect:fj,enum:KQ,function:WQ,instanceof:EQ,intersection:$Q,lazy:HQ,literal:GQ,map:qQ,nan:AQ,nativeEnum:XQ,never:RQ,null:IQ,nullable:QQ,number:CL,object:DQ,oboolean:nJ,onumber:rJ,optional:ZQ,ostring:tJ,pipeline:eJ,preprocess:JQ,promise:YQ,record:VQ,set:zQ,strictObject:LQ,string:AL,symbol:NQ,transformer:fj,tuple:UQ,undefined:OQ,union:BQ,unknown:jQ,void:kQ,NEVER:sJ,ZodIssueCode:ze,quotelessJson:QZ,ZodError:Ds}),aJ="Label",NL=j.forwardRef((t,e)=>m.jsx(Ct.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));NL.displayName=aJ;var OL=NL;const oJ=$m("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Gi=j.forwardRef(({className:t,...e},r)=>m.jsx(OL,{ref:r,className:Ze(oJ(),t),...e}));Gi.displayName=OL.displayName;const _u=PZ,IL=j.createContext({}),nn=({...t})=>m.jsx(IL.Provider,{value:{name:t.name},children:m.jsx(MZ,{...t})}),z1=()=>{const t=j.useContext(IL),e=j.useContext(PL),{getFieldState:r,formState:n}=V1(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},PL=j.createContext({}),Kr=j.forwardRef(({className:t,...e},r)=>{const n=j.useId();return m.jsx(PL.Provider,{value:{id:n},children:m.jsx("div",{ref:r,className:Ze("space-y-2",t),...e})})});Kr.displayName="FormItem";const cn=j.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=z1();return m.jsx(Gi,{ref:r,className:Ze(n&&"text-destructive",t),htmlFor:i,...e})});cn.displayName="FormLabel";const Xr=j.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=z1();return m.jsx(b6,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});Xr.displayName="FormControl";const _d=j.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=z1();return m.jsx("p",{ref:r,id:n,className:Ze("text-sm text-muted-foreground",t),...e})});_d.displayName="FormDescription";const Yr=j.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=z1(),o=i?String(i?.message??""):e;return o?m.jsx("p",{ref:n,id:s,className:Ze("text-sm font-medium text-destructive",t),...r,children:o}):null});Yr.displayName="FormMessage";const Mr=j.forwardRef(({className:t,type:e,...r},n)=>m.jsx("input",{type:e,className:Ze("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Mr.displayName="Input";const nT=$m("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),yt=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?b6:"button";return m.jsx(o,{className:Ze(nT({variant:e,size:r,className:t})),ref:s,...i})});yt.displayName="Button";var lJ=j.createContext(void 0);function Wm(t){const e=j.useContext(lJ);return t||e||"ltr"}var $w="rovingFocusGroup.onEntryFocus",cJ={bubbles:!1,cancelable:!0},W1="RovingFocusGroup",[kE,jL,uJ]=P1(W1),[dJ,zf]=es(W1,[uJ]),[fJ,hJ]=dJ(W1),RL=j.forwardRef((t,e)=>m.jsx(kE.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(kE.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(pJ,{...t,ref:e})})}));RL.displayName=W1;var pJ=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...x}=t,_=j.useRef(null),T=dr(e,_),N=Wm(s),[E=null,A]=Wl({prop:o,defaultProp:u,onChange:d}),[M,R]=j.useState(!1),I=Ni(f),D=jL(r),L=j.useRef(!1),[$,B]=j.useState(0);return j.useEffect(()=>{const z=_.current;if(z)return z.addEventListener($w,I),()=>z.removeEventListener($w,I)},[I]),m.jsx(fJ,{scope:r,orientation:n,dir:N,loop:i,currentTabStopId:E,onItemFocus:j.useCallback(z=>A(z),[A]),onItemShiftTab:j.useCallback(()=>R(!0),[]),onFocusableItemAdd:j.useCallback(()=>B(z=>z+1),[]),onFocusableItemRemove:j.useCallback(()=>B(z=>z-1),[]),children:m.jsx(Ct.div,{tabIndex:M||$===0?-1:0,"data-orientation":n,...x,ref:T,style:{outline:"none",...t.style},onMouseDown:et(t.onMouseDown,()=>{L.current=!0}),onFocus:et(t.onFocus,z=>{const H=!L.current;if(z.target===z.currentTarget&&H&&!M){const ce=new CustomEvent($w,cJ);if(z.currentTarget.dispatchEvent(ce),!ce.defaultPrevented){const K=D().filter(J=>J.focusable),W=K.find(J=>J.active),Z=K.find(J=>J.id===E),Y=[W,Z,...K].filter(Boolean).map(J=>J.ref.current);DL(Y,g)}}L.current=!1}),onBlur:et(t.onBlur,()=>R(!1))})})}),kL="RovingFocusGroupItem",ML=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...o}=t,u=Qa(),d=s||u,f=hJ(kL,r),g=f.currentTabStopId===d,x=jL(r),{onFocusableItemAdd:_,onFocusableItemRemove:T}=f;return j.useEffect(()=>{if(n)return _(),()=>T()},[n,_,T]),m.jsx(kE.ItemSlot,{scope:r,id:d,focusable:n,active:i,children:m.jsx(Ct.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:et(t.onMouseDown,N=>{n?f.onItemFocus(d):N.preventDefault()}),onFocus:et(t.onFocus,()=>f.onItemFocus(d)),onKeyDown:et(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){f.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const E=yJ(N,f.orientation,f.dir);if(E!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let M=x().filter(R=>R.focusable).map(R=>R.ref.current);if(E==="last")M.reverse();else if(E==="prev"||E==="next"){E==="prev"&&M.reverse();const R=M.indexOf(N.currentTarget);M=f.loop?vJ(M,R+1):M.slice(R+1)}setTimeout(()=>DL(M))}})})})});ML.displayName=kL;var mJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gJ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yJ(t,e,r){const n=gJ(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return mJ[n]}function DL(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function vJ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var iT=RL,sT=ML,aT="Tabs",[xJ]=es(aT,[zf]),LL=zf(),[wJ,oT]=xJ(aT),BL=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:u,activationMode:d="automatic",...f}=t,g=Wm(u),[x,_]=Wl({prop:n,onChange:i,defaultProp:s});return m.jsx(wJ,{scope:r,baseId:Qa(),value:x,onValueChange:_,orientation:o,dir:g,activationMode:d,children:m.jsx(Ct.div,{dir:g,"data-orientation":o,...f,ref:e})})});BL.displayName=aT;var FL="TabsList",$L=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=oT(FL,r),o=LL(r);return m.jsx(iT,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:m.jsx(Ct.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});$L.displayName=FL;var UL="TabsTrigger",VL=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=oT(UL,r),u=LL(r),d=WL(o.baseId,n),f=HL(o.baseId,n),g=n===o.value;return m.jsx(sT,{asChild:!0,...u,focusable:!i,active:g,children:m.jsx(Ct.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:d,...s,ref:e,onMouseDown:et(t.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?o.onValueChange(n):x.preventDefault()}),onKeyDown:et(t.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&o.onValueChange(n)}),onFocus:et(t.onFocus,()=>{const x=o.activationMode!=="manual";!g&&!i&&x&&o.onValueChange(n)})})})});VL.displayName=UL;var qL="TabsContent",zL=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,u=oT(qL,r),d=WL(u.baseId,n),f=HL(u.baseId,n),g=n===u.value,x=j.useRef(g);return j.useEffect(()=>{const _=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(_)},[]),m.jsx(oa,{present:i||g,children:({present:_})=>m.jsx(Ct.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!_,id:f,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:x.current?"0s":void 0},children:_&&s})})});zL.displayName=qL;function WL(t,e){return`${t}-trigger-${e}`}function HL(t,e){return`${t}-content-${e}`}var bJ=BL,GL=$L,KL=VL,XL=zL;const lT=bJ,cT=j.forwardRef(({className:t,...e},r)=>m.jsx(GL,{ref:r,className:Ze("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));cT.displayName=GL.displayName;const eu=j.forwardRef(({className:t,...e},r)=>m.jsx(KL,{ref:r,className:Ze("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));eu.displayName=KL.displayName;const z0=j.forwardRef(({className:t,...e},r)=>m.jsx(XL,{ref:r,className:Ze("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));z0.displayName=XL.displayName;const $t=j.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Ze("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));$t.displayName="Card";const Rr=j.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Ze("flex flex-col space-y-1.5 p-6",t),...e}));Rr.displayName="CardHeader";const kr=j.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Ze("text-2xl font-semibold leading-none tracking-tight",t),...e}));kr.displayName="CardTitle";const on=j.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Ze("text-sm text-muted-foreground",t),...e}));on.displayName="CardDescription";const Wt=j.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Ze("p-6 pt-0",t),...e}));Wt.displayName="CardContent";const _J=j.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Ze("flex items-center p-6 pt-0",t),...e}));_J.displayName="CardFooter";const SJ=$m("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ef=j.forwardRef(({className:t,variant:e,...r},n)=>m.jsx("div",{ref:n,role:"alert",className:Ze(SJ({variant:e}),t),...r}));ef.displayName="Alert";const xy=j.forwardRef(({className:t,...e},r)=>m.jsx("h5",{ref:r,className:Ze("mb-1 font-medium leading-none tracking-tight",t),...e}));xy.displayName="AlertTitle";const tf=j.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:Ze("text-sm [&_p]:leading-relaxed",t),...e}));tf.displayName="AlertDescription";const EJ=lr.object({identifier:lr.string().min(1,"Email or ID Number is required"),password:lr.string().min(1,"Password is required"),role:lr.enum(["student","teacher","superadmin"])});function AJ(){const{login:t,isLoggingIn:e,user:r}=Ui(),{settings:n}=qf(),[,i]=xu(),[s,o]=j.useState("student"),[u,d]=j.useState(!1);if(j.useEffect(()=>{const x=new URLSearchParams(window.location.search),_=x.get("scan"),T=x.get("token"),N=x.get("subjectId");_==="attendance"&&T&&N&&(sessionStorage.setItem("pendingAttendanceScan",JSON.stringify({token:T,subjectId:N,timestamp:Date.now()})),d(!0),o("student"))},[]),r)return sessionStorage.getItem("pendingAttendanceScan")&&r.role==="student"?i("/attendance"):i("/dashboard"),null;const f=wu({resolver:bu(EJ),defaultValues:{identifier:"",password:"",role:"student"}}),g=x=>{t({...x,role:s})};return m.jsxs("div",{className:"min-h-screen grid lg:grid-cols-2 bg-gray-50",children:[m.jsx("div",{className:"flex items-center justify-center p-8",children:m.jsxs("div",{className:"w-full max-w-md space-y-8",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary text-white shadow-xl shadow-primary/20 mb-4",children:n.logoUrl?m.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-8 h-8 object-contain"}):m.jsx(Gd,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-3xl font-display font-bold tracking-tight text-gray-900",children:"Welcome Back TESTERSIX-SEVEN"}),m.jsxs("p",{className:"text-muted-foreground",children:["Sign in to your ",n.systemTitle," account"]})]}),u&&m.jsxs(ef,{className:"bg-primary/10 border-primary/20",children:[m.jsx(IC,{className:"h-4 w-4 text-primary"}),m.jsxs(tf,{className:"text-primary",children:[m.jsx("strong",{children:"Attendance QR Code Detected!"}),m.jsx("br",{}),"Please sign in with your student account to record your attendance."]})]}),m.jsx(lT,{defaultValue:"student",value:s,onValueChange:x=>o(x),className:"w-full",children:m.jsx(_u,{...f,children:m.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-6",children:[m.jsx(nn,{control:f.control,name:"identifier",render:({field:x})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Email or ID Number"}),m.jsx(Xr,{children:m.jsxs("div",{className:"relative",children:[m.jsx(Q6,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{className:"pl-9 h-11",placeholder:"Email or ID Number",...x})]})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:f.control,name:"password",render:({field:x})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Password"}),m.jsx(Xr,{children:m.jsxs("div",{className:"relative",children:[m.jsx(OC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{type:"password",className:"pl-9 h-11",placeholder:"",...x})]})}),m.jsx(Yr,{})]})}),m.jsx(yt,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all",disabled:e,children:e?m.jsxs(m.Fragment,{children:[m.jsx(Zi,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign In"}),m.jsx("div",{className:"text-center",children:m.jsx(Pa,{href:"/forgot-password",children:m.jsx(yt,{variant:"ghost",type:"button",className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})})]})})})]})}),m.jsxs("div",{className:"hidden lg:flex relative bg-primary items-center justify-center p-12 overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1541339907198-e08756dedf3f?q=80&w=2070&auto=format&fit=crop')] bg-cover bg-center opacity-10 mix-blend-overlay"}),m.jsxs("div",{className:"relative z-10 max-w-lg text-white space-y-8",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("h2",{className:"text-4xl font-display font-bold leading-tight",children:[n.tagline||"Streamlining Academic Attendance"," at ",n.schoolName]}),m.jsx("p",{className:"text-lg text-primary-foreground/80 leading-relaxed",children:"Efficient, accurate, and real-time attendance monitoring for students and faculty."})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsx($t,{className:"bg-white/10 border-white/20 backdrop-blur-sm",children:m.jsxs(Rr,{className:"space-y-1",children:[m.jsx(Ra,{className:"w-8 h-8 mb-2 text-white"}),m.jsx(kr,{className:"text-white text-lg",children:"Smart Tracking"}),m.jsx(on,{className:"text-white/60",children:"Automated attendance management for all classes"})]})}),m.jsx($t,{className:"bg-white/10 border-white/20 backdrop-blur-sm",children:m.jsxs(Rr,{className:"space-y-1",children:[m.jsx(Z6,{className:"w-8 h-8 mb-2 text-white"}),m.jsx(kr,{className:"text-white text-lg",children:"Secure Access"}),m.jsx(on,{className:"text-white/60",children:"Role-based permissions and data protection"})]})})]})]})]})]})}const CJ=lr.object({email:lr.string().email("Please enter a valid email address")});function TJ(){const{settings:t}=qf(),{toast:e}=hi(),[r,n]=j.useState(!1),[i,s]=j.useState(!1),[o,u]=j.useState(""),d=jz(),f=new URLSearchParams(d).get("from")==="profile",g=wu({resolver:bu(CJ),defaultValues:{email:""}}),x=async _=>{n(!0);try{const{data:T,error:N}=await Et.from("users").select("id, email, full_name").eq("email",_.email.toLowerCase()).single();if(N||!T){u(_.email),s(!0);return}const E=crypto.randomUUID(),{error:A}=await Et.auth.signUp({email:_.email.toLowerCase(),password:E,options:{data:{full_name:T.full_name,user_id:T.id}}});A&&A.message.includes("already registered");const R=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?`${window.location.origin}/reset-password`:"https://dlsuqr.vercel.app/reset-password",{data:I,error:D}=await Et.auth.resetPasswordForEmail(_.email.toLowerCase(),{redirectTo:R});D?(console.error("Supabase reset password error:",D),D.message.includes("rate")||D.message.includes("limit")?e({title:"Too Many Requests",description:"Please wait a few minutes before requesting another reset email.",variant:"destructive"}):e({title:"Notice",description:"If an account exists, a reset email will be sent shortly.",variant:"default"})):e({title:"Email Sent! ",description:"Check your inbox (and spam folder) for the password reset link."}),u(_.email),s(!0)}catch(T){console.error("Forgot password error:",T),e({title:"Error",description:"Something went wrong. Please try again later.",variant:"destructive"})}finally{n(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary text-white shadow-xl shadow-primary/20 mb-4",children:t.logoUrl?m.jsx("img",{src:t.logoUrl,alt:"Logo",className:"w-8 h-8 object-contain"}):m.jsx(Gd,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-2xl font-display font-bold tracking-tight text-gray-900",children:f?"Reset Password":"Forgot Password?"}),m.jsx("p",{className:"text-muted-foreground",children:"No worries, we'll send you reset instructions."})]}),m.jsx($t,{className:"shadow-lg",children:m.jsx(Wt,{className:"pt-6",children:i?m.jsxs("div",{className:"space-y-6",children:[m.jsxs(ef,{className:"border-green-200 bg-green-50",children:[m.jsx(Os,{className:"h-4 w-4 text-green-600"}),m.jsx(xy,{className:"text-green-800",children:"Check your email"}),m.jsxs(tf,{className:"text-green-700",children:["If an account exists for ",m.jsx("span",{className:"font-medium",children:o}),", you will receive a password reset link shortly."]})]}),m.jsx("div",{className:"rounded-lg bg-amber-50 border border-amber-200 p-4",children:m.jsxs("p",{className:"text-sm text-amber-800",children:[m.jsx("strong",{children:" Note:"})," The email may arrive in your ",m.jsx("strong",{children:"spam/junk folder"}),". Please check there if you don't see it in your inbox."]})}),m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Didn't receive the email? Check your spam folder or"}),m.jsx(yt,{variant:"outline",onClick:()=>{s(!1),g.reset()},children:"Try another email"})]}),m.jsx("div",{className:"pt-4 border-t",children:m.jsx(Pa,{href:f?"/profile":"/login",children:m.jsxs(yt,{variant:"ghost",className:"w-full",children:[m.jsx(Z0,{className:"mr-2 h-4 w-4"}),f?"Back":"Back to login"]})})})]}):m.jsx(_u,{...g,children:m.jsxs("form",{onSubmit:g.handleSubmit(x),className:"space-y-6",children:[m.jsx(nn,{control:g.control,name:"email",render:({field:_})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Email Address"}),m.jsx(Xr,{children:m.jsxs("div",{className:"relative",children:[m.jsx(bH,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{className:"pl-9 h-11",placeholder:"Enter your email address",type:"email",..._})]})}),m.jsx(Yr,{})]})}),m.jsx(yt,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all",disabled:r,children:r?m.jsxs(m.Fragment,{children:[m.jsx(Zi,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send Reset Link"}),m.jsx("div",{className:"text-center",children:m.jsx(Pa,{href:f?"/profile":"/login",children:m.jsxs(yt,{variant:"ghost",className:"text-sm",children:[m.jsx(Z0,{className:"mr-2 h-4 w-4"}),f?"Back":"Back to login"]})})})]})})})}),m.jsxs(ef,{variant:"default",className:"bg-blue-50 border-blue-200",children:[m.jsx(no,{className:"h-4 w-4 text-blue-600"}),m.jsx(tf,{className:"text-blue-700 text-sm",children:"For your security, password reset links expire after 1 hour and can only be used once."})]})]})})}var uT="Progress",dT=100,[NJ]=es(uT),[OJ,IJ]=NJ(uT),YL=j.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=PJ,...o}=t;(i||i===0)&&!hj(i)&&console.error(jJ(`${i}`,"Progress"));const u=hj(i)?i:dT;n!==null&&!pj(n,u)&&console.error(RJ(`${n}`,"Progress"));const d=pj(n,u)?n:null,f=wy(d)?s(d,u):void 0;return m.jsx(OJ,{scope:r,value:d,max:u,children:m.jsx(Ct.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":wy(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":JL(d,u),"data-value":d??void 0,"data-max":u,...o,ref:e})})});YL.displayName=uT;var ZL="ProgressIndicator",QL=j.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=IJ(ZL,r);return m.jsx(Ct.div,{"data-state":JL(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});QL.displayName=ZL;function PJ(t,e){return`${Math.round(t/e*100)}%`}function JL(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function wy(t){return typeof t=="number"}function hj(t){return wy(t)&&!isNaN(t)&&t>0}function pj(t,e){return wy(t)&&!isNaN(t)&&t<=e&&t>=0}function jJ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${dT}\`.`}function RJ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${dT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var e7=YL,kJ=QL;const t7=j.forwardRef(({className:t,value:e,...r},n)=>m.jsx(e7,{ref:n,className:Ze("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:m.jsx(kJ,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));t7.displayName=e7.displayName;const MJ=lr.object({password:lr.string().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/[0-9]/,"Password must contain at least one number"),confirmPassword:lr.string()}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function DJ(t){let e=0;return t.length>=8&&(e+=25),t.length>=12&&(e+=10),/[A-Z]/.test(t)&&(e+=20),/[a-z]/.test(t)&&(e+=15),/[0-9]/.test(t)&&(e+=15),/[^A-Za-z0-9]/.test(t)&&(e+=15),e<40?{score:e,label:"Weak",color:"bg-red-500"}:e<70?{score:e,label:"Fair",color:"bg-yellow-500"}:e<90?{score:e,label:"Good",color:"bg-blue-500"}:{score:Math.min(e,100),label:"Strong",color:"bg-green-500"}}function LJ(){const{settings:t}=qf(),{toast:e}=hi();xu();const[r,n]=j.useState(!1),[i,s]=j.useState(!0),[o,u]=j.useState(!1),[d,f]=j.useState(!1),[g,x]=j.useState(null),[_,T]=j.useState(!1),[N,E]=j.useState(!1),[A,M]=j.useState(null),R=wu({resolver:bu(MJ),defaultValues:{password:"",confirmPassword:""}}),I=R.watch("password"),D=DJ(I||"");j.useEffect(()=>{console.log(" ResetPassword: Page loaded"),console.log(" Full URL:",window.location.href),console.log(" Hash:",window.location.hash);const $=new URLSearchParams(window.location.hash.substring(1)),B=$.get("access_token"),z=$.get("type"),H=$.get("error_description"),ce=$.get("error_code"),K=$.get("error");if(console.log(" Parsed hash params:",{accessToken:B?"present":"missing",type:z,errorDesc:H,errorCode:ce,error:K}),K||H){const Z=H?decodeURIComponent(H.replace(/\+/g," ")):K||"Unknown error";console.error(" Error from URL:",Z),M(Z),s(!1),u(!1);return}if(z==="recovery"&&B){const Z=$.get("refresh_token");B&&Z?Et.auth.setSession({access_token:B,refresh_token:Z}).then(({data:Q,error:Y})=>{Y?(console.error("Error setting session:",Y),M("Invalid or expired reset link."),u(!1)):Q.user&&(x(Q.user.email||null),u(!0)),s(!1)}):(M("Invalid reset link."),s(!1),u(!1))}else Et.auth.getSession().then(({data:{session:Z}})=>{Z?(x(Z.user.email||null),u(!0)):(M("No valid password reset session found. Please request a new reset link."),u(!1)),s(!1)});const{data:{subscription:W}}=Et.auth.onAuthStateChange((Z,Q)=>{Z==="PASSWORD_RECOVERY"&&(x(Q?.user.email||null),u(!0),s(!1))});return()=>{W.unsubscribe()}},[]);const L=async $=>{n(!0);try{const{error:B}=await Et.auth.updateUser({password:$.password});if(B)throw B;g&&await Et.from("users").update({password:$.password}).eq("email",g.toLowerCase()),await Et.auth.signOut(),f(!0),e({title:"Password Reset Successful",description:"Your password has been updated. You can now log in with your new password."})}catch(B){console.error("Reset password error:",B),e({title:"Error",description:B.message||"Failed to reset password. Please try again.",variant:"destructive"})}finally{n(!1)}};return i?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"text-center space-y-4",children:[m.jsx(Zi,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),m.jsx("p",{className:"text-muted-foreground",children:"Validating reset link..."})]})}):o?d?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-green-100 text-green-600 mb-4",children:m.jsx(Os,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-2xl font-display font-bold tracking-tight text-gray-900",children:"Password Reset Complete"}),m.jsx("p",{className:"text-muted-foreground",children:"Your password has been successfully updated."})]}),m.jsx($t,{className:"shadow-lg",children:m.jsxs(Wt,{className:"pt-6 space-y-4",children:[m.jsxs(ef,{className:"border-green-200 bg-green-50",children:[m.jsx(Os,{className:"h-4 w-4 text-green-600"}),m.jsx(xy,{className:"text-green-800",children:"Success!"}),m.jsx(tf,{className:"text-green-700",children:"You can now log in with your new password. For your security, you've been logged out of all other devices."})]}),m.jsx(Pa,{href:"/login",children:m.jsx(yt,{className:"w-full h-11 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all",children:"Continue to Login"})})]})})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary text-white shadow-xl shadow-primary/20 mb-4",children:t.logoUrl?m.jsx("img",{src:t.logoUrl,alt:"Logo",className:"w-8 h-8 object-contain"}):m.jsx(Gd,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-2xl font-display font-bold tracking-tight text-gray-900",children:"Reset Your Password"}),m.jsx("p",{className:"text-muted-foreground",children:g?`Resetting password for ${g}`:"Create a new password for your account."})]}),m.jsx($t,{className:"shadow-lg",children:m.jsx(Wt,{className:"pt-6",children:m.jsx(_u,{...R,children:m.jsxs("form",{onSubmit:R.handleSubmit(L),className:"space-y-6",children:[m.jsx(nn,{control:R.control,name:"password",render:({field:$})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"New Password"}),m.jsx(Xr,{children:m.jsxs("div",{className:"relative",children:[m.jsx(OC,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{type:_?"text":"password",className:"pl-9 pr-10 h-11",placeholder:"Enter new password",...$}),m.jsx(yt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-10 hover:bg-transparent",onClick:()=>T(!_),children:_?m.jsx(uP,{className:"h-4 w-4 text-muted-foreground"}):m.jsx(dP,{className:"h-4 w-4 text-muted-foreground"})})]})}),I&&m.jsxs("div",{className:"space-y-2 mt-2",children:[m.jsxs("div",{className:"flex items-center justify-between text-xs",children:[m.jsx("span",{className:"text-muted-foreground",children:"Password strength:"}),m.jsx("span",{className:`font-medium ${D.label==="Weak"?"text-red-500":D.label==="Fair"?"text-yellow-500":D.label==="Good"?"text-blue-500":"text-green-500"}`,children:D.label})]}),m.jsx(t7,{value:D.score,className:"h-1.5"})]}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:R.control,name:"confirmPassword",render:({field:$})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Confirm Password"}),m.jsx(Xr,{children:m.jsxs("div",{className:"relative",children:[m.jsx(Z6,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{type:N?"text":"password",className:"pl-9 pr-10 h-11",placeholder:"Confirm new password",...$}),m.jsx(yt,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-11 w-10 hover:bg-transparent",onClick:()=>E(!N),children:N?m.jsx(uP,{className:"h-4 w-4 text-muted-foreground"}):m.jsx(dP,{className:"h-4 w-4 text-muted-foreground"})})]})}),m.jsx(Yr,{})]})}),m.jsxs("div",{className:"rounded-lg bg-muted/50 p-4 space-y-2",children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Password must contain:"}),m.jsxs("ul",{className:"text-xs space-y-1 text-muted-foreground",children:[m.jsxs("li",{className:`flex items-center gap-2 ${I?.length>=8?"text-green-600":""}`,children:[m.jsx(Os,{className:`h-3 w-3 ${I?.length>=8?"text-green-600":"text-muted-foreground/50"}`}),"At least 8 characters"]}),m.jsxs("li",{className:`flex items-center gap-2 ${/[A-Z]/.test(I||"")?"text-green-600":""}`,children:[m.jsx(Os,{className:`h-3 w-3 ${/[A-Z]/.test(I||"")?"text-green-600":"text-muted-foreground/50"}`}),"One uppercase letter"]}),m.jsxs("li",{className:`flex items-center gap-2 ${/[a-z]/.test(I||"")?"text-green-600":""}`,children:[m.jsx(Os,{className:`h-3 w-3 ${/[a-z]/.test(I||"")?"text-green-600":"text-muted-foreground/50"}`}),"One lowercase letter"]}),m.jsxs("li",{className:`flex items-center gap-2 ${/[0-9]/.test(I||"")?"text-green-600":""}`,children:[m.jsx(Os,{className:`h-3 w-3 ${/[0-9]/.test(I||"")?"text-green-600":"text-muted-foreground/50"}`}),"One number"]})]})]}),m.jsx(yt,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg shadow-primary/25 hover:shadow-primary/40 transition-all",disabled:r,children:r?m.jsxs(m.Fragment,{children:[m.jsx(Zi,{className:"mr-2 h-4 w-4 animate-spin"}),"Resetting Password..."]}):"Reset Password"}),m.jsx("div",{className:"text-center",children:m.jsx(Pa,{href:"/login",children:m.jsxs(yt,{variant:"ghost",className:"text-sm",children:[m.jsx(Z0,{className:"mr-2 h-4 w-4"}),"Back to login"]})})})]})})})})]})}):m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-red-100 text-red-600 mb-4",children:m.jsx(no,{className:"w-8 h-8"})}),m.jsx("h1",{className:"text-2xl font-display font-bold tracking-tight text-gray-900",children:"Invalid or Expired Link"}),m.jsx("p",{className:"text-muted-foreground",children:"This password reset link is invalid, expired, or has already been used."})]}),m.jsx($t,{className:"shadow-lg",children:m.jsxs(Wt,{className:"pt-6 space-y-4",children:[m.jsxs(ef,{variant:"destructive",children:[m.jsx(no,{className:"h-4 w-4"}),m.jsx(xy,{children:"Link Not Valid"}),m.jsx(tf,{children:A||"Password reset links expire after 1 hour and can only be used once. Please request a new reset link if you still need to reset your password."})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Pa,{href:"/forgot-password",children:m.jsx(yt,{className:"w-full",children:"Request New Reset Link"})}),m.jsx(Pa,{href:"/login",children:m.jsxs(yt,{variant:"outline",className:"w-full",children:[m.jsx(Z0,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})]})})]})})}function BJ(t){if(!t)return null;const e=t.replace("Z","");return new Date(e)}function FJ(t){return{id:t.id,studentId:t.student_id,subjectId:t.subject_id,date:t.date,status:t.status,timeIn:BJ(t.time_in),remarks:t.remarks,studentName:t.student?.full_name||t.users?.full_name||"Unknown",subjectName:t.subject?.name||t.subjects?.name||"Unknown"}}function fT(t,e){return Ba({queryKey:["attendance",t],refetchInterval:e?.refetchInterval,queryFn:async()=>{console.log("Fetching attendance with filters:",t);let n=Et.from("attendance").select(`
          *,
          student:users!student_id(full_name),
          subject:subjects!subject_id(name)
        `);t?.subjectId&&(n=n.eq("subject_id",t.subjectId)),t?.studentId&&(console.log("Filtering by student_id:",t.studentId,"type:",typeof t.studentId),n=n.eq("student_id",t.studentId)),t?.date&&(n=n.eq("date",t.date));const{data:i,error:s}=await n;if(console.log("Attendance query result:",{data:i,error:s}),s)throw console.error("Supabase error:",s),new Error("Failed to fetch attendance: "+s.message);return(i||[]).map(FJ)}})}function hT(t){return{id:t.id,name:t.name,code:t.code,teacherId:t.teacher_id,description:t.description}}function $J(t){return{id:t.id,idNumber:t.id_number,email:t.email,password:t.password,fullName:t.full_name,role:t.role,profilePicture:t.profile_picture,createdAt:t.created_at?new Date(t.created_at):null}}function Wf(){return Ba({queryKey:["subjects"],queryFn:async()=>{const{data:t,error:e}=await Et.from("subjects").select("*");if(e)throw new Error("Failed to fetch subjects");return(t||[]).map(hT)}})}function pT(t){return Ba({queryKey:["student-subjects",t],queryFn:async()=>{if(!t)return[];const{data:e,error:r}=await Et.from("enrollments").select("subject_id").eq("student_id",t);if(r)throw new Error("Failed to fetch enrollments");if(!e||e.length===0)return[];const n=e.map(o=>o.subject_id),{data:i,error:s}=await Et.from("subjects").select("*").in("id",n);if(s)throw new Error("Failed to fetch subjects");return(i||[]).map(hT)},enabled:!!t})}function H1(t){return Ba({queryKey:["subject-students",t],queryFn:async()=>{const{data:e,error:r}=await Et.from("enrollments").select("student_id").eq("subject_id",t);if(r)throw new Error("Failed to fetch enrollments");if(!e||e.length===0)return[];const n=e.map(o=>o.student_id),{data:i,error:s}=await Et.from("users").select("*").in("id",n);if(s)throw new Error("Failed to fetch students");return(i||[]).map($J)},enabled:!!t})}function UJ(){const t=Ji(),{toast:e}=hi();return Bs({mutationFn:async r=>{const n={name:r.name,code:r.code,teacher_id:r.teacherId,description:r.description},{data:i,error:s}=await Et.from("subjects").insert(n).select().single();if(s)throw new Error("Failed to create subject");return hT(i)},onSuccess:()=>{t.invalidateQueries({queryKey:["subjects"]}),e({title:"Subject Created",description:"New subject has been added to the catalog."})}})}function VJ(){const t=Ji(),{toast:e}=hi();return Bs({mutationFn:async({subjectId:r,studentId:n})=>{const{data:i,error:s}=await Et.from("enrollments").insert({subject_id:r,student_id:n}).select().single();if(s)throw new Error("Failed to enroll student");return i},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["subject-students",n.subjectId]}),t.invalidateQueries({queryKey:["student-subjects"]}),e({title:"Enrolled",description:"Student successfully enrolled in the subject."})}})}function qJ(){const t=Ji(),{toast:e}=hi();return Bs({mutationFn:async({subjectId:r,studentId:n})=>{const{error:i}=await Et.from("enrollments").delete().eq("subject_id",r).eq("student_id",n);if(i)throw new Error("Failed to unenroll student")},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["subject-students",n.subjectId]}),t.invalidateQueries({queryKey:["student-subjects"]}),e({title:"Unenrolled",description:"Student has been removed from the subject."})}})}function r7(){return Ui(),Ba({queryKey:["teacher-schedules"],queryFn:async()=>{const{data:t,error:e}=await Et.from("schedules").select("*");if(e)throw console.error("Failed to fetch schedules:",e),new Error("Failed to fetch schedules");const r=[...new Set(t?.map(o=>o.subject_id)||[])],{data:n,error:i}=await Et.from("subjects").select("id, name, code").in("id",r),s=n?.reduce((o,u)=>(o[u.id]={name:u.name,code:u.code},o),{})||{};return(t||[]).map(o=>({id:o.id,subjectId:o.subject_id,dayOfWeek:o.day_of_week,startTime:o.start_time,endTime:o.end_time,room:o.room,subjectName:s[o.subject_id]?.name,subjectCode:s[o.subject_id]?.code}))},enabled:!0})}function zJ(t){return Ba({queryKey:["subject-schedules",t],queryFn:async()=>{const{data:e,error:r}=await Et.from("subjects").select("name, code").eq("id",t).single();r&&console.error("Failed to fetch subject:",r);const{data:n,error:i}=await Et.from("schedules").select("*").eq("subject_id",t);if(i)throw console.error("Failed to fetch schedules:",i),new Error("Failed to fetch schedules");return(n||[]).map(s=>({id:s.id,subjectId:s.subject_id,dayOfWeek:s.day_of_week,startTime:s.start_time,endTime:s.end_time,room:s.room,subjectName:e?.name,subjectCode:e?.code}))},enabled:!!t})}function WJ(){const t=Ji(),{toast:e}=hi();return Bs({mutationFn:async r=>{const n={subject_id:r.subjectId,day_of_week:r.dayOfWeek,start_time:r.startTime,end_time:r.endTime,room:r.room},{data:i,error:s}=await Et.from("schedules").insert(n).select("*").single();if(s)throw console.error("Failed to create schedule:",s),new Error("Failed to create schedule");return{id:i.id,subjectId:i.subject_id,dayOfWeek:i.day_of_week,startTime:i.start_time,endTime:i.end_time,room:i.room}},onSuccess:(r,n)=>{t.invalidateQueries({queryKey:["teacher-schedules"]}),t.invalidateQueries({queryKey:["subject-schedules",n.subjectId]}),e({title:"Schedule Created",description:"New schedule has been added."})},onError:()=>{e({title:"Error",description:"Failed to create schedule.",variant:"destructive"})}})}function HJ(){const t=Ji(),{toast:e}=hi();return Bs({mutationFn:async r=>{const{error:n}=await Et.from("schedules").delete().eq("id",r);if(n)throw new Error("Failed to delete schedule")},onSuccess:()=>{t.invalidateQueries({queryKey:["teacher-schedules"]}),t.invalidateQueries({queryKey:["subject-schedules"]}),e({title:"Schedule Deleted",description:"Schedule has been removed."})},onError:()=>{e({title:"Error",description:"Failed to delete schedule.",variant:"destructive"})}})}function GJ({status:t,className:e}){const n={present:"bg-green-100 text-green-700 border-green-200",late:"bg-orange-100 text-orange-700 border-orange-200",absent:"bg-red-100 text-red-700 border-red-200",excused:"bg-blue-100 text-blue-700 border-blue-200"}[t]||"bg-gray-100 text-gray-700 border-gray-200";return m.jsx("span",{className:Ze("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium border capitalize",n,e),children:t})}var Uw,mj;function hs(){if(mj)return Uw;mj=1;var t=Array.isArray;return Uw=t,Uw}var Vw,gj;function n7(){if(gj)return Vw;gj=1;var t=typeof Ul=="object"&&Ul&&Ul.Object===Object&&Ul;return Vw=t,Vw}var qw,yj;function ho(){if(yj)return qw;yj=1;var t=n7(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return qw=r,qw}var zw,vj;function Hm(){if(vj)return zw;vj=1;var t=ho(),e=t.Symbol;return zw=e,zw}var Ww,xj;function KJ(){if(xj)return Ww;xj=1;var t=Hm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var u=r.call(o,i),d=o[i];try{o[i]=void 0;var f=!0}catch{}var g=n.call(o);return f&&(u?o[i]=d:delete o[i]),g}return Ww=s,Ww}var Hw,wj;function XJ(){if(wj)return Hw;wj=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return Hw=r,Hw}var Gw,bj;function el(){if(bj)return Gw;bj=1;var t=Hm(),e=KJ(),r=XJ(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(u){return u==null?u===void 0?i:n:s&&s in Object(u)?e(u):r(u)}return Gw=o,Gw}var Kw,_j;function tl(){if(_j)return Kw;_j=1;function t(e){return e!=null&&typeof e=="object"}return Kw=t,Kw}var Xw,Sj;function Hf(){if(Sj)return Xw;Sj=1;var t=el(),e=tl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return Xw=n,Xw}var Yw,Ej;function mT(){if(Ej)return Yw;Ej=1;var t=hs(),e=Hf(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var u=typeof s;return u=="number"||u=="symbol"||u=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return Yw=i,Yw}var Zw,Aj;function ec(){if(Aj)return Zw;Aj=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Zw=t,Zw}var Qw,Cj;function gT(){if(Cj)return Qw;Cj=1;var t=el(),e=ec(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(u){if(!e(u))return!1;var d=t(u);return d==n||d==i||d==r||d==s}return Qw=o,Qw}var Jw,Tj;function YJ(){if(Tj)return Jw;Tj=1;var t=ho(),e=t["__core-js_shared__"];return Jw=e,Jw}var eb,Nj;function ZJ(){if(Nj)return eb;Nj=1;var t=YJ(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return eb=r,eb}var tb,Oj;function i7(){if(Oj)return tb;Oj=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return tb=r,tb}var rb,Ij;function QJ(){if(Ij)return rb;Ij=1;var t=gT(),e=ZJ(),r=ec(),n=i7(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,u=Object.prototype,d=o.toString,f=u.hasOwnProperty,g=RegExp("^"+d.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x(_){if(!r(_)||e(_))return!1;var T=t(_)?g:s;return T.test(n(_))}return rb=x,rb}var nb,Pj;function JJ(){if(Pj)return nb;Pj=1;function t(e,r){return e?.[r]}return nb=t,nb}var ib,jj;function Su(){if(jj)return ib;jj=1;var t=QJ(),e=JJ();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return ib=r,ib}var sb,Rj;function G1(){if(Rj)return sb;Rj=1;var t=Su(),e=t(Object,"create");return sb=e,sb}var ab,kj;function eee(){if(kj)return ab;kj=1;var t=G1();function e(){this.__data__=t?t(null):{},this.size=0}return ab=e,ab}var ob,Mj;function tee(){if(Mj)return ob;Mj=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return ob=t,ob}var lb,Dj;function ree(){if(Dj)return lb;Dj=1;var t=G1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var u=o[s];return u===e?void 0:u}return n.call(o,s)?o[s]:void 0}return lb=i,lb}var cb,Lj;function nee(){if(Lj)return cb;Lj=1;var t=G1(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return cb=n,cb}var ub,Bj;function iee(){if(Bj)return ub;Bj=1;var t=G1(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return ub=r,ub}var db,Fj;function see(){if(Fj)return db;Fj=1;var t=eee(),e=tee(),r=ree(),n=nee(),i=iee();function s(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,db=s,db}var fb,$j;function aee(){if($j)return fb;$j=1;function t(){this.__data__=[],this.size=0}return fb=t,fb}var hb,Uj;function yT(){if(Uj)return hb;Uj=1;function t(e,r){return e===r||e!==e&&r!==r}return hb=t,hb}var pb,Vj;function K1(){if(Vj)return pb;Vj=1;var t=yT();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return pb=e,pb}var mb,qj;function oee(){if(qj)return mb;qj=1;var t=K1(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var u=s.length-1;return o==u?s.pop():r.call(s,o,1),--this.size,!0}return mb=n,mb}var gb,zj;function lee(){if(zj)return gb;zj=1;var t=K1();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return gb=e,gb}var yb,Wj;function cee(){if(Wj)return yb;Wj=1;var t=K1();function e(r){return t(this.__data__,r)>-1}return yb=e,yb}var vb,Hj;function uee(){if(Hj)return vb;Hj=1;var t=K1();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return vb=e,vb}var xb,Gj;function X1(){if(Gj)return xb;Gj=1;var t=aee(),e=oee(),r=lee(),n=cee(),i=uee();function s(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,xb=s,xb}var wb,Kj;function vT(){if(Kj)return wb;Kj=1;var t=Su(),e=ho(),r=t(e,"Map");return wb=r,wb}var bb,Xj;function dee(){if(Xj)return bb;Xj=1;var t=see(),e=X1(),r=vT();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return bb=n,bb}var _b,Yj;function fee(){if(Yj)return _b;Yj=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return _b=t,_b}var Sb,Zj;function Y1(){if(Zj)return Sb;Zj=1;var t=fee();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Sb=e,Sb}var Eb,Qj;function hee(){if(Qj)return Eb;Qj=1;var t=Y1();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Eb=e,Eb}var Ab,Jj;function pee(){if(Jj)return Ab;Jj=1;var t=Y1();function e(r){return t(this,r).get(r)}return Ab=e,Ab}var Cb,eR;function mee(){if(eR)return Cb;eR=1;var t=Y1();function e(r){return t(this,r).has(r)}return Cb=e,Cb}var Tb,tR;function gee(){if(tR)return Tb;tR=1;var t=Y1();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return Tb=e,Tb}var Nb,rR;function xT(){if(rR)return Nb;rR=1;var t=dee(),e=hee(),r=pee(),n=mee(),i=gee();function s(o){var u=-1,d=o==null?0:o.length;for(this.clear();++u<d;){var f=o[u];this.set(f[0],f[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,Nb=s,Nb}var Ob,nR;function s7(){if(nR)return Ob;nR=1;var t=xT(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,u=i?i.apply(this,o):o[0],d=s.cache;if(d.has(u))return d.get(u);var f=n.apply(this,o);return s.cache=d.set(u,f)||d,f};return s.cache=new(r.Cache||t),s}return r.Cache=t,Ob=r,Ob}var Ib,iR;function yee(){if(iR)return Ib;iR=1;var t=s7(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return Ib=r,Ib}var Pb,sR;function vee(){if(sR)return Pb;sR=1;var t=yee(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,u,d,f){s.push(d?f.replace(r,"$1"):u||o)}),s});return Pb=n,Pb}var jb,aR;function wT(){if(aR)return jb;aR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return jb=t,jb}var Rb,oR;function xee(){if(oR)return Rb;oR=1;var t=Hm(),e=wT(),r=hs(),n=Hf(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(u){if(typeof u=="string")return u;if(r(u))return e(u,o)+"";if(n(u))return s?s.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Rb=o,Rb}var kb,lR;function a7(){if(lR)return kb;lR=1;var t=xee();function e(r){return r==null?"":t(r)}return kb=e,kb}var Mb,cR;function o7(){if(cR)return Mb;cR=1;var t=hs(),e=mT(),r=vee(),n=a7();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return Mb=i,Mb}var Db,uR;function Z1(){if(uR)return Db;uR=1;var t=Hf();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Db=e,Db}var Lb,dR;function bT(){if(dR)return Lb;dR=1;var t=o7(),e=Z1();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return Lb=r,Lb}var Bb,fR;function l7(){if(fR)return Bb;fR=1;var t=bT();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return Bb=e,Bb}var wee=l7();const Ls=Ar(wee);var Fb,hR;function bee(){if(hR)return Fb;hR=1;function t(e){return e==null}return Fb=t,Fb}var _ee=bee();const ir=Ar(_ee);var $b,pR;function See(){if(pR)return $b;pR=1;var t=el(),e=hs(),r=tl(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return $b=i,$b}var Eee=See();const uu=Ar(Eee);var Aee=gT();const Gt=Ar(Aee);var Cee=ec();const Gf=Ar(Cee);var Ub={exports:{}},_r={};var mR;function Tee(){if(mR)return _r;mR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),N;N=Symbol.for("react.module.reference");function E(A){if(typeof A=="object"&&A!==null){var M=A.$$typeof;switch(M){case t:switch(A=A.type,A){case r:case i:case n:case f:case g:return A;default:switch(A=A&&A.$$typeof,A){case u:case o:case d:case _:case x:case s:return A;default:return M}}case e:return M}}}return _r.ContextConsumer=o,_r.ContextProvider=s,_r.Element=t,_r.ForwardRef=d,_r.Fragment=r,_r.Lazy=_,_r.Memo=x,_r.Portal=e,_r.Profiler=i,_r.StrictMode=n,_r.Suspense=f,_r.SuspenseList=g,_r.isAsyncMode=function(){return!1},_r.isConcurrentMode=function(){return!1},_r.isContextConsumer=function(A){return E(A)===o},_r.isContextProvider=function(A){return E(A)===s},_r.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},_r.isForwardRef=function(A){return E(A)===d},_r.isFragment=function(A){return E(A)===r},_r.isLazy=function(A){return E(A)===_},_r.isMemo=function(A){return E(A)===x},_r.isPortal=function(A){return E(A)===e},_r.isProfiler=function(A){return E(A)===i},_r.isStrictMode=function(A){return E(A)===n},_r.isSuspense=function(A){return E(A)===f},_r.isSuspenseList=function(A){return E(A)===g},_r.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===r||A===i||A===n||A===f||A===g||A===T||typeof A=="object"&&A!==null&&(A.$$typeof===_||A.$$typeof===x||A.$$typeof===s||A.$$typeof===o||A.$$typeof===d||A.$$typeof===N||A.getModuleId!==void 0)},_r.typeOf=E,_r}var gR;function Nee(){return gR||(gR=1,Ub.exports=Tee()),Ub.exports}var Oee=Nee(),Vb,yR;function c7(){if(yR)return Vb;yR=1;var t=el(),e=tl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return Vb=n,Vb}var qb,vR;function Iee(){if(vR)return qb;vR=1;var t=c7();function e(r){return t(r)&&r!=+r}return qb=e,qb}var Pee=Iee();const Gm=Ar(Pee);var jee=c7();const Ree=Ar(jee);var Ki=function(e){return e===0?0:e>0?1:-1},Xc=function(e){return uu(e)&&e.indexOf("%")===e.length-1},Je=function(e){return Ree(e)&&!Gm(e)},kee=function(e){return ir(e)},Jn=function(e){return Je(e)||uu(e)},Mee=0,Km=function(e){var r=++Mee;return"".concat(e||"").concat(r)},Xi=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&!uu(e))return n;var s;if(Xc(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Gm(s)&&(s=n),i&&s>r&&(s=r),s},Sd=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},Dee=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ll=function(e,r){return Je(e)&&Je(r)?function(n){return e+n*(r-e)}:function(){return r}};function ME(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Ls(n,e))===r})}var Lee=function(e,r){return Je(e)&&Je(r)?e-r:uu(e)&&uu(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Bd(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function DE(t){"@babel/helpers - typeof";return DE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DE(t)}var Bee=["viewBox","children"],Fee=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xR=["points","pathLength"],zb={svg:Bee,polygon:xR,polyline:xR},_T=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],by=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!Gf(n))return null;var i={};return Object.keys(n).forEach(function(s){_T.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},$ee=function(e,r,n){return function(i){return e(r,n,i),null}},du=function(e,r,n){if(!Gf(e)||DE(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];_T.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=$ee(o,r,n))}),i},Uee=["children"],Vee=["children"];function wR(t,e){if(t==null)return{};var r=qee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var bR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},$o=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_R=null,Wb=null,ST=function t(e){if(e===_R&&Array.isArray(Wb))return Wb;var r=[];return j.Children.forEach(e,function(n){ir(n)||(Oee.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Wb=r,_R=e,r};function ia(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return $o(i)}):n=[$o(e)],ST(t).forEach(function(i){var s=Ls(i,"type.displayName")||Ls(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Ts(t,e){var r=ia(t,e);return r&&r[0]}var SR=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!Je(n)||n<=0||!Je(i)||i<=0)},zee=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Wee=function(e){return e&&e.type&&uu(e.type)&&zee.indexOf(e.type)>=0},Hee=function(e,r,n,i){var s,o=(s=zb?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Gt(e)&&(i&&o.includes(r)||Fee.includes(r))||n&&_T.includes(r)},Ut=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!Gf(i))return null;var s={};return Object.keys(i).forEach(function(o){var u;Hee((u=i)===null||u===void 0?void 0:u[o],o,r,n)&&(s[o]=i[o])}),s},LE=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return ER(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!ER(s,o))return!1}return!0},ER=function(e,r){if(ir(e)&&ir(r))return!0;if(!ir(e)&&!ir(r)){var n=e.props||{},i=n.children,s=wR(n,Uee),o=r.props||{},u=o.children,d=wR(o,Vee);return i&&u?Bd(s,d)&&LE(i,u):!i&&!u?Bd(s,d):!1}return!1},AR=function(e,r){var n=[],i={};return ST(e).forEach(function(s,o){if(Wee(s))n.push(s);else if(s){var u=$o(s.type),d=r[u]||{},f=d.handler,g=d.once;if(f&&(!g||!i[u])){var x=f(s,u,o);n.push(x),i[u]=!0}}}),n},Gee=function(e){var r=e&&e.type;return r&&bR[r]?bR[r]:null},Kee=function(e,r){return ST(r).indexOf(e)},Xee=["children","width","height","viewBox","className","style","title","desc"];function BE(){return BE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BE.apply(this,arguments)}function Yee(t,e){if(t==null)return{};var r=Zee(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Zee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FE(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,u=t.title,d=t.desc,f=Yee(t,Xee),g=i||{width:r,height:n,x:0,y:0},x=Qt("recharts-surface",s);return oe.createElement("svg",BE({},Ut(f,!0,"svg"),{className:x,width:r,height:n,style:o,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height)}),oe.createElement("title",null,u),oe.createElement("desc",null,d),e)}var Qee=["children","className"];function $E(){return $E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$E.apply(this,arguments)}function Jee(t,e){if(t==null)return{};var r=ete(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ete(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Or=oe.forwardRef(function(t,e){var r=t.children,n=t.className,i=Jee(t,Qee),s=Qt("recharts-layer",n);return oe.createElement("g",$E({className:s},Ut(i,!0),{ref:e}),r)}),Uo=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},Hb,CR;function tte(){if(CR)return Hb;CR=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return Hb=t,Hb}var Gb,TR;function rte(){if(TR)return Gb;TR=1;var t=tte();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return Gb=e,Gb}var Kb,NR;function u7(){if(NR)return Kb;NR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",u=RegExp("["+o+t+i+s+"]");function d(f){return u.test(f)}return Kb=d,Kb}var Xb,OR;function nte(){if(OR)return Xb;OR=1;function t(e){return e.split("")}return Xb=t,Xb}var Yb,IR;function ite(){if(IR)return Yb;IR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",u="["+i+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",g="[^"+t+"]",x="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",T="\\u200d",N=f+"?",E="["+s+"]?",A="(?:"+T+"(?:"+[g,x,_].join("|")+")"+E+N+")*",M=E+N+A,R="(?:"+[g+u+"?",u,x,_,o].join("|")+")",I=RegExp(d+"(?="+d+")|"+R+M,"g");function D(L){return L.match(I)||[]}return Yb=D,Yb}var Zb,PR;function ste(){if(PR)return Zb;PR=1;var t=nte(),e=u7(),r=ite();function n(i){return e(i)?r(i):t(i)}return Zb=n,Zb}var Qb,jR;function ate(){if(jR)return Qb;jR=1;var t=rte(),e=u7(),r=ste(),n=a7();function i(s){return function(o){o=n(o);var u=e(o)?r(o):void 0,d=u?u[0]:o.charAt(0),f=u?t(u,1).join(""):o.slice(1);return d[s]()+f}}return Qb=i,Qb}var Jb,RR;function ote(){if(RR)return Jb;RR=1;var t=ate(),e=t("toUpperCase");return Jb=e,Jb}var lte=ote();const Q1=Ar(lte);function Gr(t){return function(){return t}}const d7=Math.cos,_y=Math.sin,Fa=Math.sqrt,Sy=Math.PI,J1=2*Sy,UE=Math.PI,VE=2*UE,Uc=1e-6,cte=VE-Uc;function f7(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function ute(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return f7;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class dte{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?f7:ute(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,d=n-e,f=i-r,g=o-e,x=u-r,_=g*g+x*x;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(_>Uc)if(!(Math.abs(x*d-f*g)>Uc)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let T=n-o,N=i-u,E=d*d+f*f,A=T*T+N*N,M=Math.sqrt(E),R=Math.sqrt(_),I=s*Math.tan((UE-Math.acos((E+_-A)/(2*M*R)))/2),D=I/R,L=I/M;Math.abs(D-1)>Uc&&this._append`L${e+D*g},${r+D*x}`,this._append`A${s},${s},0,0,${+(x*T>g*N)},${this._x1=e+L*d},${this._y1=r+L*f}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let u=n*Math.cos(i),d=n*Math.sin(i),f=e+u,g=r+d,x=1^o,_=o?i-s:s-i;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>Uc||Math.abs(this._y1-g)>Uc)&&this._append`L${f},${g}`,n&&(_<0&&(_=_%VE+VE),_>cte?this._append`A${n},${n},0,1,${x},${e-u},${r-d}A${n},${n},0,1,${x},${this._x1=f},${this._y1=g}`:_>Uc&&this._append`A${n},${n},0,${+(_>=UE)},${x},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ET(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dte(e)}function AT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function h7(t){this._context=t}h7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ev(t){return new h7(t)}function p7(t){return t[0]}function m7(t){return t[1]}function g7(t,e){var r=Gr(!0),n=null,i=ev,s=null,o=ET(u);t=typeof t=="function"?t:t===void 0?p7:Gr(t),e=typeof e=="function"?e:e===void 0?m7:Gr(e);function u(d){var f,g=(d=AT(d)).length,x,_=!1,T;for(n==null&&(s=i(T=o())),f=0;f<=g;++f)!(f<g&&r(x=d[f],f,d))===_&&((_=!_)?s.lineStart():s.lineEnd()),_&&s.point(+t(x,f,d),+e(x,f,d));if(T)return s=null,T+""||null}return u.x=function(d){return arguments.length?(t=typeof d=="function"?d:Gr(+d),u):t},u.y=function(d){return arguments.length?(e=typeof d=="function"?d:Gr(+d),u):e},u.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Gr(!!d),u):r},u.curve=function(d){return arguments.length?(i=d,n!=null&&(s=i(n)),u):i},u.context=function(d){return arguments.length?(d==null?n=s=null:s=i(n=d),u):n},u}function b0(t,e,r){var n=null,i=Gr(!0),s=null,o=ev,u=null,d=ET(f);t=typeof t=="function"?t:t===void 0?p7:Gr(+t),e=typeof e=="function"?e:Gr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?m7:Gr(+r);function f(x){var _,T,N,E=(x=AT(x)).length,A,M=!1,R,I=new Array(E),D=new Array(E);for(s==null&&(u=o(R=d())),_=0;_<=E;++_){if(!(_<E&&i(A=x[_],_,x))===M)if(M=!M)T=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),N=_-1;N>=T;--N)u.point(I[N],D[N]);u.lineEnd(),u.areaEnd()}M&&(I[_]=+t(A,_,x),D[_]=+e(A,_,x),u.point(n?+n(A,_,x):I[_],r?+r(A,_,x):D[_]))}if(R)return u=null,R+""||null}function g(){return g7().defined(i).curve(o).context(s)}return f.x=function(x){return arguments.length?(t=typeof x=="function"?x:Gr(+x),n=null,f):t},f.x0=function(x){return arguments.length?(t=typeof x=="function"?x:Gr(+x),f):t},f.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Gr(+x),f):n},f.y=function(x){return arguments.length?(e=typeof x=="function"?x:Gr(+x),r=null,f):e},f.y0=function(x){return arguments.length?(e=typeof x=="function"?x:Gr(+x),f):e},f.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Gr(+x),f):r},f.lineX0=f.lineY0=function(){return g().x(t).y(e)},f.lineY1=function(){return g().x(t).y(r)},f.lineX1=function(){return g().x(n).y(e)},f.defined=function(x){return arguments.length?(i=typeof x=="function"?x:Gr(!!x),f):i},f.curve=function(x){return arguments.length?(o=x,s!=null&&(u=o(s)),f):o},f.context=function(x){return arguments.length?(x==null?s=u=null:u=o(s=x),f):s},f}class y7{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function fte(t){return new y7(t,!0)}function hte(t){return new y7(t,!1)}const CT={draw(t,e){const r=Fa(e/Sy);t.moveTo(r,0),t.arc(0,0,r,0,J1)}},pte={draw(t,e){const r=Fa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},v7=Fa(1/3),mte=v7*2,gte={draw(t,e){const r=Fa(e/mte),n=r*v7;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},yte={draw(t,e){const r=Fa(e),n=-r/2;t.rect(n,n,r,r)}},vte=.8908130915292852,x7=_y(Sy/10)/_y(7*Sy/10),xte=_y(J1/10)*x7,wte=-d7(J1/10)*x7,bte={draw(t,e){const r=Fa(e*vte),n=xte*r,i=wte*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=J1*s/5,u=d7(o),d=_y(o);t.lineTo(d*r,-u*r),t.lineTo(u*n-d*i,d*n+u*i)}t.closePath()}},e2=Fa(3),_te={draw(t,e){const r=-Fa(e/(e2*3));t.moveTo(0,r*2),t.lineTo(-e2*r,-r),t.lineTo(e2*r,-r),t.closePath()}},Zs=-.5,Qs=Fa(3)/2,qE=1/Fa(12),Ste=(qE/2+1)*3,Ete={draw(t,e){const r=Fa(e/Ste),n=r/2,i=r*qE,s=n,o=r*qE+r,u=-s,d=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(u,d),t.lineTo(Zs*n-Qs*i,Qs*n+Zs*i),t.lineTo(Zs*s-Qs*o,Qs*s+Zs*o),t.lineTo(Zs*u-Qs*d,Qs*u+Zs*d),t.lineTo(Zs*n+Qs*i,Zs*i-Qs*n),t.lineTo(Zs*s+Qs*o,Zs*o-Qs*s),t.lineTo(Zs*u+Qs*d,Zs*d-Qs*u),t.closePath()}};function Ate(t,e){let r=null,n=ET(i);t=typeof t=="function"?t:Gr(t||CT),e=typeof e=="function"?e:Gr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Gr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Gr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Ey(){}function Ay(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function w7(t){this._context=t}w7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ay(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cte(t){return new w7(t)}function b7(t){this._context=t}b7.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tte(t){return new b7(t)}function _7(t){this._context=t}_7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ay(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Nte(t){return new _7(t)}function S7(t){this._context=t}S7.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ote(t){return new S7(t)}function kR(t){return t<0?-1:1}function MR(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),u=(s*i+o*n)/(n+i);return(kR(s)+kR(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function DR(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function t2(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,u=(s-n)/3;t._context.bezierCurveTo(n+u,i+u*e,s-u,o-u*r,s,o)}function Cy(t){this._context=t}Cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:t2(this,this._t0,DR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,t2(this,DR(this,r=MR(this,t,e)),r);break;default:t2(this,this._t0,r=MR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function E7(t){this._context=new A7(t)}(E7.prototype=Object.create(Cy.prototype)).point=function(t,e){Cy.prototype.point.call(this,e,t)};function A7(t){this._context=t}A7.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function Ite(t){return new Cy(t)}function Pte(t){return new E7(t)}function C7(t){this._context=t}C7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=LR(t),i=LR(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function LR(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function jte(t){return new C7(t)}function tv(t,e){this._context=t,this._t=e}tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Rte(t){return new tv(t,.5)}function kte(t){return new tv(t,0)}function Mte(t){return new tv(t,1)}function rf(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,u=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<u;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function zE(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Dte(t,e){return t[e]}function Lte(t){const e=[];return e.key=t,e}function Bte(){var t=Gr([]),e=zE,r=rf,n=Dte;function i(s){var o=Array.from(t.apply(this,arguments),Lte),u,d=o.length,f=-1,g;for(const x of s)for(u=0,++f;u<d;++u)(o[u][f]=[0,+n(x,o[u].key,f,s)]).data=x;for(u=0,g=AT(e(o));u<d;++u)o[g[u]].index=u;return r(o,g),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Gr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Gr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?zE:typeof s=="function"?s:Gr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??rf,i):r},i}function Fte(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}rf(t,e)}}function $te(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,u=0;o<i;++o)u+=t[o][r][1]||0;n[r][1]+=n[r][0]=-u/2}rf(t,e)}}function Ute(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var u=0,d=0,f=0;u<o;++u){for(var g=t[e[u]],x=g[n][1]||0,_=g[n-1][1]||0,T=(x-_)/2,N=0;N<u;++N){var E=t[e[N]],A=E[n][1]||0,M=E[n-1][1]||0;T+=A-M}d+=x,f+=T*x}i[n-1][1]+=i[n-1][0]=r,d&&(r-=f/d)}i[n-1][1]+=i[n-1][0]=r,rf(t,e)}}function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}var Vte=["type","size","sizeType"];function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WE.apply(this,arguments)}function BR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BR(Object(r),!0).forEach(function(n){qte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qte(t,e,r){return e=zte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zte(t){var e=Wte(t,"string");return Qp(e)=="symbol"?e:e+""}function Wte(t,e){if(Qp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hte(t,e){if(t==null)return{};var r=Gte(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gte(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var T7={symbolCircle:CT,symbolCross:pte,symbolDiamond:gte,symbolSquare:yte,symbolStar:bte,symbolTriangle:_te,symbolWye:Ete},Kte=Math.PI/180,Xte=function(e){var r="symbol".concat(Q1(e));return T7[r]||CT},Yte=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*Kte;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Zte=function(e,r){T7["symbol".concat(Q1(e))]=r},TT=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,u=o===void 0?"area":o,d=Hte(e,Vte),f=FR(FR({},d),{},{type:n,size:s,sizeType:u}),g=function(){var A=Xte(n),M=Ate().type(A).size(Yte(s,u,n));return M()},x=f.className,_=f.cx,T=f.cy,N=Ut(f,!0);return _===+_&&T===+T&&s===+s?oe.createElement("path",WE({},N,{className:Qt("recharts-symbols",x),transform:"translate(".concat(_,", ").concat(T,")"),d:g()})):null};TT.registerSymbol=Zte;function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function HE(){return HE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HE.apply(this,arguments)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qte(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){Jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ere(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,O7(n.key),n)}}function tre(t,e,r){return e&&ere(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rre(t,e,r){return e=Ty(e),nre(t,N7()?Reflect.construct(e,r||[],Ty(t).constructor):e.apply(t,r))}function nre(t,e){if(e&&(nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ire(t)}function ire(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!t})()}function Ty(t){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(t)}function sre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GE(t,e)}function GE(t,e){return GE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GE(t,e)}function Jp(t,e,r){return e=O7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O7(t){var e=are(t,"string");return nf(e)=="symbol"?e:e+""}function are(t,e){if(nf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Js=32,NT=(function(t){function e(){return Jte(this,e),rre(this,e,arguments)}return sre(e,t),tre(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Js/2,o=Js/6,u=Js/3,d=n.inactive?i:n.color;if(n.type==="plainline")return oe.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Js,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return oe.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(s,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(s,`
            H`).concat(Js,"M").concat(2*u,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return oe.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Js/8,"h").concat(Js,"v").concat(Js*3/4,"h").concat(-Js,"z"),className:"recharts-legend-icon"});if(oe.isValidElement(n.legendIcon)){var f=Qte({},n);return delete f.legendIcon,oe.cloneElement(n.legendIcon,f)}return oe.createElement(TT,{fill:d,cx:s,cy:s,size:Js,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,u=i.layout,d=i.formatter,f=i.inactiveColor,g={x:0,y:0,width:Js,height:Js},x={display:u==="horizontal"?"inline-block":"block",marginRight:10},_={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(T,N){var E=T.formatter||d,A=Qt(Jp(Jp({"recharts-legend-item":!0},"legend-item-".concat(N),!0),"inactive",T.inactive));if(T.type==="none")return null;var M=Gt(T.value)?null:T.value;Uo(!Gt(T.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var R=T.inactive?f:T.color;return oe.createElement("li",HE({className:A,style:x,key:"legend-item-".concat(N)},du(n.props,T,N)),oe.createElement(FE,{width:o,height:o,viewBox:g,style:_},n.renderIcon(T)),oe.createElement("span",{className:"recharts-legend-item-text",style:{color:R}},E?E(M,T,N):M))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var u={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return oe.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(j.PureComponent);Jp(NT,"displayName","Legend");Jp(NT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var r2,UR;function ore(){if(UR)return r2;UR=1;var t=X1();function e(){this.__data__=new t,this.size=0}return r2=e,r2}var n2,VR;function lre(){if(VR)return n2;VR=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return n2=t,n2}var i2,qR;function cre(){if(qR)return i2;qR=1;function t(e){return this.__data__.get(e)}return i2=t,i2}var s2,zR;function ure(){if(zR)return s2;zR=1;function t(e){return this.__data__.has(e)}return s2=t,s2}var a2,WR;function dre(){if(WR)return a2;WR=1;var t=X1(),e=vT(),r=xT(),n=200;function i(s,o){var u=this.__data__;if(u instanceof t){var d=u.__data__;if(!e||d.length<n-1)return d.push([s,o]),this.size=++u.size,this;u=this.__data__=new r(d)}return u.set(s,o),this.size=u.size,this}return a2=i,a2}var o2,HR;function I7(){if(HR)return o2;HR=1;var t=X1(),e=ore(),r=lre(),n=cre(),i=ure(),s=dre();function o(u){var d=this.__data__=new t(u);this.size=d.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,o2=o,o2}var l2,GR;function fre(){if(GR)return l2;GR=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return l2=e,l2}var c2,KR;function hre(){if(KR)return c2;KR=1;function t(e){return this.__data__.has(e)}return c2=t,c2}var u2,XR;function P7(){if(XR)return u2;XR=1;var t=xT(),e=fre(),r=hre();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,u2=n,u2}var d2,YR;function j7(){if(YR)return d2;YR=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return d2=t,d2}var f2,ZR;function R7(){if(ZR)return f2;ZR=1;function t(e,r){return e.has(r)}return f2=t,f2}var h2,QR;function k7(){if(QR)return h2;QR=1;var t=P7(),e=j7(),r=R7(),n=1,i=2;function s(o,u,d,f,g,x){var _=d&n,T=o.length,N=u.length;if(T!=N&&!(_&&N>T))return!1;var E=x.get(o),A=x.get(u);if(E&&A)return E==u&&A==o;var M=-1,R=!0,I=d&i?new t:void 0;for(x.set(o,u),x.set(u,o);++M<T;){var D=o[M],L=u[M];if(f)var $=_?f(L,D,M,u,o,x):f(D,L,M,o,u,x);if($!==void 0){if($)continue;R=!1;break}if(I){if(!e(u,function(B,z){if(!r(I,z)&&(D===B||g(D,B,d,f,x)))return I.push(z)})){R=!1;break}}else if(!(D===L||g(D,L,d,f,x))){R=!1;break}}return x.delete(o),x.delete(u),R}return h2=s,h2}var p2,JR;function pre(){if(JR)return p2;JR=1;var t=ho(),e=t.Uint8Array;return p2=e,p2}var m2,e3;function mre(){if(e3)return m2;e3=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return m2=t,m2}var g2,t3;function OT(){if(t3)return g2;t3=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return g2=t,g2}var y2,r3;function gre(){if(r3)return y2;r3=1;var t=Hm(),e=pre(),r=yT(),n=k7(),i=mre(),s=OT(),o=1,u=2,d="[object Boolean]",f="[object Date]",g="[object Error]",x="[object Map]",_="[object Number]",T="[object RegExp]",N="[object Set]",E="[object String]",A="[object Symbol]",M="[object ArrayBuffer]",R="[object DataView]",I=t?t.prototype:void 0,D=I?I.valueOf:void 0;function L($,B,z,H,ce,K,W){switch(z){case R:if($.byteLength!=B.byteLength||$.byteOffset!=B.byteOffset)return!1;$=$.buffer,B=B.buffer;case M:return!($.byteLength!=B.byteLength||!K(new e($),new e(B)));case d:case f:case _:return r(+$,+B);case g:return $.name==B.name&&$.message==B.message;case T:case E:return $==B+"";case x:var Z=i;case N:var Q=H&o;if(Z||(Z=s),$.size!=B.size&&!Q)return!1;var Y=W.get($);if(Y)return Y==B;H|=u,W.set($,B);var J=n(Z($),Z(B),H,ce,K,W);return W.delete($),J;case A:if(D)return D.call($)==D.call(B)}return!1}return y2=L,y2}var v2,n3;function M7(){if(n3)return v2;n3=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return v2=t,v2}var x2,i3;function yre(){if(i3)return x2;i3=1;var t=M7(),e=hs();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return x2=r,x2}var w2,s3;function vre(){if(s3)return w2;s3=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var u=e[n];r(u,n,e)&&(o[s++]=u)}return o}return w2=t,w2}var b2,a3;function xre(){if(a3)return b2;a3=1;function t(){return[]}return b2=t,b2}var _2,o3;function wre(){if(o3)return _2;o3=1;var t=vre(),e=xre(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(u){return n.call(o,u)}))}:e;return _2=s,_2}var S2,l3;function bre(){if(l3)return S2;l3=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return S2=t,S2}var E2,c3;function _re(){if(c3)return E2;c3=1;var t=el(),e=tl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return E2=n,E2}var A2,u3;function IT(){if(u3)return A2;u3=1;var t=_re(),e=tl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return A2=s,A2}var up={exports:{}},C2,d3;function Sre(){if(d3)return C2;d3=1;function t(){return!1}return C2=t,C2}up.exports;var f3;function D7(){return f3||(f3=1,(function(t,e){var r=ho(),n=Sre(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,u=o?r.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||n;t.exports=f})(up,up.exports)),up.exports}var T2,h3;function PT(){if(h3)return T2;h3=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return T2=r,T2}var N2,p3;function jT(){if(p3)return N2;p3=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return N2=e,N2}var O2,m3;function Ere(){if(m3)return O2;m3=1;var t=el(),e=jT(),r=tl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",g="[object Number]",x="[object Object]",_="[object RegExp]",T="[object Set]",N="[object String]",E="[object WeakMap]",A="[object ArrayBuffer]",M="[object DataView]",R="[object Float32Array]",I="[object Float64Array]",D="[object Int8Array]",L="[object Int16Array]",$="[object Int32Array]",B="[object Uint8Array]",z="[object Uint8ClampedArray]",H="[object Uint16Array]",ce="[object Uint32Array]",K={};K[R]=K[I]=K[D]=K[L]=K[$]=K[B]=K[z]=K[H]=K[ce]=!0,K[n]=K[i]=K[A]=K[s]=K[M]=K[o]=K[u]=K[d]=K[f]=K[g]=K[x]=K[_]=K[T]=K[N]=K[E]=!1;function W(Z){return r(Z)&&e(Z.length)&&!!K[t(Z)]}return O2=W,O2}var I2,g3;function L7(){if(g3)return I2;g3=1;function t(e){return function(r){return e(r)}}return I2=t,I2}var dp={exports:{}};dp.exports;var y3;function Are(){return y3||(y3=1,(function(t,e){var r=n7(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,u=(function(){try{var d=i&&i.require&&i.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}})();t.exports=u})(dp,dp.exports)),dp.exports}var P2,v3;function B7(){if(v3)return P2;v3=1;var t=Ere(),e=L7(),r=Are(),n=r&&r.isTypedArray,i=n?e(n):t;return P2=i,P2}var j2,x3;function Cre(){if(x3)return j2;x3=1;var t=bre(),e=IT(),r=hs(),n=D7(),i=PT(),s=B7(),o=Object.prototype,u=o.hasOwnProperty;function d(f,g){var x=r(f),_=!x&&e(f),T=!x&&!_&&n(f),N=!x&&!_&&!T&&s(f),E=x||_||T||N,A=E?t(f.length,String):[],M=A.length;for(var R in f)(g||u.call(f,R))&&!(E&&(R=="length"||T&&(R=="offset"||R=="parent")||N&&(R=="buffer"||R=="byteLength"||R=="byteOffset")||i(R,M)))&&A.push(R);return A}return j2=d,j2}var R2,w3;function Tre(){if(w3)return R2;w3=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return R2=e,R2}var k2,b3;function F7(){if(b3)return k2;b3=1;function t(e,r){return function(n){return e(r(n))}}return k2=t,k2}var M2,_3;function Nre(){if(_3)return M2;_3=1;var t=F7(),e=t(Object.keys,Object);return M2=e,M2}var D2,S3;function Ore(){if(S3)return D2;S3=1;var t=Tre(),e=Nre(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var u in Object(s))n.call(s,u)&&u!="constructor"&&o.push(u);return o}return D2=i,D2}var L2,E3;function Xm(){if(E3)return L2;E3=1;var t=gT(),e=jT();function r(n){return n!=null&&e(n.length)&&!t(n)}return L2=r,L2}var B2,A3;function rv(){if(A3)return B2;A3=1;var t=Cre(),e=Ore(),r=Xm();function n(i){return r(i)?t(i):e(i)}return B2=n,B2}var F2,C3;function Ire(){if(C3)return F2;C3=1;var t=yre(),e=wre(),r=rv();function n(i){return t(i,r,e)}return F2=n,F2}var $2,T3;function Pre(){if(T3)return $2;T3=1;var t=Ire(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,u,d,f,g){var x=u&e,_=t(s),T=_.length,N=t(o),E=N.length;if(T!=E&&!x)return!1;for(var A=T;A--;){var M=_[A];if(!(x?M in o:n.call(o,M)))return!1}var R=g.get(s),I=g.get(o);if(R&&I)return R==o&&I==s;var D=!0;g.set(s,o),g.set(o,s);for(var L=x;++A<T;){M=_[A];var $=s[M],B=o[M];if(d)var z=x?d(B,$,M,o,s,g):d($,B,M,s,o,g);if(!(z===void 0?$===B||f($,B,u,d,g):z)){D=!1;break}L||(L=M=="constructor")}if(D&&!L){var H=s.constructor,ce=o.constructor;H!=ce&&"constructor"in s&&"constructor"in o&&!(typeof H=="function"&&H instanceof H&&typeof ce=="function"&&ce instanceof ce)&&(D=!1)}return g.delete(s),g.delete(o),D}return $2=i,$2}var U2,N3;function jre(){if(N3)return U2;N3=1;var t=Su(),e=ho(),r=t(e,"DataView");return U2=r,U2}var V2,O3;function Rre(){if(O3)return V2;O3=1;var t=Su(),e=ho(),r=t(e,"Promise");return V2=r,V2}var q2,I3;function $7(){if(I3)return q2;I3=1;var t=Su(),e=ho(),r=t(e,"Set");return q2=r,q2}var z2,P3;function kre(){if(P3)return z2;P3=1;var t=Su(),e=ho(),r=t(e,"WeakMap");return z2=r,z2}var W2,j3;function Mre(){if(j3)return W2;j3=1;var t=jre(),e=vT(),r=Rre(),n=$7(),i=kre(),s=el(),o=i7(),u="[object Map]",d="[object Object]",f="[object Promise]",g="[object Set]",x="[object WeakMap]",_="[object DataView]",T=o(t),N=o(e),E=o(r),A=o(n),M=o(i),R=s;return(t&&R(new t(new ArrayBuffer(1)))!=_||e&&R(new e)!=u||r&&R(r.resolve())!=f||n&&R(new n)!=g||i&&R(new i)!=x)&&(R=function(I){var D=s(I),L=D==d?I.constructor:void 0,$=L?o(L):"";if($)switch($){case T:return _;case N:return u;case E:return f;case A:return g;case M:return x}return D}),W2=R,W2}var H2,R3;function Dre(){if(R3)return H2;R3=1;var t=I7(),e=k7(),r=gre(),n=Pre(),i=Mre(),s=hs(),o=D7(),u=B7(),d=1,f="[object Arguments]",g="[object Array]",x="[object Object]",_=Object.prototype,T=_.hasOwnProperty;function N(E,A,M,R,I,D){var L=s(E),$=s(A),B=L?g:i(E),z=$?g:i(A);B=B==f?x:B,z=z==f?x:z;var H=B==x,ce=z==x,K=B==z;if(K&&o(E)){if(!o(A))return!1;L=!0,H=!1}if(K&&!H)return D||(D=new t),L||u(E)?e(E,A,M,R,I,D):r(E,A,B,M,R,I,D);if(!(M&d)){var W=H&&T.call(E,"__wrapped__"),Z=ce&&T.call(A,"__wrapped__");if(W||Z){var Q=W?E.value():E,Y=Z?A.value():A;return D||(D=new t),I(Q,Y,M,R,D)}}return K?(D||(D=new t),n(E,A,M,R,I,D)):!1}return H2=N,H2}var G2,k3;function RT(){if(k3)return G2;k3=1;var t=Dre(),e=tl();function r(n,i,s,o,u){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,u)}return G2=r,G2}var K2,M3;function Lre(){if(M3)return K2;M3=1;var t=I7(),e=RT(),r=1,n=2;function i(s,o,u,d){var f=u.length,g=f,x=!d;if(s==null)return!g;for(s=Object(s);f--;){var _=u[f];if(x&&_[2]?_[1]!==s[_[0]]:!(_[0]in s))return!1}for(;++f<g;){_=u[f];var T=_[0],N=s[T],E=_[1];if(x&&_[2]){if(N===void 0&&!(T in s))return!1}else{var A=new t;if(d)var M=d(N,E,T,s,o,A);if(!(M===void 0?e(E,N,r|n,d,A):M))return!1}}return!0}return K2=i,K2}var X2,D3;function U7(){if(D3)return X2;D3=1;var t=ec();function e(r){return r===r&&!t(r)}return X2=e,X2}var Y2,L3;function Bre(){if(L3)return Y2;L3=1;var t=U7(),e=rv();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],u=n[o];i[s]=[o,u,t(u)]}return i}return Y2=r,Y2}var Z2,B3;function V7(){if(B3)return Z2;B3=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return Z2=t,Z2}var Q2,F3;function Fre(){if(F3)return Q2;F3=1;var t=Lre(),e=Bre(),r=V7();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return Q2=n,Q2}var J2,$3;function $re(){if($3)return J2;$3=1;function t(e,r){return e!=null&&r in Object(e)}return J2=t,J2}var e_,U3;function Ure(){if(U3)return e_;U3=1;var t=o7(),e=IT(),r=hs(),n=PT(),i=jT(),s=Z1();function o(u,d,f){d=t(d,u);for(var g=-1,x=d.length,_=!1;++g<x;){var T=s(d[g]);if(!(_=u!=null&&f(u,T)))break;u=u[T]}return _||++g!=x?_:(x=u==null?0:u.length,!!x&&i(x)&&n(T,x)&&(r(u)||e(u)))}return e_=o,e_}var t_,V3;function Vre(){if(V3)return t_;V3=1;var t=$re(),e=Ure();function r(n,i){return n!=null&&e(n,i,t)}return t_=r,t_}var r_,q3;function qre(){if(q3)return r_;q3=1;var t=RT(),e=l7(),r=Vre(),n=mT(),i=U7(),s=V7(),o=Z1(),u=1,d=2;function f(g,x){return n(g)&&i(x)?s(o(g),x):function(_){var T=e(_,g);return T===void 0&&T===x?r(_,g):t(x,T,u|d)}}return r_=f,r_}var n_,z3;function Kf(){if(z3)return n_;z3=1;function t(e){return e}return n_=t,n_}var i_,W3;function zre(){if(W3)return i_;W3=1;function t(e){return function(r){return r?.[e]}}return i_=t,i_}var s_,H3;function Wre(){if(H3)return s_;H3=1;var t=bT();function e(r){return function(n){return t(n,r)}}return s_=e,s_}var a_,G3;function Hre(){if(G3)return a_;G3=1;var t=zre(),e=Wre(),r=mT(),n=Z1();function i(s){return r(s)?t(n(s)):e(s)}return a_=i,a_}var o_,K3;function po(){if(K3)return o_;K3=1;var t=Fre(),e=qre(),r=Kf(),n=hs(),i=Hre();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return o_=s,o_}var l_,X3;function q7(){if(X3)return l_;X3=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return l_=t,l_}var c_,Y3;function Gre(){if(Y3)return c_;Y3=1;function t(e){return e!==e}return c_=t,c_}var u_,Z3;function Kre(){if(Z3)return u_;Z3=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return u_=t,u_}var d_,Q3;function Xre(){if(Q3)return d_;Q3=1;var t=q7(),e=Gre(),r=Kre();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return d_=n,d_}var f_,J3;function Yre(){if(J3)return f_;J3=1;var t=Xre();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return f_=e,f_}var h_,ek;function Zre(){if(ek)return h_;ek=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return h_=t,h_}var p_,tk;function Qre(){if(tk)return p_;tk=1;function t(){}return p_=t,p_}var m_,rk;function Jre(){if(rk)return m_;rk=1;var t=$7(),e=Qre(),r=OT(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return m_=i,m_}var g_,nk;function ene(){if(nk)return g_;nk=1;var t=P7(),e=Yre(),r=Zre(),n=R7(),i=Jre(),s=OT(),o=200;function u(d,f,g){var x=-1,_=e,T=d.length,N=!0,E=[],A=E;if(g)N=!1,_=r;else if(T>=o){var M=f?null:i(d);if(M)return s(M);N=!1,_=n,A=new t}else A=f?[]:E;e:for(;++x<T;){var R=d[x],I=f?f(R):R;if(R=g||R!==0?R:0,N&&I===I){for(var D=A.length;D--;)if(A[D]===I)continue e;f&&A.push(I),E.push(R)}else _(A,I,g)||(A!==E&&A.push(I),E.push(R))}return E}return g_=u,g_}var y_,ik;function tne(){if(ik)return y_;ik=1;var t=po(),e=ene();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return y_=r,y_}var rne=tne();const sk=Ar(rne);function z7(t,e,r){return e===!0?sk(t,r):Gt(e)?sk(t,e):t}function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}var nne=["ref"];function ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Io(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(r),!0).forEach(function(n){nv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ine(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ok(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H7(n.key),n)}}function sne(t,e,r){return e&&ok(t.prototype,e),r&&ok(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ane(t,e,r){return e=Ny(e),one(t,W7()?Reflect.construct(e,r||[],Ny(t).constructor):e.apply(t,r))}function one(t,e){if(e&&(sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lne(t)}function lne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W7=function(){return!!t})()}function Ny(t){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(t)}function cne(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KE(t,e)}function KE(t,e){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KE(t,e)}function nv(t,e,r){return e=H7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H7(t){var e=une(t,"string");return sf(e)=="symbol"?e:e+""}function une(t,e){if(sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dne(t,e){if(t==null)return{};var r=fne(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function hne(t){return t.value}function pne(t,e){if(oe.isValidElement(t))return oe.cloneElement(t,e);if(typeof t=="function")return oe.createElement(t,e);e.ref;var r=dne(e,nne);return oe.createElement(NT,r)}var lk=1,Fd=(function(t){function e(){var r;ine(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=ane(this,e,[].concat(i)),nv(r,"lastBoundingBox",{width:-1,height:-1}),r}return cne(e,t),sne(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>lk||Math.abs(i.height-this.lastBoundingBox.height)>lk)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Io({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,u=i.verticalAlign,d=i.margin,f=i.chartWidth,g=i.chartHeight,x,_;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var T=this.getBBoxSnapshot();x={left:((f||0)-T.width)/2}}else x=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(u==="middle"){var N=this.getBBoxSnapshot();_={top:((g||0)-N.height)/2}}else _=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return Io(Io({},x),_)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,u=i.height,d=i.wrapperStyle,f=i.payloadUniqBy,g=i.payload,x=Io(Io({position:"absolute",width:o||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return oe.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:function(T){n.wrapperNode=T}},pne(s,Io(Io({},this.props),{},{payload:z7(g,f,hne)})))}}],[{key:"getWithHeight",value:function(n,i){var s=Io(Io({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Je(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])})(j.PureComponent);nv(Fd,"displayName","Legend");nv(Fd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var v_,ck;function mne(){if(ck)return v_;ck=1;var t=Hm(),e=IT(),r=hs(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return v_=i,v_}var x_,uk;function G7(){if(uk)return x_;uk=1;var t=M7(),e=mne();function r(n,i,s,o,u){var d=-1,f=n.length;for(s||(s=e),u||(u=[]);++d<f;){var g=n[d];i>0&&s(g)?i>1?r(g,i-1,s,o,u):t(u,g):o||(u[u.length]=g)}return u}return x_=r,x_}var w_,dk;function gne(){if(dk)return w_;dk=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),u=i(r),d=u.length;d--;){var f=u[e?d:++s];if(n(o[f],f,o)===!1)break}return r}}return w_=t,w_}var b_,fk;function yne(){if(fk)return b_;fk=1;var t=gne(),e=t();return b_=e,b_}var __,hk;function K7(){if(hk)return __;hk=1;var t=yne(),e=rv();function r(n,i){return n&&t(n,i,e)}return __=r,__}var S_,pk;function vne(){if(pk)return S_;pk=1;var t=Xm();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,u=n?o:-1,d=Object(i);(n?u--:++u<o)&&s(d[u],u,d)!==!1;);return i}}return S_=e,S_}var E_,mk;function kT(){if(mk)return E_;mk=1;var t=K7(),e=vne(),r=e(t);return E_=r,E_}var A_,gk;function X7(){if(gk)return A_;gk=1;var t=kT(),e=Xm();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(u,d,f){o[++s]=i(u,d,f)}),o}return A_=r,A_}var C_,yk;function xne(){if(yk)return C_;yk=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return C_=t,C_}var T_,vk;function wne(){if(vk)return T_;vk=1;var t=Hf();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,u=t(r),d=n!==void 0,f=n===null,g=n===n,x=t(n);if(!f&&!x&&!u&&r>n||u&&d&&g&&!f&&!x||s&&d&&g||!i&&g||!o)return 1;if(!s&&!u&&!x&&r<n||x&&i&&o&&!s&&!u||f&&i&&o||!d&&o||!g)return-1}return 0}return T_=e,T_}var N_,xk;function bne(){if(xk)return N_;xk=1;var t=wne();function e(r,n,i){for(var s=-1,o=r.criteria,u=n.criteria,d=o.length,f=i.length;++s<d;){var g=t(o[s],u[s]);if(g){if(s>=f)return g;var x=i[s];return g*(x=="desc"?-1:1)}}return r.index-n.index}return N_=e,N_}var O_,wk;function _ne(){if(wk)return O_;wk=1;var t=wT(),e=bT(),r=po(),n=X7(),i=xne(),s=L7(),o=bne(),u=Kf(),d=hs();function f(g,x,_){x.length?x=t(x,function(E){return d(E)?function(A){return e(A,E.length===1?E[0]:E)}:E}):x=[u];var T=-1;x=t(x,s(r));var N=n(g,function(E,A,M){var R=t(x,function(I){return I(E)});return{criteria:R,index:++T,value:E}});return i(N,function(E,A){return o(E,A,_)})}return O_=f,O_}var I_,bk;function Sne(){if(bk)return I_;bk=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return I_=t,I_}var P_,_k;function Ene(){if(_k)return P_;_k=1;var t=Sne(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,u=-1,d=e(o.length-i,0),f=Array(d);++u<d;)f[u]=o[i+u];u=-1;for(var g=Array(i+1);++u<i;)g[u]=o[u];return g[i]=s(f),t(n,this,g)}}return P_=r,P_}var j_,Sk;function Ane(){if(Sk)return j_;Sk=1;function t(e){return function(){return e}}return j_=t,j_}var R_,Ek;function Y7(){if(Ek)return R_;Ek=1;var t=Su(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return R_=e,R_}var k_,Ak;function Cne(){if(Ak)return k_;Ak=1;var t=Ane(),e=Y7(),r=Kf(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return k_=n,k_}var M_,Ck;function Tne(){if(Ck)return M_;Ck=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var u=r(),d=e-(u-o);if(o=u,d>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return M_=n,M_}var D_,Tk;function Nne(){if(Tk)return D_;Tk=1;var t=Cne(),e=Tne(),r=e(t);return D_=r,D_}var L_,Nk;function One(){if(Nk)return L_;Nk=1;var t=Kf(),e=Ene(),r=Nne();function n(i,s){return r(e(i,s,t),i+"")}return L_=n,L_}var B_,Ok;function iv(){if(Ok)return B_;Ok=1;var t=yT(),e=Xm(),r=PT(),n=ec();function i(s,o,u){if(!n(u))return!1;var d=typeof o;return(d=="number"?e(u)&&r(o,u.length):d=="string"&&o in u)?t(u[o],s):!1}return B_=i,B_}var F_,Ik;function Ine(){if(Ik)return F_;Ik=1;var t=G7(),e=_ne(),r=One(),n=iv(),i=r(function(s,o){if(s==null)return[];var u=o.length;return u>1&&n(s,o[0],o[1])?o=[]:u>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return F_=i,F_}var Pne=Ine();const MT=Ar(Pne);function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XE.apply(this,arguments)}function jne(t,e){return Dne(t)||Mne(t,e)||kne(t,e)||Rne()}function Rne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kne(t,e){if(t){if(typeof t=="string")return Pk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pk(t,e)}}function Pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mne(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Dne(t){if(Array.isArray(t))return t}function jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jk(Object(r),!0).forEach(function(n){Lne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lne(t,e,r){return e=Bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bne(t){var e=Fne(t,"string");return em(e)=="symbol"?e:e+""}function Fne(t,e){if(em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ne(t){return Array.isArray(t)&&Jn(t[0])&&Jn(t[1])?t.join(" ~ "):t}var Une=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,u=o===void 0?{}:o,d=e.labelStyle,f=d===void 0?{}:d,g=e.payload,x=e.formatter,_=e.itemSorter,T=e.wrapperClassName,N=e.labelClassName,E=e.label,A=e.labelFormatter,M=e.accessibilityLayer,R=M===void 0?!1:M,I=function(){if(g&&g.length){var W={padding:0,margin:0},Z=(_?MT(g,_):g).map(function(Q,Y){if(Q.type==="none")return null;var J=$_({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},u),te=Q.formatter||x||$ne,ie=Q.value,se=Q.name,me=ie,ne=se;if(te&&me!=null&&ne!=null){var ue=te(ie,se,Q,Y,g);if(Array.isArray(ue)){var be=jne(ue,2);me=be[0],ne=be[1]}else me=ue}return oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:J},Jn(ne)?oe.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,Jn(ne)?oe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,oe.createElement("span",{className:"recharts-tooltip-item-value"},me),oe.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return oe.createElement("ul",{className:"recharts-tooltip-item-list",style:W},Z)}return null},D=$_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),L=$_({margin:0},f),$=!ir(E),B=$?E:"",z=Qt("recharts-default-tooltip",T),H=Qt("recharts-tooltip-label",N);$&&A&&g!==void 0&&g!==null&&(B=A(E,g));var ce=R?{role:"status","aria-live":"assertive"}:{};return oe.createElement("div",XE({className:z,style:D},ce),oe.createElement("p",{className:H,style:L},oe.isValidElement(B)?B:"".concat(B)),I())};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function _0(t,e,r){return e=Vne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vne(t){var e=qne(t,"string");return tm(e)=="symbol"?e:e+""}function qne(t,e){if(tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xh="recharts-tooltip-wrapper",zne={visibility:"hidden"};function Wne(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Qt(Xh,_0(_0(_0(_0({},"".concat(Xh,"-right"),Je(r)&&e&&Je(e.x)&&r>=e.x),"".concat(Xh,"-left"),Je(r)&&e&&Je(e.x)&&r<e.x),"".concat(Xh,"-bottom"),Je(n)&&e&&Je(e.y)&&n>=e.y),"".concat(Xh,"-top"),Je(n)&&e&&Je(e.y)&&n<e.y))}function Rk(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,u=t.tooltipDimension,d=t.viewBox,f=t.viewBoxDimension;if(s&&Je(s[n]))return s[n];var g=r[n]-u-i,x=r[n]+i;if(e[n])return o[n]?g:x;if(o[n]){var _=g,T=d[n];return _<T?Math.max(x,d[n]):Math.max(g,d[n])}var N=x+u,E=d[n]+f;return N>E?Math.max(g,d[n]):Math.max(x,d[n])}function Hne(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Gne(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,u=t.useTranslate3d,d=t.viewBox,f,g,x;return o.height>0&&o.width>0&&r?(g=Rk({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),x=Rk({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=Hne({translateX:g,translateY:x,useTranslate3d:u})):f=zne,{cssProperties:f,cssClasses:Wne({translateX:g,translateY:x,coordinate:r})}}function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function kk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kk(Object(r),!0).forEach(function(n){ZE(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xne(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Q7(n.key),n)}}function Yne(t,e,r){return e&&Xne(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zne(t,e,r){return e=Oy(e),Qne(t,Z7()?Reflect.construct(e,r||[],Oy(t).constructor):e.apply(t,r))}function Qne(t,e){if(e&&(af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jne(t)}function Jne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z7=function(){return!!t})()}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(t)}function eie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YE(t,e)}function YE(t,e){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YE(t,e)}function ZE(t,e,r){return e=Q7(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q7(t){var e=tie(t,"string");return af(e)=="symbol"?e:e+""}function tie(t,e){if(af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dk=1,rie=(function(t){function e(){var r;Kne(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Zne(this,e,[].concat(i)),ZE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ZE(r,"handleKeyDown",function(o){if(o.key==="Escape"){var u,d,f,g;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(g=r.props.coordinate)===null||g===void 0?void 0:g.y)!==null&&f!==void 0?f:0}})}}),r}return eie(e,t),Yne(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Dk||Math.abs(n.height-this.state.lastBoundingBox.height)>Dk)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.children,g=i.coordinate,x=i.hasPayload,_=i.isAnimationActive,T=i.offset,N=i.position,E=i.reverseDirection,A=i.useTranslate3d,M=i.viewBox,R=i.wrapperStyle,I=Gne({allowEscapeViewBox:o,coordinate:g,offsetTopLeft:T,position:N,reverseDirection:E,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:M}),D=I.cssClasses,L=I.cssProperties,$=Mk(Mk({transition:_&&s?"transform ".concat(u,"ms ").concat(d):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&x?"visible":"hidden",position:"absolute",top:0,left:0},R);return oe.createElement("div",{tabIndex:-1,className:D,style:$,ref:function(z){n.wrapperNode=z}},f)}}])})(j.PureComponent),nie=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Xf={isSsr:nie()};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function Lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(r),!0).forEach(function(n){DT(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eB(n.key),n)}}function aie(t,e,r){return e&&sie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oie(t,e,r){return e=Iy(e),lie(t,J7()?Reflect.construct(e,r||[],Iy(t).constructor):e.apply(t,r))}function lie(t,e){if(e&&(of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cie(t)}function cie(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J7=function(){return!!t})()}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(t)}function uie(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QE(t,e)}function QE(t,e){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QE(t,e)}function DT(t,e,r){return e=eB(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eB(t){var e=die(t,"string");return of(e)=="symbol"?e:e+""}function die(t,e){if(of(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fie(t){return t.dataKey}function hie(t,e){return oe.isValidElement(t)?oe.cloneElement(t,e):typeof t=="function"?oe.createElement(t,e):oe.createElement(Une,e)}var Ea=(function(t){function e(){return iie(this,e),oie(this,e,arguments)}return uie(e,t),aie(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,u=i.animationDuration,d=i.animationEasing,f=i.content,g=i.coordinate,x=i.filterNull,_=i.isAnimationActive,T=i.offset,N=i.payload,E=i.payloadUniqBy,A=i.position,M=i.reverseDirection,R=i.useTranslate3d,I=i.viewBox,D=i.wrapperStyle,L=N??[];x&&L.length&&(L=z7(N.filter(function(B){return B.value!=null&&(B.hide!==!0||n.props.includeHidden)}),E,fie));var $=L.length>0;return oe.createElement(rie,{allowEscapeViewBox:o,animationDuration:u,animationEasing:d,isAnimationActive:_,active:s,coordinate:g,hasPayload:$,offset:T,position:A,reverseDirection:M,useTranslate3d:R,viewBox:I,wrapperStyle:D},hie(f,Bk(Bk({},this.props),{},{payload:L})))}}])})(j.PureComponent);DT(Ea,"displayName","Tooltip");DT(Ea,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Xf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var U_,Fk;function pie(){if(Fk)return U_;Fk=1;var t=ho(),e=function(){return t.Date.now()};return U_=e,U_}var V_,$k;function mie(){if($k)return V_;$k=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return V_=e,V_}var q_,Uk;function gie(){if(Uk)return q_;Uk=1;var t=mie(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return q_=r,q_}var z_,Vk;function tB(){if(Vk)return z_;Vk=1;var t=gie(),e=ec(),r=Hf(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var g=typeof f.valueOf=="function"?f.valueOf():f;f=e(g)?g+"":g}if(typeof f!="string")return f===0?f:+f;f=t(f);var x=s.test(f);return x||o.test(f)?u(f.slice(2),x?2:8):i.test(f)?n:+f}return z_=d,z_}var W_,qk;function yie(){if(qk)return W_;qk=1;var t=ec(),e=pie(),r=tB(),n="Expected a function",i=Math.max,s=Math.min;function o(u,d,f){var g,x,_,T,N,E,A=0,M=!1,R=!1,I=!0;if(typeof u!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(M=!!f.leading,R="maxWait"in f,_=R?i(r(f.maxWait)||0,d):_,I="trailing"in f?!!f.trailing:I);function D(Z){var Q=g,Y=x;return g=x=void 0,A=Z,T=u.apply(Y,Q),T}function L(Z){return A=Z,N=setTimeout(z,d),M?D(Z):T}function $(Z){var Q=Z-E,Y=Z-A,J=d-Q;return R?s(J,_-Y):J}function B(Z){var Q=Z-E,Y=Z-A;return E===void 0||Q>=d||Q<0||R&&Y>=_}function z(){var Z=e();if(B(Z))return H(Z);N=setTimeout(z,$(Z))}function H(Z){return N=void 0,I&&g?D(Z):(g=x=void 0,T)}function ce(){N!==void 0&&clearTimeout(N),A=0,g=E=x=N=void 0}function K(){return N===void 0?T:H(e())}function W(){var Z=e(),Q=B(Z);if(g=arguments,x=this,E=Z,Q){if(N===void 0)return L(E);if(R)return clearTimeout(N),N=setTimeout(z,d),D(E)}return N===void 0&&(N=setTimeout(z,d)),T}return W.cancel=ce,W.flush=K,W}return W_=o,W_}var H_,zk;function vie(){if(zk)return H_;zk=1;var t=yie(),e=ec(),r="Expected a function";function n(i,s,o){var u=!0,d=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(u="leading"in o?!!o.leading:u,d="trailing"in o?!!o.trailing:d),t(i,s,{leading:u,maxWait:s,trailing:d})}return H_=n,H_}var xie=vie();const rB=Ar(xie);function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function Wk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function S0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(r),!0).forEach(function(n){wie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wie(t,e,r){return e=bie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bie(t){var e=_ie(t,"string");return rm(e)=="symbol"?e:e+""}function _ie(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sie(t,e){return Tie(t)||Cie(t,e)||Aie(t,e)||Eie()}function Eie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(t,e){if(t){if(typeof t=="string")return Hk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Tie(t){if(Array.isArray(t))return t}var nB=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,u=t.height,d=u===void 0?"100%":u,f=t.minWidth,g=f===void 0?0:f,x=t.minHeight,_=t.maxHeight,T=t.children,N=t.debounce,E=N===void 0?0:N,A=t.id,M=t.className,R=t.onResize,I=t.style,D=I===void 0?{}:I,L=j.useRef(null),$=j.useRef();$.current=R,j.useImperativeHandle(e,function(){return Object.defineProperty(L.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),L.current},configurable:!0})});var B=j.useState({containerWidth:i.width,containerHeight:i.height}),z=Sie(B,2),H=z[0],ce=z[1],K=j.useCallback(function(Z,Q){ce(function(Y){var J=Math.round(Z),te=Math.round(Q);return Y.containerWidth===J&&Y.containerHeight===te?Y:{containerWidth:J,containerHeight:te}})},[]);j.useEffect(function(){var Z=function(se){var me,ne=se[0].contentRect,ue=ne.width,be=ne.height;K(ue,be),(me=$.current)===null||me===void 0||me.call($,ue,be)};E>0&&(Z=rB(Z,E,{trailing:!0,leading:!1}));var Q=new ResizeObserver(Z),Y=L.current.getBoundingClientRect(),J=Y.width,te=Y.height;return K(J,te),Q.observe(L.current),function(){Q.disconnect()}},[K,E]);var W=j.useMemo(function(){var Z=H.containerWidth,Q=H.containerHeight;if(Z<0||Q<0)return null;Uo(Xc(o)||Xc(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),Uo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=Xc(o)?Z:o,J=Xc(d)?Q:d;r&&r>0&&(Y?J=Y/r:J&&(Y=J*r),_&&J>_&&(J=_)),Uo(Y>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,J,o,d,g,x,r);var te=!Array.isArray(T)&&$o(T.type).endsWith("Chart");return oe.Children.map(T,function(ie){return oe.isValidElement(ie)?j.cloneElement(ie,S0({width:Y,height:J},te?{style:S0({height:"100%",width:"100%",maxHeight:J,maxWidth:Y},ie.props.style)}:{})):ie})},[r,T,d,_,x,g,H,o]);return oe.createElement("div",{id:A?"".concat(A):void 0,className:Qt("recharts-responsive-container",M),style:S0(S0({},D),{},{width:o,height:d,minWidth:g,minHeight:x,maxHeight:_}),ref:L},W)}),sv=function(e){return null};sv.displayName="Cell";function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function Gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(r),!0).forEach(function(n){Nie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nie(t,e,r){return e=Oie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oie(t){var e=Iie(t,"string");return nm(e)=="symbol"?e:e+""}function Iie(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fd={widthCache:{},cacheCount:0},Pie=2e3,jie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Kk="recharts_measurement_span";function Rie(t){var e=JE({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var _p=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Xf.isSsr)return{width:0,height:0};var n=Rie(r),i=JSON.stringify({text:e,copyStyle:n});if(fd.widthCache[i])return fd.widthCache[i];try{var s=document.getElementById(Kk);s||(s=document.createElement("span"),s.setAttribute("id",Kk),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=JE(JE({},jie),n);Object.assign(s.style,o),s.textContent="".concat(e);var u=s.getBoundingClientRect(),d={width:u.width,height:u.height};return fd.widthCache[i]=d,++fd.cacheCount>Pie&&(fd.cacheCount=0,fd.widthCache={}),d}catch{return{width:0,height:0}}},kie=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function Py(t,e){return Bie(t)||Lie(t,e)||Die(t,e)||Mie()}function Mie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Die(t,e){if(t){if(typeof t=="string")return Xk(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xk(t,e)}}function Xk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Bie(t){if(Array.isArray(t))return t}function Fie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yk(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Uie(n.key),n)}}function $ie(t,e,r){return e&&Yk(t.prototype,e),r&&Yk(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uie(t){var e=Vie(t,"string");return im(e)=="symbol"?e:e+""}function Vie(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Qk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wie=Object.keys(iB),Cd="NaN";function Hie(t,e){return t*iB[e]}var E0=(function(){function t(e,r){Fie(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!qie.test(r)&&(this.num=NaN,this.unit=""),Wie.includes(r)&&(this.num=Hie(e,r),this.unit="px")}return $ie(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=zie.exec(r))!==null&&n!==void 0?n:[],s=Py(i,3),o=s[1],u=s[2];return new t(parseFloat(o),u??"")}}])})();function sB(t){if(t.includes(Cd))return Cd;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Zk.exec(e))!==null&&r!==void 0?r:[],i=Py(n,4),s=i[1],o=i[2],u=i[3],d=E0.parse(s??""),f=E0.parse(u??""),g=o==="*"?d.multiply(f):d.divide(f);if(g.isNaN())return Cd;e=e.replace(Zk,g.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var x,_=(x=Qk.exec(e))!==null&&x!==void 0?x:[],T=Py(_,4),N=T[1],E=T[2],A=T[3],M=E0.parse(N??""),R=E0.parse(A??""),I=E==="+"?M.add(R):M.subtract(R);if(I.isNaN())return Cd;e=e.replace(Qk,I.toString())}return e}var Jk=/\(([^()]*)\)/;function Gie(t){for(var e=t;e.includes("(");){var r=Jk.exec(e),n=Py(r,2),i=n[1];e=e.replace(Jk,sB(i))}return e}function Kie(t){var e=t.replace(/\s+/g,"");return e=Gie(e),e=sB(e),e}function Xie(t){try{return Kie(t)}catch{return Cd}}function G_(t){var e=Xie(t.slice(5,-1));return e===Cd?"":e}var Yie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Zie=["dx","dy","angle","className","breakAll"];function eA(){return eA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eA.apply(this,arguments)}function e4(t,e){if(t==null)return{};var r=Qie(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Qie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function t4(t,e){return rse(t)||tse(t,e)||ese(t,e)||Jie()}function Jie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ese(t,e){if(t){if(typeof t=="string")return r4(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r4(t,e)}}function r4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tse(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function rse(t){if(Array.isArray(t))return t}var aB=/[ \f\n\r\t\v\u2028\u2029]+/,oB=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];ir(r)||(n?s=r.toString().split(""):s=r.toString().split(aB));var o=s.map(function(d){return{word:d,width:_p(d,i).width}}),u=n?0:_p("",i).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},nse=function(e,r,n,i,s){var o=e.maxLines,u=e.children,d=e.style,f=e.breakAll,g=Je(o),x=u,_=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(J,te){var ie=te.word,se=te.width,me=J[J.length-1];if(me&&(i==null||s||me.width+se+n<Number(i)))me.words.push(ie),me.width+=se+n;else{var ne={words:[ie],width:se};J.push(ne)}return J},[])},T=_(r),N=function(Y){return Y.reduce(function(J,te){return J.width>te.width?J:te})};if(!g)return T;for(var E="",A=function(Y){var J=x.slice(0,Y),te=oB({breakAll:f,style:d,children:J+E}).wordsWithComputedWidth,ie=_(te),se=ie.length>o||N(ie).width>Number(i);return[se,ie]},M=0,R=x.length-1,I=0,D;M<=R&&I<=x.length-1;){var L=Math.floor((M+R)/2),$=L-1,B=A($),z=t4(B,2),H=z[0],ce=z[1],K=A(L),W=t4(K,1),Z=W[0];if(!H&&!Z&&(M=L+1),H&&Z&&(R=L-1),!H&&Z){D=ce;break}I++}return D||T},n4=function(e){var r=ir(e)?[]:e.toString().split(aB);return[{words:r}]},ise=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,u=e.maxLines;if((r||n)&&!Xf.isSsr){var d,f,g=oB({breakAll:o,children:i,style:s});if(g){var x=g.wordsWithComputedWidth,_=g.spaceWidth;d=x,f=_}else return n4(i);return nse({breakAll:o,children:i,maxLines:u,style:s},d,f,r,n)}return n4(i)},i4="#808080",fu=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,u=o===void 0?"1em":o,d=e.capHeight,f=d===void 0?"0.71em":d,g=e.scaleToFit,x=g===void 0?!1:g,_=e.textAnchor,T=_===void 0?"start":_,N=e.verticalAnchor,E=N===void 0?"end":N,A=e.fill,M=A===void 0?i4:A,R=e4(e,Yie),I=j.useMemo(function(){return ise({breakAll:R.breakAll,children:R.children,maxLines:R.maxLines,scaleToFit:x,style:R.style,width:R.width})},[R.breakAll,R.children,R.maxLines,x,R.style,R.width]),D=R.dx,L=R.dy,$=R.angle,B=R.className,z=R.breakAll,H=e4(R,Zie);if(!Jn(n)||!Jn(s))return null;var ce=n+(Je(D)?D:0),K=s+(Je(L)?L:0),W;switch(E){case"start":W=G_("calc(".concat(f,")"));break;case"middle":W=G_("calc(".concat((I.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:W=G_("calc(".concat(I.length-1," * -").concat(u,")"));break}var Z=[];if(x){var Q=I[0].width,Y=R.width;Z.push("scale(".concat((Je(Y)?Y/Q:1)/Q,")"))}return $&&Z.push("rotate(".concat($,", ").concat(ce,", ").concat(K,")")),Z.length&&(H.transform=Z.join(" ")),oe.createElement("text",eA({},Ut(H,!0),{x:ce,y:K,className:Qt("recharts-text",B),textAnchor:T,fill:M.includes("url")?i4:M}),I.map(function(J,te){var ie=J.words.join(z?"":" ");return oe.createElement("tspan",{x:ce,dy:te===0?W:u,key:"".concat(ie,"-").concat(te)},ie)}))};function ql(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function LT(t){let e,r,n;t.length!==2?(e=ql,r=(u,d)=>ql(t(u),d),n=(u,d)=>t(u)-d):(e=t===ql||t===sse?t:ase,r=t,n=t);function i(u,d,f=0,g=u.length){if(f<g){if(e(d,d)!==0)return g;do{const x=f+g>>>1;r(u[x],d)<0?f=x+1:g=x}while(f<g)}return f}function s(u,d,f=0,g=u.length){if(f<g){if(e(d,d)!==0)return g;do{const x=f+g>>>1;r(u[x],d)<=0?f=x+1:g=x}while(f<g)}return f}function o(u,d,f=0,g=u.length){const x=i(u,d,f,g-1);return x>f&&n(u[x-1],d)>-n(u[x],d)?x-1:x}return{left:i,center:o,right:s}}function ase(){return 0}function lB(t){return t===null?NaN:+t}function*ose(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const lse=LT(ql),Ym=lse.right;LT(lB).center;class s4 extends Map{constructor(e,r=dse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(a4(this,e))}has(e){return super.has(a4(this,e))}set(e,r){return super.set(cse(this,e),r)}delete(e){return super.delete(use(this,e))}}function a4({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function cse({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function use({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function dse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function fse(t=ql){if(t===ql)return cB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function cB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const hse=Math.sqrt(50),pse=Math.sqrt(10),mse=Math.sqrt(2);function jy(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=hse?10:s>=pse?5:s>=mse?2:1;let u,d,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(t*f),d=Math.round(e*f),u/f<t&&++u,d/f>e&&--d,f=-f):(f=Math.pow(10,i)*o,u=Math.round(t/f),d=Math.round(e/f),u*f<t&&++u,d*f>e&&--d),d<u&&.5<=r&&r<2?jy(t,e,r*2):[u,d,f]}function tA(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?jy(e,t,r):jy(t,e,r);if(!(s>=i))return[];const u=s-i+1,d=new Array(u);if(n)if(o<0)for(let f=0;f<u;++f)d[f]=(s-f)/-o;else for(let f=0;f<u;++f)d[f]=(s-f)*o;else if(o<0)for(let f=0;f<u;++f)d[f]=(i+f)/-o;else for(let f=0;f<u;++f)d[f]=(i+f)*o;return d}function rA(t,e,r){return e=+e,t=+t,r=+r,jy(t,e,r)[2]}function nA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?rA(e,t,r):rA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function o4(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function l4(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function uB(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?cB:fse(i);n>r;){if(n-r>600){const d=n-r+1,f=e-r+1,g=Math.log(d),x=.5*Math.exp(2*g/3),_=.5*Math.sqrt(g*x*(d-x)/d)*(f-d/2<0?-1:1),T=Math.max(r,Math.floor(e-f*x/d+_)),N=Math.min(n,Math.floor(e+(d-f)*x/d+_));uB(t,e,T,N,i)}const s=t[e];let o=r,u=n;for(Yh(t,r,e),i(t[n],s)>0&&Yh(t,r,n);o<u;){for(Yh(t,o,u),++o,--u;i(t[o],s)<0;)++o;for(;i(t[u],s)>0;)--u}i(t[r],s)===0?Yh(t,r,u):(++u,Yh(t,u,n)),u<=e&&(r=u+1),e<=u&&(n=u-1)}return t}function Yh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function gse(t,e,r){if(t=Float64Array.from(ose(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return l4(t);if(e>=1)return o4(t);var n,i=(n-1)*e,s=Math.floor(i),o=o4(uB(t,s).subarray(0,s+1)),u=l4(t.subarray(s+1));return o+(u-o)*(i-s)}}function yse(t,e,r=lB){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),u=+r(t[s+1],s+1,t);return o+(u-o)*(i-s)}}function vse(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function la(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function rl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iA=Symbol("implicit");function BT(){var t=new s4,e=[],r=[],n=iA;function i(s){let o=t.get(s);if(o===void 0){if(n!==iA)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new s4;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return BT(e,r).unknown(n)},la.apply(i,arguments),i}function sm(){var t=BT().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,u=!1,d=0,f=0,g=.5;delete t.unknown;function x(){var _=e().length,T=i<n,N=T?i:n,E=T?n:i;s=(E-N)/Math.max(1,_-d+f*2),u&&(s=Math.floor(s)),N+=(E-N-s*(_-d))*g,o=s*(1-d),u&&(N=Math.round(N),o=Math.round(o));var A=vse(_).map(function(M){return N+s*M});return r(T?A.reverse():A)}return t.domain=function(_){return arguments.length?(e(_),x()):e()},t.range=function(_){return arguments.length?([n,i]=_,n=+n,i=+i,x()):[n,i]},t.rangeRound=function(_){return[n,i]=_,n=+n,i=+i,u=!0,x()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(_){return arguments.length?(u=!!_,x()):u},t.padding=function(_){return arguments.length?(d=Math.min(1,f=+_),x()):d},t.paddingInner=function(_){return arguments.length?(d=Math.min(1,_),x()):d},t.paddingOuter=function(_){return arguments.length?(f=+_,x()):f},t.align=function(_){return arguments.length?(g=Math.max(0,Math.min(1,_)),x()):g},t.copy=function(){return sm(e(),[n,i]).round(u).paddingInner(d).paddingOuter(f).align(g)},la.apply(x(),arguments)}function dB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return dB(e())},t}function Sp(){return dB(sm.apply(null,arguments).paddingInner(1))}function FT(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function fB(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Zm(){}var am=.7,Ry=1/am,$d="\\s*([+-]?\\d+)\\s*",om="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",to="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",xse=/^#([0-9a-f]{3,8})$/,wse=new RegExp(`^rgb\\(${$d},${$d},${$d}\\)$`),bse=new RegExp(`^rgb\\(${to},${to},${to}\\)$`),_se=new RegExp(`^rgba\\(${$d},${$d},${$d},${om}\\)$`),Sse=new RegExp(`^rgba\\(${to},${to},${to},${om}\\)$`),Ese=new RegExp(`^hsl\\(${om},${to},${to}\\)$`),Ase=new RegExp(`^hsla\\(${om},${to},${to},${om}\\)$`),c4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FT(Zm,lm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:u4,formatHex:u4,formatHex8:Cse,formatHsl:Tse,formatRgb:d4,toString:d4});function u4(){return this.rgb().formatHex()}function Cse(){return this.rgb().formatHex8()}function Tse(){return hB(this).formatHsl()}function d4(){return this.rgb().formatRgb()}function lm(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=xse.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?f4(e):r===3?new fs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?A0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?A0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wse.exec(t))?new fs(e[1],e[2],e[3],1):(e=bse.exec(t))?new fs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=_se.exec(t))?A0(e[1],e[2],e[3],e[4]):(e=Sse.exec(t))?A0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ese.exec(t))?m4(e[1],e[2]/100,e[3]/100,1):(e=Ase.exec(t))?m4(e[1],e[2]/100,e[3]/100,e[4]):c4.hasOwnProperty(t)?f4(c4[t]):t==="transparent"?new fs(NaN,NaN,NaN,0):null}function f4(t){return new fs(t>>16&255,t>>8&255,t&255,1)}function A0(t,e,r,n){return n<=0&&(t=e=r=NaN),new fs(t,e,r,n)}function Nse(t){return t instanceof Zm||(t=lm(t)),t?(t=t.rgb(),new fs(t.r,t.g,t.b,t.opacity)):new fs}function sA(t,e,r,n){return arguments.length===1?Nse(t):new fs(t,e,r,n??1)}function fs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}FT(fs,sA,fB(Zm,{brighter(t){return t=t==null?Ry:Math.pow(Ry,t),new fs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?am:Math.pow(am,t),new fs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new fs(tu(this.r),tu(this.g),tu(this.b),ky(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h4,formatHex:h4,formatHex8:Ose,formatRgb:p4,toString:p4}));function h4(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}`}function Ose(){return`#${Yc(this.r)}${Yc(this.g)}${Yc(this.b)}${Yc((isNaN(this.opacity)?1:this.opacity)*255)}`}function p4(){const t=ky(this.opacity);return`${t===1?"rgb(":"rgba("}${tu(this.r)}, ${tu(this.g)}, ${tu(this.b)}${t===1?")":`, ${t})`}`}function ky(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function tu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yc(t){return t=tu(t),(t<16?"0":"")+t.toString(16)}function m4(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Oa(t,e,r,n)}function hB(t){if(t instanceof Oa)return new Oa(t.h,t.s,t.l,t.opacity);if(t instanceof Zm||(t=lm(t)),!t)return new Oa;if(t instanceof Oa)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,u=s-i,d=(s+i)/2;return u?(e===s?o=(r-n)/u+(r<n)*6:r===s?o=(n-e)/u+2:o=(e-r)/u+4,u/=d<.5?s+i:2-s-i,o*=60):u=d>0&&d<1?0:o,new Oa(o,u,d,t.opacity)}function Ise(t,e,r,n){return arguments.length===1?hB(t):new Oa(t,e,r,n??1)}function Oa(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}FT(Oa,Ise,fB(Zm,{brighter(t){return t=t==null?Ry:Math.pow(Ry,t),new Oa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?am:Math.pow(am,t),new Oa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new fs(K_(t>=240?t-240:t+120,i,n),K_(t,i,n),K_(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Oa(g4(this.h),C0(this.s),C0(this.l),ky(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ky(this.opacity);return`${t===1?"hsl(":"hsla("}${g4(this.h)}, ${C0(this.s)*100}%, ${C0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function g4(t){return t=(t||0)%360,t<0?t+360:t}function C0(t){return Math.max(0,Math.min(1,t||0))}function K_(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const $T=t=>()=>t;function Pse(t,e){return function(r){return t+r*e}}function jse(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Rse(t){return(t=+t)==1?pB:function(e,r){return r-e?jse(e,r,t):$T(isNaN(e)?r:e)}}function pB(t,e){var r=e-t;return r?Pse(t,r):$T(isNaN(t)?e:t)}const y4=(function t(e){var r=Rse(e);function n(i,s){var o=r((i=sA(i)).r,(s=sA(s)).r),u=r(i.g,s.g),d=r(i.b,s.b),f=pB(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=u(g),i.b=d(g),i.opacity=f(g),i+""}}return n.gamma=t,n})(1);function kse(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function Mse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Dse(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Yf(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(u){for(o=0;o<n;++o)s[o]=i[o](u);return s}}function Lse(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function My(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Bse(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Yf(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var aA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X_=new RegExp(aA.source,"g");function Fse(t){return function(){return t}}function $se(t){return function(e){return t(e)+""}}function Use(t,e){var r=aA.lastIndex=X_.lastIndex=0,n,i,s,o=-1,u=[],d=[];for(t=t+"",e=e+"";(n=aA.exec(t))&&(i=X_.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),u[o]?u[o]+=s:u[++o]=s),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,d.push({i:o,x:My(n,i)})),r=X_.lastIndex;return r<e.length&&(s=e.slice(r),u[o]?u[o]+=s:u[++o]=s),u.length<2?d[0]?$se(d[0].x):Fse(e):(e=d.length,function(f){for(var g=0,x;g<e;++g)u[(x=d[g]).i]=x.x(f);return u.join("")})}function Yf(t,e){var r=typeof e,n;return e==null||r==="boolean"?$T(e):(r==="number"?My:r==="string"?(n=lm(e))?(e=n,y4):Use:e instanceof lm?y4:e instanceof Date?Lse:Mse(e)?kse:Array.isArray(e)?Dse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Bse:My)(t,e)}function UT(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Vse(t,e){e===void 0&&(e=t,t=Yf);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var u=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[u](o-u)}}function qse(t){return function(){return t}}function Dy(t){return+t}var v4=[0,1];function Yi(t){return t}function oA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:qse(isNaN(e)?NaN:.5)}function zse(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Wse(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=oA(i,n),s=r(o,s)):(n=oA(n,i),s=r(s,o)),function(u){return s(n(u))}}function Hse(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=oA(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(u){var d=Ym(t,u,1,n)-1;return s[d](i[d](u))}}function Qm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function av(){var t=v4,e=v4,r=Yf,n,i,s,o=Yi,u,d,f;function g(){var _=Math.min(t.length,e.length);return o!==Yi&&(o=zse(t[0],t[_-1])),u=_>2?Hse:Wse,d=f=null,x}function x(_){return _==null||isNaN(_=+_)?s:(d||(d=u(t.map(n),e,r)))(n(o(_)))}return x.invert=function(_){return o(i((f||(f=u(e,t.map(n),My)))(_)))},x.domain=function(_){return arguments.length?(t=Array.from(_,Dy),g()):t.slice()},x.range=function(_){return arguments.length?(e=Array.from(_),g()):e.slice()},x.rangeRound=function(_){return e=Array.from(_),r=UT,g()},x.clamp=function(_){return arguments.length?(o=_?!0:Yi,g()):o!==Yi},x.interpolate=function(_){return arguments.length?(r=_,g()):r},x.unknown=function(_){return arguments.length?(s=_,x):s},function(_,T){return n=_,i=T,g()}}function VT(){return av()(Yi,Yi)}function Gse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ly(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function lf(t){return t=Ly(Math.abs(t)),t?t[1]:NaN}function Kse(t,e){return function(r,n){for(var i=r.length,s=[],o=0,u=t[0],d=0;i>0&&u>0&&(d+u+1>n&&(u=Math.max(1,n-d)),s.push(r.substring(i-=u,i+u)),!((d+=u+1)>n));)u=t[o=(o+1)%t.length];return s.reverse().join(e)}}function Xse(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Yse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cm(t){if(!(e=Yse.exec(t)))throw new Error("invalid format: "+t);var e;return new qT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}cm.prototype=qT.prototype;function qT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Zse(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var mB;function Qse(t,e){var r=Ly(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(mB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ly(t,Math.max(0,e+s-1))[0]}function x4(t,e){var r=Ly(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const w4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>x4(t*100,e),r:x4,s:Qse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function b4(t){return t}var _4=Array.prototype.map,S4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Jse(t){var e=t.grouping===void 0||t.thousands===void 0?b4:Kse(_4.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?b4:Xse(_4.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function f(x){x=cm(x);var _=x.fill,T=x.align,N=x.sign,E=x.symbol,A=x.zero,M=x.width,R=x.comma,I=x.precision,D=x.trim,L=x.type;L==="n"?(R=!0,L="g"):w4[L]||(I===void 0&&(I=12),D=!0,L="g"),(A||_==="0"&&T==="=")&&(A=!0,_="0",T="=");var $=E==="$"?r:E==="#"&&/[boxX]/.test(L)?"0"+L.toLowerCase():"",B=E==="$"?n:/[%p]/.test(L)?o:"",z=w4[L],H=/[defgprs%]/.test(L);I=I===void 0?6:/[gprs]/.test(L)?Math.max(1,Math.min(21,I)):Math.max(0,Math.min(20,I));function ce(K){var W=$,Z=B,Q,Y,J;if(L==="c")Z=z(K)+Z,K="";else{K=+K;var te=K<0||1/K<0;if(K=isNaN(K)?d:z(Math.abs(K),I),D&&(K=Zse(K)),te&&+K==0&&N!=="+"&&(te=!1),W=(te?N==="("?N:u:N==="-"||N==="("?"":N)+W,Z=(L==="s"?S4[8+mB/3]:"")+Z+(te&&N==="("?")":""),H){for(Q=-1,Y=K.length;++Q<Y;)if(J=K.charCodeAt(Q),48>J||J>57){Z=(J===46?i+K.slice(Q+1):K.slice(Q))+Z,K=K.slice(0,Q);break}}}R&&!A&&(K=e(K,1/0));var ie=W.length+K.length+Z.length,se=ie<M?new Array(M-ie+1).join(_):"";switch(R&&A&&(K=e(se+K,se.length?M-Z.length:1/0),se=""),T){case"<":K=W+K+Z+se;break;case"=":K=W+se+K+Z;break;case"^":K=se.slice(0,ie=se.length>>1)+W+K+Z+se.slice(ie);break;default:K=se+W+K+Z;break}return s(K)}return ce.toString=function(){return x+""},ce}function g(x,_){var T=f((x=cm(x),x.type="f",x)),N=Math.max(-8,Math.min(8,Math.floor(lf(_)/3)))*3,E=Math.pow(10,-N),A=S4[8+N/3];return function(M){return T(E*M)+A}}return{format:f,formatPrefix:g}}var T0,zT,gB;eae({thousands:",",grouping:[3],currency:["$",""]});function eae(t){return T0=Jse(t),zT=T0.format,gB=T0.formatPrefix,T0}function tae(t){return Math.max(0,-lf(Math.abs(t)))}function rae(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lf(e)/3)))*3-lf(Math.abs(t)))}function nae(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lf(e)-lf(t))+1}function yB(t,e,r,n){var i=nA(t,e,r),s;switch(n=cm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=rae(i,o))&&(n.precision=s),gB(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=nae(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=tae(i))&&(n.precision=s-(n.type==="%")*2);break}}return zT(n)}function tc(t){var e=t.domain;return t.ticks=function(r){var n=e();return tA(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return yB(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],u=n[s],d,f,g=10;for(u<o&&(f=o,o=u,u=f,f=i,i=s,s=f);g-- >0;){if(f=rA(o,u,r),f===d)return n[i]=o,n[s]=u,e(n);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;d=f}return t},t}function By(){var t=VT();return t.copy=function(){return Qm(t,By())},la.apply(t,arguments),tc(t)}function vB(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Dy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return vB(t).unknown(e)},t=arguments.length?Array.from(t,Dy):[0,1],tc(r)}function xB(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function E4(t){return Math.log(t)}function A4(t){return Math.exp(t)}function iae(t){return-Math.log(-t)}function sae(t){return-Math.exp(-t)}function aae(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oae(t){return t===10?aae:t===Math.E?Math.exp:e=>Math.pow(t,e)}function lae(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function C4(t){return(e,r)=>-t(-e,r)}function WT(t){const e=t(E4,A4),r=e.domain;let n=10,i,s;function o(){return i=lae(n),s=oae(n),r()[0]<0?(i=C4(i),s=C4(s),t(iae,sae)):t(E4,A4),e}return e.base=function(u){return arguments.length?(n=+u,o()):n},e.domain=function(u){return arguments.length?(r(u),o()):r()},e.ticks=u=>{const d=r();let f=d[0],g=d[d.length-1];const x=g<f;x&&([f,g]=[g,f]);let _=i(f),T=i(g),N,E;const A=u==null?10:+u;let M=[];if(!(n%1)&&T-_<A){if(_=Math.floor(_),T=Math.ceil(T),f>0){for(;_<=T;++_)for(N=1;N<n;++N)if(E=_<0?N/s(-_):N*s(_),!(E<f)){if(E>g)break;M.push(E)}}else for(;_<=T;++_)for(N=n-1;N>=1;--N)if(E=_>0?N/s(-_):N*s(_),!(E<f)){if(E>g)break;M.push(E)}M.length*2<A&&(M=tA(f,g,A))}else M=tA(_,T,Math.min(T-_,A)).map(s);return x?M.reverse():M},e.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=cm(d)).precision==null&&(d.trim=!0),d=zT(d)),u===1/0)return d;const f=Math.max(1,n*u/e.ticks().length);return g=>{let x=g/s(Math.round(i(g)));return x*n<n-.5&&(x*=n),x<=f?d(g):""}},e.nice=()=>r(xB(r(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),e}function wB(){const t=WT(av()).domain([1,10]);return t.copy=()=>Qm(t,wB()).base(t.base()),la.apply(t,arguments),t}function T4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function N4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function HT(t){var e=1,r=t(T4(e),N4(e));return r.constant=function(n){return arguments.length?t(T4(e=+n),N4(e)):e},tc(r)}function bB(){var t=HT(av());return t.copy=function(){return Qm(t,bB()).constant(t.constant())},la.apply(t,arguments)}function O4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cae(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function uae(t){return t<0?-t*t:t*t}function GT(t){var e=t(Yi,Yi),r=1;function n(){return r===1?t(Yi,Yi):r===.5?t(cae,uae):t(O4(r),O4(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},tc(e)}function KT(){var t=GT(av());return t.copy=function(){return Qm(t,KT()).exponent(t.exponent())},la.apply(t,arguments),t}function dae(){return KT.apply(null,arguments).exponent(.5)}function I4(t){return Math.sign(t)*t*t}function fae(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function _B(){var t=VT(),e=[0,1],r=!1,n;function i(s){var o=fae(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(I4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Dy)).map(I4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return _B(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},la.apply(i,arguments),tc(i)}function SB(){var t=[],e=[],r=[],n;function i(){var o=0,u=Math.max(1,e.length);for(r=new Array(u-1);++o<u;)r[o-1]=yse(t,o/u);return s}function s(o){return o==null||isNaN(o=+o)?n:e[Ym(r,o)]}return s.invertExtent=function(o){var u=e.indexOf(o);return u<0?[NaN,NaN]:[u>0?r[u-1]:t[0],u<r.length?r[u]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let u of o)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(ql),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return SB().domain(t).range(e).unknown(n)},la.apply(s,arguments)}function EB(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(d){return d!=null&&d<=d?i[Ym(n,d,0,r)]:s}function u(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,u()):[t,e]},o.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,u()):i.slice()},o.invertExtent=function(d){var f=i.indexOf(d);return f<0?[NaN,NaN]:f<1?[t,n[0]]:f>=r?[n[r-1],e]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(s=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return EB().domain([t,e]).range(i).unknown(s)},la.apply(tc(o),arguments)}function AB(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Ym(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return AB().domain(t).range(e).unknown(r)},la.apply(i,arguments)}const Y_=new Date,Z_=new Date;function ni(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),u=i.ceil(s);return s-o<u-s?o:u},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,u)=>{const d=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return d;let f;do d.push(f=new Date(+s)),e(s,u),t(s);while(f<s&&s<o);return d},i.filter=s=>ni(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;e(o,-1),!s(o););else for(;--u>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(Y_.setTime(+s),Z_.setTime(+o),t(Y_),t(Z_),Math.floor(r(Y_,Z_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Fy=ni(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Fy.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ni(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Fy);Fy.range;const Lo=1e3,ra=Lo*60,Bo=ra*60,Go=Bo*24,XT=Go*7,P4=Go*30,Q_=Go*365,Zc=ni(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Lo)},(t,e)=>(e-t)/Lo,t=>t.getUTCSeconds());Zc.range;const YT=ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lo)},(t,e)=>{t.setTime(+t+e*ra)},(t,e)=>(e-t)/ra,t=>t.getMinutes());YT.range;const ZT=ni(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ra)},(t,e)=>(e-t)/ra,t=>t.getUTCMinutes());ZT.range;const QT=ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Lo-t.getMinutes()*ra)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getHours());QT.range;const JT=ni(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bo)},(t,e)=>(e-t)/Bo,t=>t.getUTCHours());JT.range;const Jm=ni(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ra)/Go,t=>t.getDate()-1);Jm.range;const ov=ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Go,t=>t.getUTCDate()-1);ov.range;const CB=ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Go,t=>Math.floor(t/Go));CB.range;function Eu(t){return ni(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*ra)/XT)}const lv=Eu(0),$y=Eu(1),hae=Eu(2),pae=Eu(3),cf=Eu(4),mae=Eu(5),gae=Eu(6);lv.range;$y.range;hae.range;pae.range;cf.range;mae.range;gae.range;function Au(t){return ni(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/XT)}const cv=Au(0),Uy=Au(1),yae=Au(2),vae=Au(3),uf=Au(4),xae=Au(5),wae=Au(6);cv.range;Uy.range;yae.range;vae.range;uf.range;xae.range;wae.range;const eN=ni(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());eN.range;const tN=ni(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());tN.range;const Ko=ni(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ko.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ni(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ko.range;const Xo=ni(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Xo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ni(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Xo.range;function TB(t,e,r,n,i,s){const o=[[Zc,1,Lo],[Zc,5,5*Lo],[Zc,15,15*Lo],[Zc,30,30*Lo],[s,1,ra],[s,5,5*ra],[s,15,15*ra],[s,30,30*ra],[i,1,Bo],[i,3,3*Bo],[i,6,6*Bo],[i,12,12*Bo],[n,1,Go],[n,2,2*Go],[r,1,XT],[e,1,P4],[e,3,3*P4],[t,1,Q_]];function u(f,g,x){const _=g<f;_&&([f,g]=[g,f]);const T=x&&typeof x.range=="function"?x:d(f,g,x),N=T?T.range(f,+g+1):[];return _?N.reverse():N}function d(f,g,x){const _=Math.abs(g-f)/x,T=LT(([,,A])=>A).right(o,_);if(T===o.length)return t.every(nA(f/Q_,g/Q_,x));if(T===0)return Fy.every(Math.max(nA(f,g,x),1));const[N,E]=o[_/o[T-1][2]<o[T][2]/_?T-1:T];return N.every(E)}return[u,d]}const[bae,_ae]=TB(Xo,tN,cv,CB,JT,ZT),[Sae,Eae]=TB(Ko,eN,lv,Jm,QT,YT);function J_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Aae(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,u=t.months,d=t.shortMonths,f=Qh(i),g=Jh(i),x=Qh(s),_=Jh(s),T=Qh(o),N=Jh(o),E=Qh(u),A=Jh(u),M=Qh(d),R=Jh(d),I={a:te,A:ie,b:se,B:me,c:null,d:L4,e:L4,f:Kae,g:ioe,G:aoe,H:Wae,I:Hae,j:Gae,L:NB,m:Xae,M:Yae,p:ne,q:ue,Q:$4,s:U4,S:Zae,u:Qae,U:Jae,V:eoe,w:toe,W:roe,x:null,X:null,y:noe,Y:soe,Z:ooe,"%":F4},D={a:be,A:Pe,b:nt,B:Ie,c:null,d:B4,e:B4,f:doe,g:boe,G:Soe,H:loe,I:coe,j:uoe,L:IB,m:foe,M:hoe,p:je,q:Be,Q:$4,s:U4,S:poe,u:moe,U:goe,V:yoe,w:voe,W:xoe,x:null,X:null,y:woe,Y:_oe,Z:Eoe,"%":F4},L={a:ce,A:K,b:W,B:Z,c:Q,d:M4,e:M4,f:Uae,g:k4,G:R4,H:D4,I:D4,j:Lae,L:$ae,m:Dae,M:Bae,p:H,q:Mae,Q:qae,s:zae,S:Fae,u:Iae,U:Pae,V:jae,w:Oae,W:Rae,x:Y,X:J,y:k4,Y:R4,Z:kae,"%":Vae};I.x=$(r,I),I.X=$(n,I),I.c=$(e,I),D.x=$(r,D),D.X=$(n,D),D.c=$(e,D);function $(Te,Ue){return function(Ve){var Ce=[],tt=-1,St=0,Oe=Te.length,Ke,ot,Qe;for(Ve instanceof Date||(Ve=new Date(+Ve));++tt<Oe;)Te.charCodeAt(tt)===37&&(Ce.push(Te.slice(St,tt)),(ot=j4[Ke=Te.charAt(++tt)])!=null?Ke=Te.charAt(++tt):ot=Ke==="e"?" ":"0",(Qe=Ue[Ke])&&(Ke=Qe(Ve,ot)),Ce.push(Ke),St=tt+1);return Ce.push(Te.slice(St,tt)),Ce.join("")}}function B(Te,Ue){return function(Ve){var Ce=Zh(1900,void 0,1),tt=z(Ce,Te,Ve+="",0),St,Oe;if(tt!=Ve.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(Ce.s*1e3+("L"in Ce?Ce.L:0));if(Ue&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+Ce.p*12),Ce.m===void 0&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(St=eS(Zh(Ce.y,0,1)),Oe=St.getUTCDay(),St=Oe>4||Oe===0?Uy.ceil(St):Uy(St),St=ov.offset(St,(Ce.V-1)*7),Ce.y=St.getUTCFullYear(),Ce.m=St.getUTCMonth(),Ce.d=St.getUTCDate()+(Ce.w+6)%7):(St=J_(Zh(Ce.y,0,1)),Oe=St.getDay(),St=Oe>4||Oe===0?$y.ceil(St):$y(St),St=Jm.offset(St,(Ce.V-1)*7),Ce.y=St.getFullYear(),Ce.m=St.getMonth(),Ce.d=St.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),Oe="Z"in Ce?eS(Zh(Ce.y,0,1)).getUTCDay():J_(Zh(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+Ce.W*7-(Oe+5)%7:Ce.w+Ce.U*7-(Oe+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,eS(Ce)):J_(Ce)}}function z(Te,Ue,Ve,Ce){for(var tt=0,St=Ue.length,Oe=Ve.length,Ke,ot;tt<St;){if(Ce>=Oe)return-1;if(Ke=Ue.charCodeAt(tt++),Ke===37){if(Ke=Ue.charAt(tt++),ot=L[Ke in j4?Ue.charAt(tt++):Ke],!ot||(Ce=ot(Te,Ve,Ce))<0)return-1}else if(Ke!=Ve.charCodeAt(Ce++))return-1}return Ce}function H(Te,Ue,Ve){var Ce=f.exec(Ue.slice(Ve));return Ce?(Te.p=g.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function ce(Te,Ue,Ve){var Ce=T.exec(Ue.slice(Ve));return Ce?(Te.w=N.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function K(Te,Ue,Ve){var Ce=x.exec(Ue.slice(Ve));return Ce?(Te.w=_.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function W(Te,Ue,Ve){var Ce=M.exec(Ue.slice(Ve));return Ce?(Te.m=R.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function Z(Te,Ue,Ve){var Ce=E.exec(Ue.slice(Ve));return Ce?(Te.m=A.get(Ce[0].toLowerCase()),Ve+Ce[0].length):-1}function Q(Te,Ue,Ve){return z(Te,e,Ue,Ve)}function Y(Te,Ue,Ve){return z(Te,r,Ue,Ve)}function J(Te,Ue,Ve){return z(Te,n,Ue,Ve)}function te(Te){return o[Te.getDay()]}function ie(Te){return s[Te.getDay()]}function se(Te){return d[Te.getMonth()]}function me(Te){return u[Te.getMonth()]}function ne(Te){return i[+(Te.getHours()>=12)]}function ue(Te){return 1+~~(Te.getMonth()/3)}function be(Te){return o[Te.getUTCDay()]}function Pe(Te){return s[Te.getUTCDay()]}function nt(Te){return d[Te.getUTCMonth()]}function Ie(Te){return u[Te.getUTCMonth()]}function je(Te){return i[+(Te.getUTCHours()>=12)]}function Be(Te){return 1+~~(Te.getUTCMonth()/3)}return{format:function(Te){var Ue=$(Te+="",I);return Ue.toString=function(){return Te},Ue},parse:function(Te){var Ue=B(Te+="",!1);return Ue.toString=function(){return Te},Ue},utcFormat:function(Te){var Ue=$(Te+="",D);return Ue.toString=function(){return Te},Ue},utcParse:function(Te){var Ue=B(Te+="",!0);return Ue.toString=function(){return Te},Ue}}}var j4={"-":"",_:" ",0:"0"},pi=/^\s*\d+/,Cae=/^%/,Tae=/[\\^$*+?|[\]().{}]/g;function vr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function Nae(t){return t.replace(Tae,"\\$&")}function Qh(t){return new RegExp("^(?:"+t.map(Nae).join("|")+")","i")}function Jh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Oae(t,e,r){var n=pi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Iae(t,e,r){var n=pi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Pae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function jae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Rae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function R4(t,e,r){var n=pi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function k4(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function kae(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Mae(t,e,r){var n=pi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Dae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function M4(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Lae(t,e,r){var n=pi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function D4(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Bae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Fae(t,e,r){var n=pi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $ae(t,e,r){var n=pi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Uae(t,e,r){var n=pi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Vae(t,e,r){var n=Cae.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function qae(t,e,r){var n=pi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function zae(t,e,r){var n=pi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function L4(t,e){return vr(t.getDate(),e,2)}function Wae(t,e){return vr(t.getHours(),e,2)}function Hae(t,e){return vr(t.getHours()%12||12,e,2)}function Gae(t,e){return vr(1+Jm.count(Ko(t),t),e,3)}function NB(t,e){return vr(t.getMilliseconds(),e,3)}function Kae(t,e){return NB(t,e)+"000"}function Xae(t,e){return vr(t.getMonth()+1,e,2)}function Yae(t,e){return vr(t.getMinutes(),e,2)}function Zae(t,e){return vr(t.getSeconds(),e,2)}function Qae(t){var e=t.getDay();return e===0?7:e}function Jae(t,e){return vr(lv.count(Ko(t)-1,t),e,2)}function OB(t){var e=t.getDay();return e>=4||e===0?cf(t):cf.ceil(t)}function eoe(t,e){return t=OB(t),vr(cf.count(Ko(t),t)+(Ko(t).getDay()===4),e,2)}function toe(t){return t.getDay()}function roe(t,e){return vr($y.count(Ko(t)-1,t),e,2)}function noe(t,e){return vr(t.getFullYear()%100,e,2)}function ioe(t,e){return t=OB(t),vr(t.getFullYear()%100,e,2)}function soe(t,e){return vr(t.getFullYear()%1e4,e,4)}function aoe(t,e){var r=t.getDay();return t=r>=4||r===0?cf(t):cf.ceil(t),vr(t.getFullYear()%1e4,e,4)}function ooe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+vr(e/60|0,"0",2)+vr(e%60,"0",2)}function B4(t,e){return vr(t.getUTCDate(),e,2)}function loe(t,e){return vr(t.getUTCHours(),e,2)}function coe(t,e){return vr(t.getUTCHours()%12||12,e,2)}function uoe(t,e){return vr(1+ov.count(Xo(t),t),e,3)}function IB(t,e){return vr(t.getUTCMilliseconds(),e,3)}function doe(t,e){return IB(t,e)+"000"}function foe(t,e){return vr(t.getUTCMonth()+1,e,2)}function hoe(t,e){return vr(t.getUTCMinutes(),e,2)}function poe(t,e){return vr(t.getUTCSeconds(),e,2)}function moe(t){var e=t.getUTCDay();return e===0?7:e}function goe(t,e){return vr(cv.count(Xo(t)-1,t),e,2)}function PB(t){var e=t.getUTCDay();return e>=4||e===0?uf(t):uf.ceil(t)}function yoe(t,e){return t=PB(t),vr(uf.count(Xo(t),t)+(Xo(t).getUTCDay()===4),e,2)}function voe(t){return t.getUTCDay()}function xoe(t,e){return vr(Uy.count(Xo(t)-1,t),e,2)}function woe(t,e){return vr(t.getUTCFullYear()%100,e,2)}function boe(t,e){return t=PB(t),vr(t.getUTCFullYear()%100,e,2)}function _oe(t,e){return vr(t.getUTCFullYear()%1e4,e,4)}function Soe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?uf(t):uf.ceil(t),vr(t.getUTCFullYear()%1e4,e,4)}function Eoe(){return"+0000"}function F4(){return"%"}function $4(t){return+t}function U4(t){return Math.floor(+t/1e3)}var hd,jB,RB;Aoe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aoe(t){return hd=Aae(t),jB=hd.format,hd.parse,RB=hd.utcFormat,hd.utcParse,hd}function Coe(t){return new Date(t)}function Toe(t){return t instanceof Date?+t:+new Date(+t)}function rN(t,e,r,n,i,s,o,u,d,f){var g=VT(),x=g.invert,_=g.domain,T=f(".%L"),N=f(":%S"),E=f("%I:%M"),A=f("%I %p"),M=f("%a %d"),R=f("%b %d"),I=f("%B"),D=f("%Y");function L($){return(d($)<$?T:u($)<$?N:o($)<$?E:s($)<$?A:n($)<$?i($)<$?M:R:r($)<$?I:D)($)}return g.invert=function($){return new Date(x($))},g.domain=function($){return arguments.length?_(Array.from($,Toe)):_().map(Coe)},g.ticks=function($){var B=_();return t(B[0],B[B.length-1],$??10)},g.tickFormat=function($,B){return B==null?L:f(B)},g.nice=function($){var B=_();return(!$||typeof $.range!="function")&&($=e(B[0],B[B.length-1],$??10)),$?_(xB(B,$)):g},g.copy=function(){return Qm(g,rN(t,e,r,n,i,s,o,u,d,f))},g}function Noe(){return la.apply(rN(Sae,Eae,Ko,eN,lv,Jm,QT,YT,Zc,jB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ooe(){return la.apply(rN(bae,_ae,Xo,tN,cv,ov,JT,ZT,Zc,RB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uv(){var t=0,e=1,r,n,i,s,o=Yi,u=!1,d;function f(x){return x==null||isNaN(x=+x)?d:o(i===0?.5:(x=(s(x)-r)*i,u?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([t,e]=x,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),f):[t,e]},f.clamp=function(x){return arguments.length?(u=!!x,f):u},f.interpolator=function(x){return arguments.length?(o=x,f):o};function g(x){return function(_){var T,N;return arguments.length?([T,N]=_,o=x(T,N),f):[o(0),o(1)]}}return f.range=g(Yf),f.rangeRound=g(UT),f.unknown=function(x){return arguments.length?(d=x,f):d},function(x){return s=x,r=x(t),n=x(e),i=r===n?0:1/(n-r),f}}function rc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function kB(){var t=tc(uv()(Yi));return t.copy=function(){return rc(t,kB())},rl.apply(t,arguments)}function MB(){var t=WT(uv()).domain([1,10]);return t.copy=function(){return rc(t,MB()).base(t.base())},rl.apply(t,arguments)}function DB(){var t=HT(uv());return t.copy=function(){return rc(t,DB()).constant(t.constant())},rl.apply(t,arguments)}function nN(){var t=GT(uv());return t.copy=function(){return rc(t,nN()).exponent(t.exponent())},rl.apply(t,arguments)}function Ioe(){return nN.apply(null,arguments).exponent(.5)}function LB(){var t=[],e=Yi;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ym(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ql),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>gse(t,s/n))},r.copy=function(){return LB(e).domain(t)},rl.apply(r,arguments)}function dv(){var t=0,e=.5,r=1,n=1,i,s,o,u,d,f=Yi,g,x=!1,_;function T(E){return isNaN(E=+E)?_:(E=.5+((E=+g(E))-s)*(n*E<n*s?u:d),f(x?Math.max(0,Math.min(1,E)):E))}T.domain=function(E){return arguments.length?([t,e,r]=E,i=g(t=+t),s=g(e=+e),o=g(r=+r),u=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,T):[t,e,r]},T.clamp=function(E){return arguments.length?(x=!!E,T):x},T.interpolator=function(E){return arguments.length?(f=E,T):f};function N(E){return function(A){var M,R,I;return arguments.length?([M,R,I]=A,f=Vse(E,[M,R,I]),T):[f(0),f(.5),f(1)]}}return T.range=N(Yf),T.rangeRound=N(UT),T.unknown=function(E){return arguments.length?(_=E,T):_},function(E){return g=E,i=E(t),s=E(e),o=E(r),u=i===s?0:.5/(s-i),d=s===o?0:.5/(o-s),n=s<i?-1:1,T}}function BB(){var t=tc(dv()(Yi));return t.copy=function(){return rc(t,BB())},rl.apply(t,arguments)}function FB(){var t=WT(dv()).domain([.1,1,10]);return t.copy=function(){return rc(t,FB()).base(t.base())},rl.apply(t,arguments)}function $B(){var t=HT(dv());return t.copy=function(){return rc(t,$B()).constant(t.constant())},rl.apply(t,arguments)}function iN(){var t=GT(dv());return t.copy=function(){return rc(t,iN()).exponent(t.exponent())},rl.apply(t,arguments)}function Poe(){return iN.apply(null,arguments).exponent(.5)}const V4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:sm,scaleDiverging:BB,scaleDivergingLog:FB,scaleDivergingPow:iN,scaleDivergingSqrt:Poe,scaleDivergingSymlog:$B,scaleIdentity:vB,scaleImplicit:iA,scaleLinear:By,scaleLog:wB,scaleOrdinal:BT,scalePoint:Sp,scalePow:KT,scaleQuantile:SB,scaleQuantize:EB,scaleRadial:_B,scaleSequential:kB,scaleSequentialLog:MB,scaleSequentialPow:nN,scaleSequentialQuantile:LB,scaleSequentialSqrt:Ioe,scaleSequentialSymlog:DB,scaleSqrt:dae,scaleSymlog:bB,scaleThreshold:AB,scaleTime:Noe,scaleUtc:Ooe,tickFormat:yB},Symbol.toStringTag,{value:"Module"}));var tS,q4;function fv(){if(q4)return tS;q4=1;var t=Hf();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var u=r[s],d=n(u);if(d!=null&&(f===void 0?d===d&&!t(d):i(d,f)))var f=d,g=u}return g}return tS=e,tS}var rS,z4;function UB(){if(z4)return rS;z4=1;function t(e,r){return e>r}return rS=t,rS}var nS,W4;function joe(){if(W4)return nS;W4=1;var t=fv(),e=UB(),r=Kf();function n(i){return i&&i.length?t(i,r,e):void 0}return nS=n,nS}var Roe=joe();const hv=Ar(Roe);var iS,H4;function VB(){if(H4)return iS;H4=1;function t(e,r){return e<r}return iS=t,iS}var sS,G4;function koe(){if(G4)return sS;G4=1;var t=fv(),e=VB(),r=Kf();function n(i){return i&&i.length?t(i,r,e):void 0}return sS=n,sS}var Moe=koe();const pv=Ar(Moe);var aS,K4;function Doe(){if(K4)return aS;K4=1;var t=wT(),e=po(),r=X7(),n=hs();function i(s,o){var u=n(s)?t:r;return u(s,e(o,3))}return aS=i,aS}var oS,X4;function Loe(){if(X4)return oS;X4=1;var t=G7(),e=Doe();function r(n,i){return t(e(n,i),1)}return oS=r,oS}var Boe=Loe();const Foe=Ar(Boe);var lS,Y4;function $oe(){if(Y4)return lS;Y4=1;var t=RT();function e(r,n){return t(r,n)}return lS=e,lS}var Uoe=$oe();const mv=Ar(Uoe);var Zf=1e9,Voe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aN,un=!0,aa="[DecimalError] ",ru=aa+"Invalid argument: ",sN=aa+"Exponent out of range: ",Qf=Math.floor,Vc=Math.pow,qoe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ks,ci=1e7,rn=7,qB=9007199254740991,Vy=Qf(qB/rn),pt={};pt.absoluteValue=pt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pt.comparedTo=pt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};pt.decimalPlaces=pt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*rn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pt.dividedBy=pt.div=function(t){return Vo(this,new this.constructor(t))};pt.dividedToIntegerBy=pt.idiv=function(t){var e=this,r=e.constructor;return $r(Vo(e,new r(t),0,1),r.precision)};pt.equals=pt.eq=function(t){return!this.cmp(t)};pt.exponent=function(){return $n(this)};pt.greaterThan=pt.gt=function(t){return this.cmp(t)>0};pt.greaterThanOrEqualTo=pt.gte=function(t){return this.cmp(t)>=0};pt.isInteger=pt.isint=function(){return this.e>this.d.length-2};pt.isNegative=pt.isneg=function(){return this.s<0};pt.isPositive=pt.ispos=function(){return this.s>0};pt.isZero=function(){return this.s===0};pt.lessThan=pt.lt=function(t){return this.cmp(t)<0};pt.lessThanOrEqualTo=pt.lte=function(t){return this.cmp(t)<1};pt.logarithm=pt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ks))throw Error(aa+"NaN");if(r.s<1)throw Error(aa+(r.s?"NaN":"-Infinity"));return r.eq(ks)?new n(0):(un=!1,e=Vo(um(r,s),um(t,s),s),un=!0,$r(e,i))};pt.minus=pt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HB(e,t):zB(e,(t.s=-t.s,t))};pt.modulo=pt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(aa+"NaN");return r.s?(un=!1,e=Vo(r,t,0,1).times(t),un=!0,r.minus(e)):$r(new n(r),i)};pt.naturalExponential=pt.exp=function(){return WB(this)};pt.naturalLogarithm=pt.ln=function(){return um(this)};pt.negated=pt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pt.plus=pt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zB(e,t):HB(e,(t.s=-t.s,t))};pt.precision=pt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ru+t);if(e=$n(i)+1,n=i.d.length-1,r=n*rn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pt.squareRoot=pt.sqrt=function(){var t,e,r,n,i,s,o,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(aa+"NaN")}for(t=$n(u),un=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Za(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Qf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=o=r+3;;)if(s=n,n=s.plus(Vo(u,s,o+2)).times(.5),Za(s.d).slice(0,o)===(e=Za(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if($r(s,r+1,0),s.times(s).eq(u)){n=s;break}}else if(e!="9999")break;o+=4}return un=!0,$r(n,r)};pt.times=pt.mul=function(t){var e,r,n,i,s,o,u,d,f,g=this,x=g.constructor,_=g.d,T=(t=new x(t)).d;if(!g.s||!t.s)return new x(0);for(t.s*=g.s,r=g.e+t.e,d=_.length,f=T.length,d<f&&(s=_,_=T,T=s,o=d,d=f,f=o),s=[],o=d+f,n=o;n--;)s.push(0);for(n=f;--n>=0;){for(e=0,i=d+n;i>n;)u=s[i]+T[n]*_[i-n-1]+e,s[i--]=u%ci|0,e=u/ci|0;s[i]=(s[i]+e)%ci|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,un?$r(t,x.precision):t};pt.toDecimalPlaces=pt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(oo(t,0,Zf),e===void 0?e=n.rounding:oo(e,0,8),$r(r,t+$n(r)+1,e))};pt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=hu(n,!0):(oo(t,0,Zf),e===void 0?e=i.rounding:oo(e,0,8),n=$r(new i(n),t+1,e),r=hu(n,!0,t+1)),r};pt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?hu(i):(oo(t,0,Zf),e===void 0?e=s.rounding:oo(e,0,8),n=$r(new s(i),t+$n(i)+1,e),r=hu(n.abs(),!1,t+$n(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};pt.toInteger=pt.toint=function(){var t=this,e=t.constructor;return $r(new e(t),$n(t)+1,e.rounding)};pt.toNumber=function(){return+this};pt.toPower=pt.pow=function(t){var e,r,n,i,s,o,u=this,d=u.constructor,f=12,g=+(t=new d(t));if(!t.s)return new d(ks);if(u=new d(u),!u.s){if(t.s<1)throw Error(aa+"Infinity");return u}if(u.eq(ks))return u;if(n=d.precision,t.eq(ks))return $r(u,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=u.s,o){if((r=g<0?-g:g)<=qB){for(i=new d(ks),e=Math.ceil(n/rn+4),un=!1;r%2&&(i=i.times(u),Q4(i.d,e)),r=Qf(r/2),r!==0;)u=u.times(u),Q4(u.d,e);return un=!0,t.s<0?new d(ks).div(i):$r(i,n)}}else if(s<0)throw Error(aa+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,u.s=1,un=!1,i=t.times(um(u,n+f)),un=!0,i=WB(i),i.s=s,i};pt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=$n(i),n=hu(i,r<=s.toExpNeg||r>=s.toExpPos)):(oo(t,1,Zf),e===void 0?e=s.rounding:oo(e,0,8),i=$r(new s(i),t,e),r=$n(i),n=hu(i,t<=r||r<=s.toExpNeg,t)),n};pt.toSignificantDigits=pt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(oo(t,1,Zf),e===void 0?e=n.rounding:oo(e,0,8)),$r(new n(r),t,e)};pt.toString=pt.valueOf=pt.val=pt.toJSON=pt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$n(t),r=t.constructor;return hu(t,e<=r.toExpNeg||e>=r.toExpPos)};function zB(t,e){var r,n,i,s,o,u,d,f,g=t.constructor,x=g.precision;if(!t.s||!e.s)return e.s||(e=new g(t)),un?$r(e,x):e;if(d=t.d,f=e.d,o=t.e,i=e.e,d=d.slice(),s=o-i,s){for(s<0?(n=d,s=-s,u=f.length):(n=f,i=o,u=d.length),o=Math.ceil(x/rn),u=o>u?o+1:u+1,s>u&&(s=u,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(u=d.length,s=f.length,u-s<0&&(s=u,n=f,f=d,d=n),r=0;s;)r=(d[--s]=d[s]+f[s]+r)/ci|0,d[s]%=ci;for(r&&(d.unshift(r),++i),u=d.length;d[--u]==0;)d.pop();return e.d=d,e.e=i,un?$r(e,x):e}function oo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(ru+t)}function Za(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=rn-n.length,r&&(s+=Bl(r)),s+=n;o=t[e],n=o+"",r=rn-n.length,r&&(s+=Bl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Vo=(function(){function t(n,i){var s,o=0,u=n.length;for(n=n.slice();u--;)s=n[u]*i+o,n[u]=s%ci|0,o=s/ci|0;return o&&n.unshift(o),n}function e(n,i,s,o){var u,d;if(s!=o)d=s>o?1:-1;else for(u=d=0;u<s;u++)if(n[u]!=i[u]){d=n[u]>i[u]?1:-1;break}return d}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*ci+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var u,d,f,g,x,_,T,N,E,A,M,R,I,D,L,$,B,z,H=n.constructor,ce=n.s==i.s?1:-1,K=n.d,W=i.d;if(!n.s)return new H(n);if(!i.s)throw Error(aa+"Division by zero");for(d=n.e-i.e,B=W.length,L=K.length,T=new H(ce),N=T.d=[],f=0;W[f]==(K[f]||0);)++f;if(W[f]>(K[f]||0)&&--d,s==null?R=s=H.precision:o?R=s+($n(n)-$n(i))+1:R=s,R<0)return new H(0);if(R=R/rn+2|0,f=0,B==1)for(g=0,W=W[0],R++;(f<L||g)&&R--;f++)I=g*ci+(K[f]||0),N[f]=I/W|0,g=I%W|0;else{for(g=ci/(W[0]+1)|0,g>1&&(W=t(W,g),K=t(K,g),B=W.length,L=K.length),D=B,E=K.slice(0,B),A=E.length;A<B;)E[A++]=0;z=W.slice(),z.unshift(0),$=W[0],W[1]>=ci/2&&++$;do g=0,u=e(W,E,B,A),u<0?(M=E[0],B!=A&&(M=M*ci+(E[1]||0)),g=M/$|0,g>1?(g>=ci&&(g=ci-1),x=t(W,g),_=x.length,A=E.length,u=e(x,E,_,A),u==1&&(g--,r(x,B<_?z:W,_))):(g==0&&(u=g=1),x=W.slice()),_=x.length,_<A&&x.unshift(0),r(E,x,A),u==-1&&(A=E.length,u=e(W,E,B,A),u<1&&(g++,r(E,B<A?z:W,A))),A=E.length):u===0&&(g++,E=[0]),N[f++]=g,u&&E[0]?E[A++]=K[D]||0:(E=[K[D]],A=1);while((D++<L||E[0]!==void 0)&&R--)}return N[0]||N.shift(),T.e=d,$r(T,o?s+$n(T)+1:s)}})();function WB(t,e){var r,n,i,s,o,u,d=0,f=0,g=t.constructor,x=g.precision;if($n(t)>16)throw Error(sN+$n(t));if(!t.s)return new g(ks);for(un=!1,u=x,o=new g(.03125);t.abs().gte(.1);)t=t.times(o),f+=5;for(n=Math.log(Vc(2,f))/Math.LN10*2+5|0,u+=n,r=i=s=new g(ks),g.precision=u;;){if(i=$r(i.times(t),u),r=r.times(++d),o=s.plus(Vo(i,r,u)),Za(o.d).slice(0,u)===Za(s.d).slice(0,u)){for(;f--;)s=$r(s.times(s),u);return g.precision=x,e==null?(un=!0,$r(s,x)):s}s=o}}function $n(t){for(var e=t.e*rn,r=t.d[0];r>=10;r/=10)e++;return e}function cS(t,e,r){if(e>t.LN10.sd())throw un=!0,r&&(t.precision=r),Error(aa+"LN10 precision limit exceeded");return $r(new t(t.LN10),e)}function Bl(t){for(var e="";t--;)e+="0";return e}function um(t,e){var r,n,i,s,o,u,d,f,g,x=1,_=10,T=t,N=T.d,E=T.constructor,A=E.precision;if(T.s<1)throw Error(aa+(T.s?"NaN":"-Infinity"));if(T.eq(ks))return new E(0);if(e==null?(un=!1,f=A):f=e,T.eq(10))return e==null&&(un=!0),cS(E,f);if(f+=_,E.precision=f,r=Za(N),n=r.charAt(0),s=$n(T),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)T=T.times(t),r=Za(T.d),n=r.charAt(0),x++;s=$n(T),n>1?(T=new E("0."+r),s++):T=new E(n+"."+r.slice(1))}else return d=cS(E,f+2,A).times(s+""),T=um(new E(n+"."+r.slice(1)),f-_).plus(d),E.precision=A,e==null?(un=!0,$r(T,A)):T;for(u=o=T=Vo(T.minus(ks),T.plus(ks),f),g=$r(T.times(T),f),i=3;;){if(o=$r(o.times(g),f),d=u.plus(Vo(o,new E(i),f)),Za(d.d).slice(0,f)===Za(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(cS(E,f+2,A).times(s+""))),u=Vo(u,new E(x),f),E.precision=A,e==null?(un=!0,$r(u,A)):u;u=d,i+=2}}function Z4(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Qf(r/rn),t.d=[],n=(r+1)%rn,r<0&&(n+=rn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=rn;n<i;)t.d.push(+e.slice(n,n+=rn));e=e.slice(n),n=rn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),un&&(t.e>Vy||t.e<-Vy))throw Error(sN+r)}else t.s=0,t.e=0,t.d=[0];return t}function $r(t,e,r){var n,i,s,o,u,d,f,g,x=t.d;for(o=1,s=x[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=rn,i=e,f=x[g=0];else{if(g=Math.ceil((n+1)/rn),s=x.length,g>=s)return t;for(f=s=x[g],o=1;s>=10;s/=10)o++;n%=rn,i=n-rn+o}if(r!==void 0&&(s=Vc(10,o-i-1),u=f/s%10|0,d=e<0||x[g+1]!==void 0||f%s,d=r<4?(u||d)&&(r==0||r==(t.s<0?3:2)):u>5||u==5&&(r==4||d||r==6&&(n>0?i>0?f/Vc(10,o-i):0:x[g-1])%10&1||r==(t.s<0?8:7))),e<1||!x[0])return d?(s=$n(t),x.length=1,e=e-s-1,x[0]=Vc(10,(rn-e%rn)%rn),t.e=Qf(-e/rn)||0):(x.length=1,x[0]=t.e=t.s=0),t;if(n==0?(x.length=g,s=1,g--):(x.length=g+1,s=Vc(10,rn-n),x[g]=i>0?(f/Vc(10,o-i)%Vc(10,i)|0)*s:0),d)for(;;)if(g==0){(x[0]+=s)==ci&&(x[0]=1,++t.e);break}else{if(x[g]+=s,x[g]!=ci)break;x[g--]=0,s=1}for(n=x.length;x[--n]===0;)x.pop();if(un&&(t.e>Vy||t.e<-Vy))throw Error(sN+$n(t));return t}function HB(t,e){var r,n,i,s,o,u,d,f,g,x,_=t.constructor,T=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),un?$r(e,T):e;if(d=t.d,x=e.d,n=e.e,f=t.e,d=d.slice(),o=f-n,o){for(g=o<0,g?(r=d,o=-o,u=x.length):(r=x,n=f,u=d.length),i=Math.max(Math.ceil(T/rn),u)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=d.length,u=x.length,g=i<u,g&&(u=i),i=0;i<u;i++)if(d[i]!=x[i]){g=d[i]<x[i];break}o=0}for(g&&(r=d,d=x,x=r,e.s=-e.s),u=d.length,i=x.length-u;i>0;--i)d[u++]=0;for(i=x.length;i>o;){if(d[--i]<x[i]){for(s=i;s&&d[--s]===0;)d[s]=ci-1;--d[s],d[i]+=ci}d[i]-=x[i]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,un?$r(e,T):e):new _(0)}function hu(t,e,r){var n,i=$n(t),s=Za(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Bl(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Bl(-i-1)+s,r&&(n=r-o)>0&&(s+=Bl(n))):i>=o?(s+=Bl(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Bl(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Bl(n))),t.s<0?"-"+s:s}function Q4(t,e){if(t.length>e)return t.length=e,!0}function GB(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ru+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Z4(o,s.toString())}else if(typeof s!="string")throw Error(ru+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,qoe.test(s))Z4(o,s);else throw Error(ru+s)}if(i.prototype=pt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GB,i.config=i.set=zoe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function zoe(t){if(!t||typeof t!="object")throw Error(aa+"Object expected");var e,r,n,i=["precision",1,Zf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Qf(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(ru+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ru+r+": "+n);return this}var aN=GB(Voe);ks=new aN(1);const jr=aN;function Woe(t){return Xoe(t)||Koe(t)||Goe(t)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Goe(t,e){if(t){if(typeof t=="string")return lA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(t,e)}}function Koe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Xoe(t){if(Array.isArray(t))return lA(t)}function lA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Yoe=function(e){return e},KB={},XB=function(e){return e===KB},J4=function(e){return function r(){return arguments.length===0||arguments.length===1&&XB(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Zoe=function t(e,r){return e===1?r:J4(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(u){return u!==KB}).length;return o>=e?r.apply(void 0,i):t(e-o,J4(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var g=i.map(function(x){return XB(x)?d.shift():x});return r.apply(void 0,Woe(g).concat(d))}))})},gv=function(e){return Zoe(e.length,e)},cA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Qoe=gv(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Joe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Yoe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(u,d){return d(u)},s.apply(void 0,arguments))}},uA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YB=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(u,d){return u===r[d]})||(r=s,n=e.apply(void 0,s)),n}};function ele(t){var e;return t===0?e=1:e=Math.floor(new jr(t).abs().log(10).toNumber())+1,e}function tle(t,e,r){for(var n=new jr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var rle=gv(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),nle=gv(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),ile=gv(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const yv={rangeStep:tle,getDigitCount:ele,interpolateNumber:rle,uninterpolateNumber:nle,uninterpolateTruncation:ile};function dA(t){return ole(t)||ale(t)||ZB(t)||sle()}function sle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ole(t){if(Array.isArray(t))return fA(t)}function dm(t,e){return ule(t)||cle(t,e)||ZB(t,e)||lle()}function lle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZB(t,e){if(t){if(typeof t=="string")return fA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(t,e)}}function fA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cle(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(e&&r.length===e));n=!0);}catch(d){i=!0,s=d}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function ule(t){if(Array.isArray(t))return t}function QB(t){var e=dm(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function JB(t,e,r){if(t.lte(0))return new jr(0);var n=yv.getDigitCount(t.toNumber()),i=new jr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,u=new jr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),d=u.mul(i);return e?d:new jr(Math.ceil(d))}function dle(t,e,r){var n=1,i=new jr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new jr(10).pow(yv.getDigitCount(t)-1),i=new jr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new jr(Math.floor(t)))}else t===0?i=new jr(Math.floor((e-1)/2)):r||(i=new jr(Math.floor(t)));var o=Math.floor((e-1)/2),u=Joe(Qoe(function(d){return i.add(new jr(d-o).mul(n)).toNumber()}),cA);return u(0,e)}function eF(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new jr(0),tickMin:new jr(0),tickMax:new jr(0)};var s=JB(new jr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new jr(0):(o=new jr(t).add(e).div(2),o=o.sub(new jr(o).mod(s)));var u=Math.ceil(o.sub(t).div(s).toNumber()),d=Math.ceil(new jr(e).sub(o).div(s).toNumber()),f=u+d+1;return f>r?eF(t,e,r,n,i+1):(f<r&&(d=e>0?d+(r-f):d,u=e>0?u:u+(r-f)),{step:s,tickMin:o.sub(new jr(u).mul(s)),tickMax:o.add(new jr(d).mul(s))})}function fle(t){var e=dm(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),u=QB([r,n]),d=dm(u,2),f=d[0],g=d[1];if(f===-1/0||g===1/0){var x=g===1/0?[f].concat(dA(cA(0,i-1).map(function(){return 1/0}))):[].concat(dA(cA(0,i-1).map(function(){return-1/0})),[g]);return r>n?uA(x):x}if(f===g)return dle(f,i,s);var _=eF(f,g,o,s),T=_.step,N=_.tickMin,E=_.tickMax,A=yv.rangeStep(N,E.add(new jr(.1).mul(T)),T);return r>n?uA(A):A}function hle(t,e){var r=dm(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=QB([n,i]),u=dm(o,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[n,i];if(d===f)return[d];var g=Math.max(e,2),x=JB(new jr(f).sub(d).div(g-1),s,0),_=[].concat(dA(yv.rangeStep(new jr(d),new jr(f).sub(new jr(.99).mul(x)),x)),[f]);return n>i?uA(_):_}var ple=YB(fle),mle=YB(hle),gle="Invariant failed";function pu(t,e){throw new Error(gle)}var yle=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qy.apply(this,arguments)}function vle(t,e){return _le(t)||ble(t,e)||wle(t,e)||xle()}function xle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wle(t,e){if(t){if(typeof t=="string")return eM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eM(t,e)}}function eM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ble(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function _le(t){if(Array.isArray(t))return t}function Sle(t,e){if(t==null)return{};var r=Ele(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ele(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ale(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nF(n.key),n)}}function Tle(t,e,r){return e&&Cle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nle(t,e,r){return e=zy(e),Ole(t,tF()?Reflect.construct(e,r||[],zy(t).constructor):e.apply(t,r))}function Ole(t,e){if(e&&(df(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ile(t)}function Ile(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function zy(t){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(t)}function Ple(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hA(t,e)}function hA(t,e){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hA(t,e)}function rF(t,e,r){return e=nF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nF(t){var e=jle(t,"string");return df(e)=="symbol"?e:e+""}function jle(t,e){if(df(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var vv=(function(t){function e(){return Ale(this,e),Nle(this,e,arguments)}return Ple(e,t),Tle(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,u=n.dataKey,d=n.data,f=n.dataPointFormatter,g=n.xAxis,x=n.yAxis,_=Sle(n,yle),T=Ut(_,!1);this.props.direction==="x"&&g.type!=="number"&&pu();var N=d.map(function(E){var A=f(E,u),M=A.x,R=A.y,I=A.value,D=A.errorVal;if(!D)return null;var L=[],$,B;if(Array.isArray(D)){var z=vle(D,2);$=z[0],B=z[1]}else $=B=D;if(s==="vertical"){var H=g.scale,ce=R+i,K=ce+o,W=ce-o,Z=H(I-$),Q=H(I+B);L.push({x1:Q,y1:K,x2:Q,y2:W}),L.push({x1:Z,y1:ce,x2:Q,y2:ce}),L.push({x1:Z,y1:K,x2:Z,y2:W})}else if(s==="horizontal"){var Y=x.scale,J=M+i,te=J-o,ie=J+o,se=Y(I-$),me=Y(I+B);L.push({x1:te,y1:me,x2:ie,y2:me}),L.push({x1:J,y1:se,x2:J,y2:me}),L.push({x1:te,y1:se,x2:ie,y2:se})}return oe.createElement(Or,qy({className:"recharts-errorBar",key:"bar-".concat(L.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},T),L.map(function(ne){return oe.createElement("line",qy({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return oe.createElement(Or,{className:"recharts-errorBars"},N)}}])})(oe.Component);rF(vv,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});rF(vv,"displayName","ErrorBar");function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function tM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(r),!0).forEach(function(n){Rle(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rle(t,e,r){return e=kle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kle(t){var e=Mle(t,"string");return fm(e)=="symbol"?e:e+""}function Mle(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iF=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Ts(r,Fd);if(!o)return null;var u=Fd.defaultProps,d=u!==void 0?Lc(Lc({},u),o.props):{},f;return o.props&&o.props.payload?f=o.props&&o.props.payload:s==="children"?f=(n||[]).reduce(function(g,x){var _=x.item,T=x.props,N=T.sectors||T.data||[];return g.concat(N.map(function(E){return{type:o.props.iconType||_.props.legendType,value:E.name,color:E.fill,payload:E}}))},[]):f=(n||[]).map(function(g){var x=g.item,_=x.type.defaultProps,T=_!==void 0?Lc(Lc({},_),x.props):{},N=T.dataKey,E=T.name,A=T.legendType,M=T.hide;return{inactive:M,dataKey:N,type:d.iconType||A||"square",color:oN(x),value:E||N,payload:T}}),Lc(Lc(Lc({},d),Fd.getWithHeight(o,i)),{},{payload:f,item:o})};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}function rM(t){return Fle(t)||Ble(t)||Lle(t)||Dle()}function Dle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lle(t,e){if(t){if(typeof t=="string")return pA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(t,e)}}function Ble(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Fle(t){if(Array.isArray(t))return pA(t)}function pA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function An(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(r),!0).forEach(function(n){Ud(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ud(t,e,r){return e=$le(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $le(t){var e=Ule(t,"string");return hm(e)=="symbol"?e:e+""}function Ule(t,e){if(hm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bi(t,e,r){return ir(t)||ir(e)?r:Jn(e)?Ls(t,e,r):Gt(e)?e(t):r}function Ep(t,e,r,n){var i=Foe(t,function(u){return Bi(u,e)});if(r==="number"){var s=i.filter(function(u){return Je(u)||parseFloat(u)});return s.length?[pv(s),hv(s)]:[1/0,-1/0]}var o=n?i.filter(function(u){return!ir(u)}):i;return o.map(function(u){return Jn(u)||u instanceof Date?u:""})}var Vle=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,u=(r=n?.length)!==null&&r!==void 0?r:0;if(u<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var d=s.range,f=0;f<u;f++){var g=f>0?i[f-1].coordinate:i[u-1].coordinate,x=i[f].coordinate,_=f>=u-1?i[0].coordinate:i[f+1].coordinate,T=void 0;if(Ki(x-g)!==Ki(_-x)){var N=[];if(Ki(_-x)===Ki(d[1]-d[0])){T=_;var E=x+d[1]-d[0];N[0]=Math.min(E,(E+g)/2),N[1]=Math.max(E,(E+g)/2)}else{T=g;var A=_+d[1]-d[0];N[0]=Math.min(x,(A+x)/2),N[1]=Math.max(x,(A+x)/2)}var M=[Math.min(x,(T+x)/2),Math.max(x,(T+x)/2)];if(e>M[0]&&e<=M[1]||e>=N[0]&&e<=N[1]){o=i[f].index;break}}else{var R=Math.min(g,_),I=Math.max(g,_);if(e>(R+x)/2&&e<=(I+x)/2){o=i[f].index;break}}}else for(var D=0;D<u;D++)if(D===0&&e<=(n[D].coordinate+n[D+1].coordinate)/2||D>0&&D<u-1&&e>(n[D].coordinate+n[D-1].coordinate)/2&&e<=(n[D].coordinate+n[D+1].coordinate)/2||D===u-1&&e>(n[D].coordinate+n[D-1].coordinate)/2){o=n[D].index;break}return o},oN=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,o=s.stroke,u=s.fill,d;switch(i){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:u;break;default:d=u;break}return d},qle=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},u=Object.keys(s),d=0,f=u.length;d<f;d++)for(var g=s[u[d]].stackGroups,x=Object.keys(g),_=0,T=x.length;_<T;_++){var N=g[x[_]],E=N.items,A=N.cateAxisId,M=E.filter(function(B){return $o(B.type).indexOf("Bar")>=0});if(M&&M.length){var R=M[0].type.defaultProps,I=R!==void 0?An(An({},R),M[0].props):M[0].props,D=I.barSize,L=I[A];o[L]||(o[L]=[]);var $=ir(D)?r:D;o[L].push({item:M[0],stackList:M.slice(1),barSize:ir($)?void 0:Xi($,n,0)})}}return o},zle=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,u=e.maxBarSize,d=o.length;if(d<1)return null;var f=Xi(r,i,0,!0),g,x=[];if(o[0].barSize===+o[0].barSize){var _=!1,T=i/d,N=o.reduce(function(D,L){return D+L.barSize||0},0);N+=(d-1)*f,N>=i&&(N-=(d-1)*f,f=0),N>=i&&T>0&&(_=!0,T*=.9,N=d*T);var E=(i-N)/2>>0,A={offset:E-f,size:0};g=o.reduce(function(D,L){var $={item:L.item,position:{offset:A.offset+A.size+f,size:_?T:L.barSize}},B=[].concat(rM(D),[$]);return A=B[B.length-1].position,L.stackList&&L.stackList.length&&L.stackList.forEach(function(z){B.push({item:z,position:A})}),B},x)}else{var M=Xi(n,i,0,!0);i-2*M-(d-1)*f<=0&&(f=0);var R=(i-2*M-(d-1)*f)/d;R>1&&(R>>=0);var I=u===+u?Math.min(R,u):R;g=o.reduce(function(D,L,$){var B=[].concat(rM(D),[{item:L.item,position:{offset:M+(R+f)*$+(R-I)/2,size:I}}]);return L.stackList&&L.stackList.length&&L.stackList.forEach(function(z){B.push({item:z,position:B[B.length-1].position})}),B},x)}return g},Wle=function(e,r,n,i){var s=n.children,o=n.width,u=n.margin,d=o-(u.left||0)-(u.right||0),f=iF({children:s,legendWidth:d});if(f){var g=i||{},x=g.width,_=g.height,T=f.align,N=f.verticalAlign,E=f.layout;if((E==="vertical"||E==="horizontal"&&N==="middle")&&T!=="center"&&Je(e[T]))return An(An({},e),{},Ud({},T,e[T]+(x||0)));if((E==="horizontal"||E==="vertical"&&T==="center")&&N!=="middle"&&Je(e[N]))return An(An({},e),{},Ud({},N,e[N]+(_||0)))}return e},Hle=function(e,r,n){return ir(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},sF=function(e,r,n,i,s){var o=r.props.children,u=ia(o,vv).filter(function(f){return Hle(i,s,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return e.reduce(function(f,g){var x=Bi(g,n);if(ir(x))return f;var _=Array.isArray(x)?[pv(x),hv(x)]:[x,x],T=d.reduce(function(N,E){var A=Bi(g,E,0),M=_[0]-Math.abs(Array.isArray(A)?A[0]:A),R=_[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(M,N[0]),Math.max(R,N[1])]},[1/0,-1/0]);return[Math.min(T[0],f[0]),Math.max(T[1],f[1])]},[1/0,-1/0])}return null},Gle=function(e,r,n,i,s){var o=r.map(function(u){return sF(e,u,n,s,i)}).filter(function(u){return!ir(u)});return o&&o.length?o.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},aF=function(e,r,n,i,s){var o=r.map(function(d){var f=d.props.dataKey;return n==="number"&&f&&sF(e,d,f,i)||Ep(e,f,n,s)});if(n==="number")return o.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return o.reduce(function(d,f){for(var g=0,x=f.length;g<x;g++)u[f[g]]||(u[f[g]]=!0,d.push(f[g]));return d},[])},oF=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Qc=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,u=e.range,d=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/d:0;if(f=e.axisType==="angleAxis"&&u?.length>=2?Ki(u[0]-u[1])*2*f:f,r&&(e.ticks||e.niceTicks)){var g=(e.ticks||e.niceTicks).map(function(x){var _=s?s.indexOf(x):x;return{coordinate:i(_)+f,value:x,offset:f}});return g.filter(function(x){return!Gm(x.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(x,_){return{coordinate:i(x)+f,value:x,index:_,offset:f}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(x){return{coordinate:i(x)+f,value:x,offset:f}}):i.domain().map(function(x,_){return{coordinate:i(x)+f,value:s?s[x]:x,index:_,offset:f}})},uS=new WeakMap,N0=function(e,r){if(typeof r!="function")return e;uS.has(e)||uS.set(e,new WeakMap);var n=uS.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},lF=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,u=e.axisType;if(i==="auto")return o==="radial"&&u==="radiusAxis"?{scale:sm(),realScaleType:"band"}:o==="radial"&&u==="angleAxis"?{scale:By(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Sp(),realScaleType:"point"}:s==="category"?{scale:sm(),realScaleType:"band"}:{scale:By(),realScaleType:"linear"};if(uu(i)){var d="scale".concat(Q1(i));return{scale:(V4[d]||Sp)(),realScaleType:V4[d]?d:"point"}}return Gt(i)?{scale:i}:{scale:Sp(),realScaleType:"point"}},iM=1e-4,cF=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-iM,o=Math.max(i[0],i[1])+iM,u=e(r[0]),d=e(r[n-1]);(u<s||u>o||d<s||d>o)&&e.domain([r[0],r[n-1]])}},Kle=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Xle=function(e,r){if(!r||r.length!==2||!Je(r[0])||!Je(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Je(e[0])||e[0]<n)&&(s[0]=n),(!Je(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Yle=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,u=0;u<r;++u){var d=Gm(e[u][n][1])?e[u][n][0]:e[u][n][1];d>=0?(e[u][n][0]=s,e[u][n][1]=s+d,s=e[u][n][1]):(e[u][n][0]=o,e[u][n][1]=o+d,o=e[u][n][1])}},Zle=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var u=Gm(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},Qle={sign:Yle,expand:Fte,none:rf,silhouette:$te,wiggle:Ute,positive:Zle},Jle=function(e,r,n){var i=r.map(function(u){return u.props.dataKey}),s=Qle[n],o=Bte().keys(i).value(function(u,d){return+Bi(u,d,0)}).order(zE).offset(s);return o(e)},ece=function(e,r,n,i,s,o){if(!e)return null;var u=o?r.reverse():r,d={},f=u.reduce(function(x,_){var T,N=(T=_.type)!==null&&T!==void 0&&T.defaultProps?An(An({},_.type.defaultProps),_.props):_.props,E=N.stackId,A=N.hide;if(A)return x;var M=N[n],R=x[M]||{hasStack:!1,stackGroups:{}};if(Jn(E)){var I=R.stackGroups[E]||{numericAxisId:n,cateAxisId:i,items:[]};I.items.push(_),R.hasStack=!0,R.stackGroups[E]=I}else R.stackGroups[Km("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[_]};return An(An({},x),{},Ud({},M,R))},d),g={};return Object.keys(f).reduce(function(x,_){var T=f[_];if(T.hasStack){var N={};T.stackGroups=Object.keys(T.stackGroups).reduce(function(E,A){var M=T.stackGroups[A];return An(An({},E),{},Ud({},A,{numericAxisId:n,cateAxisId:i,items:M.items,stackedData:Jle(e,M.items,s)}))},N)}return An(An({},x),{},Ud({},_,T))},g)},uF=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,u=r.allowDecimals,d=n||r.scale;if(d!=="auto"&&d!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var f=e.domain();if(!f.length)return null;var g=ple(f,s,u);return e.domain([pv(g),hv(g)]),{niceTicks:g}}if(s&&i==="number"){var x=e.domain(),_=mle(x,s,u);return{niceTicks:_}}return null},sM=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,u=e.index;if(r.type==="category")return n[u]?n[u].coordinate+i:null;var d=Bi(o,r.dataKey,r.domain[u]);return ir(d)?null:r.scale(d)-s/2+i},tce=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},rce=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Jn(s)){var o=r[s];if(o){var u=o.items.indexOf(e);return u>=0?o.stackedData[u]:null}}return null},nce=function(e){return e.reduce(function(r,n){return[pv(n.concat([r[0]]).filter(Je)),hv(n.concat([r[1]]).filter(Je))]},[1/0,-1/0])},dF=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],u=o.stackedData,d=u.reduce(function(f,g){var x=nce(g.slice(r,n+1));return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],i[0]),Math.max(d[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},aM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mA=function(e,r,n){if(Gt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(Je(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(aM.test(e[0])){var s=+aM.exec(e[0])[1];i[0]=r[0]-s}else Gt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(Je(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(oM.test(e[1])){var o=+oM.exec(e[1])[1];i[1]=r[1]+o}else Gt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Wy=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=MT(r,function(x){return x.coordinate}),o=1/0,u=1,d=s.length;u<d;u++){var f=s[u],g=s[u-1];o=Math.min((f.coordinate||0)-(g.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},lM=function(e,r,n){return!e||!e.length||mv(e,Ls(n,"type.defaultProps.domain"))?r:e},fF=function(e,r){var n=e.type.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,u=n.formatter,d=n.tooltipType,f=n.chartType,g=n.hide;return An(An({},Ut(e,!1)),{},{dataKey:i,unit:o,formatter:u,name:s||i,color:oN(e),value:Bi(r,i),type:d,payload:r,chartType:f,hide:g})};function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function cM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(r),!0).forEach(function(n){hF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hF(t,e,r){return e=ice(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ice(t){var e=sce(t,"string");return pm(e)=="symbol"?e:e+""}function sce(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ace(t,e){return uce(t)||cce(t,e)||lce(t,e)||oce()}function oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t,e){if(t){if(typeof t=="string")return uM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uM(t,e)}}function uM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function uce(t){if(Array.isArray(t))return t}var Hy=Math.PI/180,dce=function(e){return e*180/Math.PI},Zr=function(e,r,n,i){return{x:e+Math.cos(-Hy*i)*n,y:r+Math.sin(-Hy*i)*n}},pF=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},fce=function(e,r,n,i,s){var o=e.width,u=e.height,d=e.startAngle,f=e.endAngle,g=Xi(e.cx,o,o/2),x=Xi(e.cy,u,u/2),_=pF(o,u,n),T=Xi(e.innerRadius,_,0),N=Xi(e.outerRadius,_,_*.8),E=Object.keys(r);return E.reduce(function(A,M){var R=r[M],I=R.domain,D=R.reversed,L;if(ir(R.range))i==="angleAxis"?L=[d,f]:i==="radiusAxis"&&(L=[T,N]),D&&(L=[L[1],L[0]]);else{L=R.range;var $=L,B=ace($,2);d=B[0],f=B[1]}var z=lF(R,s),H=z.realScaleType,ce=z.scale;ce.domain(I).range(L),cF(ce);var K=uF(ce,Mo(Mo({},R),{},{realScaleType:H})),W=Mo(Mo(Mo({},R),K),{},{range:L,radius:N,realScaleType:H,scale:ce,cx:g,cy:x,innerRadius:T,outerRadius:N,startAngle:d,endAngle:f});return Mo(Mo({},A),{},hF({},M,W))},{})},hce=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},pce=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,u=hce({x:n,y:i},{x:s,y:o});if(u<=0)return{radius:u};var d=(n-s)/u,f=Math.acos(d);return i>o&&(f=2*Math.PI-f),{radius:u,angle:dce(f),angleInRadian:f}},mce=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},gce=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),u=Math.min(s,o);return e+u*360},dM=function(e,r){var n=e.x,i=e.y,s=pce({x:n,y:i},r),o=s.radius,u=s.angle,d=r.innerRadius,f=r.outerRadius;if(o<d||o>f)return!1;if(o===0)return!0;var g=mce(r),x=g.startAngle,_=g.endAngle,T=u,N;if(x<=_){for(;T>_;)T-=360;for(;T<x;)T+=360;N=T>=x&&T<=_}else{for(;T>x;)T-=360;for(;T<_;)T+=360;N=T>=_&&T<=x}return N?Mo(Mo({},r),{},{radius:o,angle:gce(T,r)}):null},mF=function(e){return!j.isValidElement(e)&&!Gt(e)&&typeof e!="boolean"?e.className:""};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}var yce=["offset"];function vce(t){return _ce(t)||bce(t)||wce(t)||xce()}function xce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(t,e){if(t){if(typeof t=="string")return gA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(t,e)}}function bce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ce(t){if(Array.isArray(t))return gA(t)}function gA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Sce(t,e){if(t==null)return{};var r=Ece(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ece(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(r),!0).forEach(function(n){Ace(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ace(t,e,r){return e=Cce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cce(t){var e=Tce(t,"string");return mm(e)=="symbol"?e:e+""}function Tce(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(this,arguments)}var Nce=function(e){var r=e.value,n=e.formatter,i=ir(e.children)?r:e.children;return Gt(n)?n(i):i},Oce=function(e,r){var n=Ki(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Ice=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,u=e.className,d=s,f=d.cx,g=d.cy,x=d.innerRadius,_=d.outerRadius,T=d.startAngle,N=d.endAngle,E=d.clockWise,A=(x+_)/2,M=Oce(T,N),R=M>=0?1:-1,I,D;i==="insideStart"?(I=T+R*o,D=E):i==="insideEnd"?(I=N-R*o,D=!E):i==="end"&&(I=N+R*o,D=E),D=M<=0?D:!D;var L=Zr(f,g,A,I),$=Zr(f,g,A,I+(D?1:-1)*359),B="M".concat(L.x,",").concat(L.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(D?0:1,`,
    `).concat($.x,",").concat($.y),z=ir(e.id)?Km("recharts-radial-line-"):e.id;return oe.createElement("text",gm({},n,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",u)}),oe.createElement("defs",null,oe.createElement("path",{id:z,d:B})),oe.createElement("textPath",{xlinkHref:"#".concat(z)},r))},Pce=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,u=s.cy,d=s.innerRadius,f=s.outerRadius,g=s.startAngle,x=s.endAngle,_=(g+x)/2;if(i==="outside"){var T=Zr(o,u,f+n,_),N=T.x,E=T.y;return{x:N,y:E,textAnchor:N>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:u,textAnchor:"middle",verticalAnchor:"end"};var A=(d+f)/2,M=Zr(o,u,A,_),R=M.x,I=M.y;return{x:R,y:I,textAnchor:"middle",verticalAnchor:"middle"}},jce=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,u=o.x,d=o.y,f=o.width,g=o.height,x=g>=0?1:-1,_=x*i,T=x>0?"end":"start",N=x>0?"start":"end",E=f>=0?1:-1,A=E*i,M=E>0?"end":"start",R=E>0?"start":"end";if(s==="top"){var I={x:u+f/2,y:d-x*i,textAnchor:"middle",verticalAnchor:T};return Xn(Xn({},I),n?{height:Math.max(d-n.y,0),width:f}:{})}if(s==="bottom"){var D={x:u+f/2,y:d+g+_,textAnchor:"middle",verticalAnchor:N};return Xn(Xn({},D),n?{height:Math.max(n.y+n.height-(d+g),0),width:f}:{})}if(s==="left"){var L={x:u-A,y:d+g/2,textAnchor:M,verticalAnchor:"middle"};return Xn(Xn({},L),n?{width:Math.max(L.x-n.x,0),height:g}:{})}if(s==="right"){var $={x:u+f+A,y:d+g/2,textAnchor:R,verticalAnchor:"middle"};return Xn(Xn({},$),n?{width:Math.max(n.x+n.width-$.x,0),height:g}:{})}var B=n?{width:f,height:g}:{};return s==="insideLeft"?Xn({x:u+A,y:d+g/2,textAnchor:R,verticalAnchor:"middle"},B):s==="insideRight"?Xn({x:u+f-A,y:d+g/2,textAnchor:M,verticalAnchor:"middle"},B):s==="insideTop"?Xn({x:u+f/2,y:d+_,textAnchor:"middle",verticalAnchor:N},B):s==="insideBottom"?Xn({x:u+f/2,y:d+g-_,textAnchor:"middle",verticalAnchor:T},B):s==="insideTopLeft"?Xn({x:u+A,y:d+_,textAnchor:R,verticalAnchor:N},B):s==="insideTopRight"?Xn({x:u+f-A,y:d+_,textAnchor:M,verticalAnchor:N},B):s==="insideBottomLeft"?Xn({x:u+A,y:d+g-_,textAnchor:R,verticalAnchor:T},B):s==="insideBottomRight"?Xn({x:u+f-A,y:d+g-_,textAnchor:M,verticalAnchor:T},B):Gf(s)&&(Je(s.x)||Xc(s.x))&&(Je(s.y)||Xc(s.y))?Xn({x:u+Xi(s.x,f),y:d+Xi(s.y,g),textAnchor:"end",verticalAnchor:"end"},B):Xn({x:u+f/2,y:d+g/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Rce=function(e){return"cx"in e&&Je(e.cx)};function ui(t){var e=t.offset,r=e===void 0?5:e,n=Sce(t,yce),i=Xn({offset:r},n),s=i.viewBox,o=i.position,u=i.value,d=i.children,f=i.content,g=i.className,x=g===void 0?"":g,_=i.textBreakAll;if(!s||ir(u)&&ir(d)&&!j.isValidElement(f)&&!Gt(f))return null;if(j.isValidElement(f))return j.cloneElement(f,i);var T;if(Gt(f)){if(T=j.createElement(f,i),j.isValidElement(T))return T}else T=Nce(i);var N=Rce(s),E=Ut(i,!0);if(N&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Ice(i,T,E);var A=N?Pce(i):jce(i);return oe.createElement(fu,gm({className:Qt("recharts-label",x)},E,A,{breakAll:_}),T)}ui.displayName="Label";var gF=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,u=e.r,d=e.radius,f=e.innerRadius,g=e.outerRadius,x=e.x,_=e.y,T=e.top,N=e.left,E=e.width,A=e.height,M=e.clockWise,R=e.labelViewBox;if(R)return R;if(Je(E)&&Je(A)){if(Je(x)&&Je(_))return{x,y:_,width:E,height:A};if(Je(T)&&Je(N))return{x:T,y:N,width:E,height:A}}return Je(x)&&Je(_)?{x,y:_,width:0,height:0}:Je(r)&&Je(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:f||0,outerRadius:g||d||u||0,clockWise:M}:e.viewBox?e.viewBox:{}},kce=function(e,r){return e?e===!0?oe.createElement(ui,{key:"label-implicit",viewBox:r}):Jn(e)?oe.createElement(ui,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===ui?j.cloneElement(e,{key:"label-implicit",viewBox:r}):oe.createElement(ui,{key:"label-implicit",content:e,viewBox:r}):Gt(e)?oe.createElement(ui,{key:"label-implicit",content:e,viewBox:r}):Gf(e)?oe.createElement(ui,gm({viewBox:r},e,{key:"label-implicit"})):null:null},Mce=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=gF(e),o=ia(i,ui).map(function(d,f){return j.cloneElement(d,{viewBox:r||s,key:"label-".concat(f)})});if(!n)return o;var u=kce(e.label,r||s);return[u].concat(vce(o))};ui.parseViewBox=gF;ui.renderCallByParent=Mce;var dS,hM;function Dce(){if(hM)return dS;hM=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return dS=t,dS}var Lce=Dce();const Bce=Ar(Lce);function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}var Fce=["valueAccessor"],$ce=["data","dataKey","clockWise","id","textBreakAll"];function Uce(t){return Wce(t)||zce(t)||qce(t)||Vce()}function Vce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qce(t,e){if(t){if(typeof t=="string")return yA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yA(t,e)}}function zce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wce(t){if(Array.isArray(t))return yA(t)}function yA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gy(){return Gy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gy.apply(this,arguments)}function pM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(r),!0).forEach(function(n){Hce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hce(t,e,r){return e=Gce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gce(t){var e=Kce(t,"string");return ym(e)=="symbol"?e:e+""}function Kce(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gM(t,e){if(t==null)return{};var r=Xce(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Xce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Yce=function(e){return Array.isArray(e.value)?Bce(e.value):e.value};function zl(t){var e=t.valueAccessor,r=e===void 0?Yce:e,n=gM(t,Fce),i=n.data,s=n.dataKey,o=n.clockWise,u=n.id,d=n.textBreakAll,f=gM(n,$ce);return!i||!i.length?null:oe.createElement(Or,{className:"recharts-label-list"},i.map(function(g,x){var _=ir(s)?r(g,x):Bi(g&&g.payload,s),T=ir(u)?{}:{id:"".concat(u,"-").concat(x)};return oe.createElement(ui,Gy({},Ut(g,!0),f,T,{parentViewBox:g.parentViewBox,value:_,textBreakAll:d,viewBox:ui.parseViewBox(ir(o)?g:mM(mM({},g),{},{clockWise:o})),key:"label-".concat(x),index:x}))}))}zl.displayName="LabelList";function Zce(t,e){return t?t===!0?oe.createElement(zl,{key:"labelList-implicit",data:e}):oe.isValidElement(t)||Gt(t)?oe.createElement(zl,{key:"labelList-implicit",data:e,content:t}):Gf(t)?oe.createElement(zl,Gy({data:e},t,{key:"labelList-implicit"})):null:null}function Qce(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ia(n,zl).map(function(o,u){return j.cloneElement(o,{data:e,key:"labelList-".concat(u)})});if(!r)return i;var s=Zce(t.label,e);return[s].concat(Uce(i))}zl.renderCallByParent=Qce;function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vA.apply(this,arguments)}function yM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(r),!0).forEach(function(n){Jce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jce(t,e,r){return e=eue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eue(t){var e=tue(t,"string");return vm(e)=="symbol"?e:e+""}function tue(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rue=function(e,r){var n=Ki(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},O0=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,u=e.isExternal,d=e.cornerRadius,f=e.cornerIsExternal,g=d*(u?1:-1)+i,x=Math.asin(d/g)/Hy,_=f?s:s+o*x,T=Zr(r,n,g,_),N=Zr(r,n,i,_),E=f?s-o*x:s,A=Zr(r,n,g*Math.cos(x*Hy),E);return{center:T,circleTangency:N,lineTangency:A,theta:x}},yF=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,u=e.endAngle,d=rue(o,u),f=o+d,g=Zr(r,n,s,o),x=Zr(r,n,s,f),_="M ".concat(g.x,",").concat(g.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>f),`,
    `).concat(x.x,",").concat(x.y,`
  `);if(i>0){var T=Zr(r,n,i,o),N=Zr(r,n,i,f);_+="L ".concat(N.x,",").concat(N.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=f),`,
            `).concat(T.x,",").concat(T.y," Z")}else _+="L ".concat(r,",").concat(n," Z");return _},nue=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,u=e.forceCornerRadius,d=e.cornerIsExternal,f=e.startAngle,g=e.endAngle,x=Ki(g-f),_=O0({cx:r,cy:n,radius:s,angle:f,sign:x,cornerRadius:o,cornerIsExternal:d}),T=_.circleTangency,N=_.lineTangency,E=_.theta,A=O0({cx:r,cy:n,radius:s,angle:g,sign:-x,cornerRadius:o,cornerIsExternal:d}),M=A.circleTangency,R=A.lineTangency,I=A.theta,D=d?Math.abs(f-g):Math.abs(f-g)-E-I;if(D<0)return u?"M ".concat(N.x,",").concat(N.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):yF({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:f,endAngle:g});var L="M ".concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(x<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(D>180),",").concat(+(x<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(x<0),",").concat(R.x,",").concat(R.y,`
  `);if(i>0){var $=O0({cx:r,cy:n,radius:i,angle:f,sign:x,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),B=$.circleTangency,z=$.lineTangency,H=$.theta,ce=O0({cx:r,cy:n,radius:i,angle:g,sign:-x,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),K=ce.circleTangency,W=ce.lineTangency,Z=ce.theta,Q=d?Math.abs(f-g):Math.abs(f-g)-H-Z;if(Q<0&&o===0)return"".concat(L,"L").concat(r,",").concat(n,"Z");L+="L".concat(W.x,",").concat(W.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(x<0),",").concat(K.x,",").concat(K.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(x>0),",").concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(x<0),",").concat(z.x,",").concat(z.y,"Z")}else L+="L".concat(r,",").concat(n,"Z");return L},iue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},vF=function(e){var r=vM(vM({},iue),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,u=r.cornerRadius,d=r.forceCornerRadius,f=r.cornerIsExternal,g=r.startAngle,x=r.endAngle,_=r.className;if(o<s||g===x)return null;var T=Qt("recharts-sector",_),N=o-s,E=Xi(u,N,0,!0),A;return E>0&&Math.abs(g-x)<360?A=nue({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(E,N/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:g,endAngle:x}):A=yF({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:g,endAngle:x}),oe.createElement("path",vA({},Ut(r,!0),{className:T,d:A,role:"img"}))};function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xA.apply(this,arguments)}function xM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(r),!0).forEach(function(n){sue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sue(t,e,r){return e=aue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aue(t){var e=oue(t,"string");return xm(e)=="symbol"?e:e+""}function oue(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bM={curveBasisClosed:Tte,curveBasisOpen:Nte,curveBasis:Cte,curveBumpX:fte,curveBumpY:hte,curveLinearClosed:Ote,curveLinear:ev,curveMonotoneX:Ite,curveMonotoneY:Pte,curveNatural:jte,curveStep:Rte,curveStepAfter:Mte,curveStepBefore:kte},I0=function(e){return e.x===+e.x&&e.y===+e.y},ep=function(e){return e.x},tp=function(e){return e.y},lue=function(e,r){if(Gt(e))return e;var n="curve".concat(Q1(e));return(n==="curveMonotone"||n==="curveBump")&&r?bM["".concat(n).concat(r==="vertical"?"Y":"X")]:bM[n]||ev},cue=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,u=e.layout,d=e.connectNulls,f=d===void 0?!1:d,g=lue(n,u),x=f?s.filter(function(E){return I0(E)}):s,_;if(Array.isArray(o)){var T=f?o.filter(function(E){return I0(E)}):o,N=x.map(function(E,A){return wM(wM({},E),{},{base:T[A]})});return u==="vertical"?_=b0().y(tp).x1(ep).x0(function(E){return E.base.x}):_=b0().x(ep).y1(tp).y0(function(E){return E.base.y}),_.defined(I0).curve(g),_(N)}return u==="vertical"&&Je(o)?_=b0().y(tp).x1(ep).x0(o):Je(o)?_=b0().x(ep).y1(tp).y0(o):_=g7().x(ep).y(tp),_.defined(I0).curve(g),_(x)},wA=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?cue(e):i;return j.createElement("path",xA({},Ut(e,!1),by(e),{className:Qt("recharts-curve",r),d:o,ref:s}))},fS={exports:{}},hS,_M;function uue(){if(_M)return hS;_M=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hS=t,hS}var pS,SM;function due(){if(SM)return pS;SM=1;var t=uue();function e(){}function r(){}return r.resetWarningCache=e,pS=function(){function n(o,u,d,f,g,x){if(x!==t){var _=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw _.name="Invariant Violation",_}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},pS}var EM;function fue(){return EM||(EM=1,fS.exports=due()()),fS.exports}var hue=fue();const Sr=Ar(hue);var pue=Object.getOwnPropertyNames,mue=Object.getOwnPropertySymbols,gue=Object.prototype.hasOwnProperty;function AM(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function P0(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),u=s.get(n);if(o&&u)return o===n&&u===r;s.set(r,n),s.set(n,r);var d=t(r,n,i);return s.delete(r),s.delete(n),d}}function CM(t){return pue(t).concat(mue(t))}var yue=Object.hasOwn||(function(t,e){return gue.call(t,e)});function Cu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var vue="__v",xue="__o",wue="_owner",TM=Object.getOwnPropertyDescriptor,NM=Object.keys;function bue(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function _ue(t,e){return Cu(t.getTime(),e.getTime())}function Sue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function Eue(t,e){return t===e}function OM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,u,d=0;(o=s.next())&&!o.done;){for(var f=e.entries(),g=!1,x=0;(u=f.next())&&!u.done;){if(i[x]){x++;continue}var _=o.value,T=u.value;if(r.equals(_[0],T[0],d,x,t,e,r)&&r.equals(_[1],T[1],_[0],T[0],t,e,r)){g=i[x]=!0;break}x++}if(!g)return!1;d++}return!0}var Aue=Cu;function Cue(t,e,r){var n=NM(t),i=n.length;if(NM(e).length!==i)return!1;for(;i-- >0;)if(!xF(t,e,r,n[i]))return!1;return!0}function rp(t,e,r){var n=CM(t),i=n.length;if(CM(e).length!==i)return!1;for(var s,o,u;i-- >0;)if(s=n[i],!xF(t,e,r,s)||(o=TM(t,s),u=TM(e,s),(o||u)&&(!o||!u||o.configurable!==u.configurable||o.enumerable!==u.enumerable||o.writable!==u.writable)))return!1;return!0}function Tue(t,e){return Cu(t.valueOf(),e.valueOf())}function Nue(t,e){return t.source===e.source&&t.flags===e.flags}function IM(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,u;(o=s.next())&&!o.done;){for(var d=e.values(),f=!1,g=0;(u=d.next())&&!u.done;){if(!i[g]&&r.equals(o.value,u.value,o.value,u.value,t,e,r)){f=i[g]=!0;break}g++}if(!f)return!1}return!0}function Oue(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Iue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xF(t,e,r,n){return(n===wue||n===xue||n===vue)&&(t.$$typeof||e.$$typeof)?!0:yue(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Pue="[object Arguments]",jue="[object Boolean]",Rue="[object Date]",kue="[object Error]",Mue="[object Map]",Due="[object Number]",Lue="[object Object]",Bue="[object RegExp]",Fue="[object Set]",$ue="[object String]",Uue="[object URL]",Vue=Array.isArray,PM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jM=Object.assign,que=Object.prototype.toString.call.bind(Object.prototype.toString);function zue(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,u=t.areObjectsEqual,d=t.arePrimitiveWrappersEqual,f=t.areRegExpsEqual,g=t.areSetsEqual,x=t.areTypedArraysEqual,_=t.areUrlsEqual;return function(N,E,A){if(N===E)return!0;if(N==null||E==null)return!1;var M=typeof N;if(M!==typeof E)return!1;if(M!=="object")return M==="number"?o(N,E,A):M==="function"?i(N,E,A):!1;var R=N.constructor;if(R!==E.constructor)return!1;if(R===Object)return u(N,E,A);if(Vue(N))return e(N,E,A);if(PM!=null&&PM(N))return x(N,E,A);if(R===Date)return r(N,E,A);if(R===RegExp)return f(N,E,A);if(R===Map)return s(N,E,A);if(R===Set)return g(N,E,A);var I=que(N);return I===Rue?r(N,E,A):I===Bue?f(N,E,A):I===Mue?s(N,E,A):I===Fue?g(N,E,A):I===Lue?typeof N.then!="function"&&typeof E.then!="function"&&u(N,E,A):I===Uue?_(N,E,A):I===kue?n(N,E,A):I===Pue?u(N,E,A):I===jue||I===Due||I===$ue?d(N,E,A):!1}}function Wue(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?rp:bue,areDatesEqual:_ue,areErrorsEqual:Sue,areFunctionsEqual:Eue,areMapsEqual:n?AM(OM,rp):OM,areNumbersEqual:Aue,areObjectsEqual:n?rp:Cue,arePrimitiveWrappersEqual:Tue,areRegExpsEqual:Nue,areSetsEqual:n?AM(IM,rp):IM,areTypedArraysEqual:n?rp:Oue,areUrlsEqual:Iue};if(r&&(i=jM({},i,r(i))),e){var s=P0(i.areArraysEqual),o=P0(i.areMapsEqual),u=P0(i.areObjectsEqual),d=P0(i.areSetsEqual);i=jM({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:u,areSetsEqual:d})}return i}function Hue(t){return function(e,r,n,i,s,o,u){return t(e,r,u)}}function Gue(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(d,f){var g=n(),x=g.cache,_=x===void 0?e?new WeakMap:void 0:x,T=g.meta;return r(d,f,{cache:_,equals:i,meta:T,strict:s})};if(e)return function(d,f){return r(d,f,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(d,f){return r(d,f,o)}}var Kue=nc();nc({strict:!0});nc({circular:!0});nc({circular:!0,strict:!0});nc({createInternalComparator:function(){return Cu}});nc({strict:!0,createInternalComparator:function(){return Cu}});nc({circular:!0,createInternalComparator:function(){return Cu}});nc({circular:!0,createInternalComparator:function(){return Cu},strict:!0});function nc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,u=Wue(t),d=zue(u),f=n?n(d):Hue(d);return Gue({circular:r,comparator:d,createState:i,equals:f,strict:o})}function Xue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function RM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Xue(i)};requestAnimationFrame(n)}function bA(t){"@babel/helpers - typeof";return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bA(t)}function Yue(t){return ede(t)||Jue(t)||Que(t)||Zue()}function Zue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(t,e){if(t){if(typeof t=="string")return kM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kM(t,e)}}function kM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Jue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ede(t){if(Array.isArray(t))return t}function tde(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,u=Yue(o),d=u[0],f=u.slice(1);if(typeof d=="number"){RM(i.bind(null,f),d);return}i(d),RM(i.bind(null,f));return}bA(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function MM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MM(Object(r),!0).forEach(function(n){wF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wF(t,e,r){return e=rde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rde(t){var e=nde(t,"string");return wm(e)==="symbol"?e:String(e)}function nde(t,e){if(wm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ide=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},sde=function(e){return e},ade=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ap=function(e,r){return Object.keys(r).reduce(function(n,i){return DM(DM({},n),{},wF({},i,e(i,r[i])))},{})},LM=function(e,r,n){return e.map(function(i){return"".concat(ade(i)," ").concat(r,"ms ").concat(n)}).join(",")};function ode(t,e){return ude(t)||cde(t,e)||bF(t,e)||lde()}function lde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function ude(t){if(Array.isArray(t))return t}function dde(t){return pde(t)||hde(t)||bF(t)||fde()}function fde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bF(t,e){if(t){if(typeof t=="string")return _A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _A(t,e)}}function hde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function pde(t){if(Array.isArray(t))return _A(t)}function _A(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ky=1e-4,_F=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},SF=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},BM=function(e,r){return function(n){var i=_F(e,r);return SF(i,n)}},mde=function(e,r){return function(n){var i=_F(e,r),s=[].concat(dde(i.map(function(o,u){return o*u}).slice(1)),[0]);return SF(s,n)}},FM=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],u=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,u=1;break;case"ease":i=.25,s=.1,o=.25,u=1;break;case"ease-in":i=.42,s=0,o=1,u=1;break;case"ease-out":i=.42,s=0,o=.58,u=1;break;case"ease-in-out":i=0,s=0,o=.58,u=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),g=ode(f,4);i=g[0],s=g[1],o=g[2],u=g[3]}}}var x=BM(i,o),_=BM(s,u),T=mde(i,o),N=function(M){return M>1?1:M<0?0:M},E=function(M){for(var R=M>1?1:M,I=R,D=0;D<8;++D){var L=x(I)-R,$=T(I);if(Math.abs(L-R)<Ky||$<Ky)return _(I);I=N(I-L/$)}return _(I)};return E.isStepper=!1,E},gde=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,u=o===void 0?17:o,d=function(g,x,_){var T=-(g-x)*n,N=_*s,E=_+(T-N)*u/1e3,A=_*u/1e3+g;return Math.abs(A-x)<Ky&&Math.abs(E)<Ky?[x,0]:[A,E]};return d.isStepper=!0,d.dt=u,d},yde=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FM(i);case"spring":return gde();default:if(i.split("(")[0]==="cubic-bezier")return FM(i)}return typeof i=="function"?i:null};function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function $M(t){return wde(t)||xde(t)||EF(t)||vde()}function vde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wde(t){if(Array.isArray(t))return EA(t)}function UM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(r),!0).forEach(function(n){SA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SA(t,e,r){return e=bde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bde(t){var e=_de(t,"string");return bm(e)==="symbol"?e:String(e)}function _de(t,e){if(bm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sde(t,e){return Cde(t)||Ade(t,e)||EF(t,e)||Ede()}function Ede(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EF(t,e){if(t){if(typeof t=="string")return EA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EA(t,e)}}function EA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ade(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Cde(t){if(Array.isArray(t))return t}var Xy=function(e,r,n){return e+(r-e)*n},AA=function(e){var r=e.from,n=e.to;return r!==n},Tde=function t(e,r,n){var i=Ap(function(s,o){if(AA(o)){var u=e(o.from,o.to,o.velocity),d=Sde(u,2),f=d[0],g=d[1];return Ci(Ci({},o),{},{from:f,velocity:g})}return o},r);return n<1?Ap(function(s,o){return AA(o)?Ci(Ci({},o),{},{velocity:Xy(o.velocity,i[s].velocity,n),from:Xy(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const Nde=(function(t,e,r,n,i){var s=ide(t,e),o=s.reduce(function(A,M){return Ci(Ci({},A),{},SA({},M,[t[M],e[M]]))},{}),u=s.reduce(function(A,M){return Ci(Ci({},A),{},SA({},M,{from:t[M],velocity:0,to:e[M]}))},{}),d=-1,f,g,x=function(){return null},_=function(){return Ap(function(M,R){return R.from},u)},T=function(){return!Object.values(u).filter(AA).length},N=function(M){f||(f=M);var R=M-f,I=R/r.dt;u=Tde(r,u,I),i(Ci(Ci(Ci({},t),e),_())),f=M,T()||(d=requestAnimationFrame(x))},E=function(M){g||(g=M);var R=(M-g)/n,I=Ap(function(L,$){return Xy.apply(void 0,$M($).concat([r(R)]))},o);if(i(Ci(Ci(Ci({},t),e),I)),R<1)d=requestAnimationFrame(x);else{var D=Ap(function(L,$){return Xy.apply(void 0,$M($).concat([r(1)]))},o);i(Ci(Ci(Ci({},t),e),D))}};return x=r.isStepper?N:E,function(){return requestAnimationFrame(x),function(){cancelAnimationFrame(d)}}});function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}var Ode=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ide(t,e){if(t==null)return{};var r=Pde(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pde(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function mS(t){return Mde(t)||kde(t)||Rde(t)||jde()}function jde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rde(t,e){if(t){if(typeof t=="string")return CA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(t,e)}}function kde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mde(t){if(Array.isArray(t))return CA(t)}function CA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(r),!0).forEach(function(n){fp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fp(t,e,r){return e=AF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lde(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AF(n.key),n)}}function Bde(t,e,r){return e&&Lde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AF(t){var e=Fde(t,"string");return ff(e)==="symbol"?e:String(e)}function Fde(t,e){if(ff(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ff(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $de(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},TA(t,e)}function Ude(t){var e=Vde();return function(){var n=Yy(t),i;if(e){var s=Yy(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return NA(this,i)}}function NA(t,e){if(e&&(ff(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OA(t)}function OA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vde(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yy(t){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(t)}var Yo=(function(t){$de(r,t);var e=Ude(r);function r(n,i){var s;Dde(this,r),s=e.call(this,n,i);var o=s.props,u=o.isActive,d=o.attributeName,f=o.from,g=o.to,x=o.steps,_=o.children,T=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(OA(s)),s.changeStyle=s.changeStyle.bind(OA(s)),!u||T<=0)return s.state={style:{}},typeof _=="function"&&(s.state={style:g}),NA(s);if(x&&x.length)s.state={style:x[0].style};else if(f){if(typeof _=="function")return s.state={style:f},NA(s);s.state={style:d?fp({},d,f):f}}else s.state={style:{}};return s}return Bde(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,u=s.canBegin,d=s.attributeName,f=s.shouldReAnimate,g=s.to,x=s.from,_=this.state.style;if(u){if(!o){var T={style:d?fp({},d,g):g};this.state&&_&&(d&&_[d]!==g||!d&&_!==g)&&this.setState(T);return}if(!(Kue(i.to,g)&&i.canBegin&&i.isActive)){var N=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var E=N||f?x:i.to;if(this.state&&_){var A={style:d?fp({},d,E):E};(d&&_[d]!==E||!d&&_!==E)&&this.setState(A)}this.runAnimation(va(va({},this.props),{},{from:E,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,u=i.to,d=i.duration,f=i.easing,g=i.begin,x=i.onAnimationEnd,_=i.onAnimationStart,T=Nde(o,u,yde(f),d,this.changeStyle),N=function(){s.stopJSAnimation=T()};this.manager.start([_,g,N,d,x])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,u=i.begin,d=i.onAnimationStart,f=o[0],g=f.style,x=f.duration,_=x===void 0?0:x,T=function(E,A,M){if(M===0)return E;var R=A.duration,I=A.easing,D=I===void 0?"ease":I,L=A.style,$=A.properties,B=A.onAnimationEnd,z=M>0?o[M-1]:A,H=$||Object.keys(L);if(typeof D=="function"||D==="spring")return[].concat(mS(E),[s.runJSAnimation.bind(s,{from:z.style,to:L,duration:R,easing:D}),R]);var ce=LM(H,R,D),K=va(va(va({},z.style),L),{},{transition:ce});return[].concat(mS(E),[K,R,B]).filter(sde)};return this.manager.start([d].concat(mS(o.reduce(T,[g,Math.max(_,u)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=tde());var s=i.begin,o=i.duration,u=i.attributeName,d=i.to,f=i.easing,g=i.onAnimationStart,x=i.onAnimationEnd,_=i.steps,T=i.children,N=this.manager;if(this.unSubscribe=N.subscribe(this.handleStyleChange),typeof f=="function"||typeof T=="function"||f==="spring"){this.runJSAnimation(i);return}if(_.length>1){this.runStepAnimation(i);return}var E=u?fp({},u,d):d,A=LM(Object.keys(E),o,f);N.start([g,s,va(va({},E),{},{transition:A}),o,x])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var u=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var d=Ide(i,Ode),f=j.Children.count(s),g=this.state.style;if(typeof s=="function")return s(g);if(!u||f===0||o<=0)return s;var x=function(T){var N=T.props,E=N.style,A=E===void 0?{}:E,M=N.className,R=j.cloneElement(T,va(va({},d),{},{style:va(va({},A),g),className:M}));return R};return f===1?x(j.Children.only(s)):oe.createElement("div",null,j.Children.map(s,function(_){return x(_)}))}}]),r})(j.PureComponent);Yo.displayName="Animate";Yo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yo.propTypes={from:Sr.oneOfType([Sr.object,Sr.string]),to:Sr.oneOfType([Sr.object,Sr.string]),attributeName:Sr.string,duration:Sr.number,begin:Sr.number,easing:Sr.oneOfType([Sr.string,Sr.func]),steps:Sr.arrayOf(Sr.shape({duration:Sr.number.isRequired,style:Sr.object.isRequired,easing:Sr.oneOfType([Sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Sr.func]),properties:Sr.arrayOf("string"),onAnimationEnd:Sr.func})),children:Sr.oneOfType([Sr.node,Sr.func]),isActive:Sr.bool,canBegin:Sr.bool,onAnimationEnd:Sr.func,shouldReAnimate:Sr.bool,onAnimationStart:Sr.func,onAnimationReStart:Sr.func};function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zy.apply(this,arguments)}function qde(t,e){return Gde(t)||Hde(t,e)||Wde(t,e)||zde()}function zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wde(t,e){if(t){if(typeof t=="string")return qM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(t,e)}}function qM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hde(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Gde(t){if(Array.isArray(t))return t}function zM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zM(Object(r),!0).forEach(function(n){Kde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kde(t,e,r){return e=Xde(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xde(t){var e=Yde(t,"string");return _m(e)=="symbol"?e:e+""}function Yde(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HM=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),u=i>=0?1:-1,d=n>=0?1:-1,f=i>=0&&n>=0||i<0&&n<0?1:0,g;if(o>0&&s instanceof Array){for(var x=[0,0,0,0],_=0,T=4;_<T;_++)x[_]=s[_]>o?o:s[_];g="M".concat(e,",").concat(r+u*x[0]),x[0]>0&&(g+="A ".concat(x[0],",").concat(x[0],",0,0,").concat(f,",").concat(e+d*x[0],",").concat(r)),g+="L ".concat(e+n-d*x[1],",").concat(r),x[1]>0&&(g+="A ".concat(x[1],",").concat(x[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(r+u*x[1])),g+="L ".concat(e+n,",").concat(r+i-u*x[2]),x[2]>0&&(g+="A ".concat(x[2],",").concat(x[2],",0,0,").concat(f,`,
        `).concat(e+n-d*x[2],",").concat(r+i)),g+="L ".concat(e+d*x[3],",").concat(r+i),x[3]>0&&(g+="A ".concat(x[3],",").concat(x[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(r+i-u*x[3])),g+="Z"}else if(o>0&&s===+s&&s>0){var N=Math.min(o,s);g="M ".concat(e,",").concat(r+u*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+d*N,",").concat(r,`
            L `).concat(e+n-d*N,",").concat(r,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+n,",").concat(r+u*N,`
            L `).concat(e+n,",").concat(r+i-u*N,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e+n-d*N,",").concat(r+i,`
            L `).concat(e+d*N,",").concat(r+i,`
            A `).concat(N,",").concat(N,",0,0,").concat(f,",").concat(e,",").concat(r+i-u*N," Z")}else g="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return g},Zde=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,u=r.width,d=r.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(s,s+u),g=Math.max(s,s+u),x=Math.min(o,o+d),_=Math.max(o,o+d);return n>=f&&n<=g&&i>=x&&i<=_}return!1},Qde={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lN=function(e){var r=WM(WM({},Qde),e),n=j.useRef(),i=j.useState(-1),s=qde(i,2),o=s[0],u=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var D=n.current.getTotalLength();D&&u(D)}catch{}},[]);var d=r.x,f=r.y,g=r.width,x=r.height,_=r.radius,T=r.className,N=r.animationEasing,E=r.animationDuration,A=r.animationBegin,M=r.isAnimationActive,R=r.isUpdateAnimationActive;if(d!==+d||f!==+f||g!==+g||x!==+x||g===0||x===0)return null;var I=Qt("recharts-rectangle",T);return R?oe.createElement(Yo,{canBegin:o>0,from:{width:g,height:x,x:d,y:f},to:{width:g,height:x,x:d,y:f},duration:E,animationEasing:N,isActive:R},function(D){var L=D.width,$=D.height,B=D.x,z=D.y;return oe.createElement(Yo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:E,isActive:M,easing:N},oe.createElement("path",Zy({},Ut(r,!0),{className:I,d:HM(B,z,L,$,_),ref:n})))}):oe.createElement("path",Zy({},Ut(r,!0),{className:I,d:HM(d,f,g,x,_)}))},Jde=["points","className","baseLinePoints","connectNulls"];function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Td.apply(this,arguments)}function efe(t,e){if(t==null)return{};var r=tfe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function GM(t){return sfe(t)||ife(t)||nfe(t)||rfe()}function rfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nfe(t,e){if(t){if(typeof t=="string")return IA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(t,e)}}function ife(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sfe(t){if(Array.isArray(t))return IA(t)}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var KM=function(e){return e&&e.x===+e.x&&e.y===+e.y},afe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){KM(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),KM(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Cp=function(e,r){var n=afe(e);r&&(n=[n.reduce(function(s,o){return[].concat(GM(s),GM(o))},[])]);var i=n.map(function(s){return s.reduce(function(o,u,d){return"".concat(o).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},ofe=function(e,r,n){var i=Cp(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Cp(r.reverse(),n).slice(1))},lfe=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,o=efe(e,Jde);if(!r||!r.length)return null;var u=Qt("recharts-polygon",n);if(i&&i.length){var d=o.stroke&&o.stroke!=="none",f=ofe(r,i,s);return oe.createElement("g",{className:u},oe.createElement("path",Td({},Ut(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:f})),d?oe.createElement("path",Td({},Ut(o,!0),{fill:"none",d:Cp(r,s)})):null,d?oe.createElement("path",Td({},Ut(o,!0),{fill:"none",d:Cp(i,s)})):null)}var g=Cp(r,s);return oe.createElement("path",Td({},Ut(o,!0),{fill:g.slice(-1)==="Z"?o.fill:"none",className:u,d:g}))};function PA(){return PA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PA.apply(this,arguments)}var cN=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=Qt("recharts-dot",s);return r===+r&&n===+n&&i===+i?j.createElement("circle",PA({},Ut(e,!1),by(e),{className:o,cx:r,cy:n,r:i})):null};function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}var cfe=["x","y","top","left","width","height","className"];function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jA.apply(this,arguments)}function XM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ufe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(r),!0).forEach(function(n){dfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dfe(t,e,r){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ffe(t){var e=hfe(t,"string");return Sm(e)=="symbol"?e:e+""}function hfe(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pfe(t,e){if(t==null)return{};var r=mfe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gfe=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},yfe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,u=o===void 0?0:o,d=e.left,f=d===void 0?0:d,g=e.width,x=g===void 0?0:g,_=e.height,T=_===void 0?0:_,N=e.className,E=pfe(e,cfe),A=ufe({x:n,y:s,top:u,left:f,width:x,height:T},E);return!Je(n)||!Je(s)||!Je(x)||!Je(T)||!Je(u)||!Je(f)?null:oe.createElement("path",jA({},Ut(A,!0),{className:Qt("recharts-cross",N),d:gfe(n,s,x,T,u,f)}))},gS,YM;function vfe(){if(YM)return gS;YM=1;var t=fv(),e=UB(),r=po();function n(i,s){return i&&i.length?t(i,r(s,2),e):void 0}return gS=n,gS}var xfe=vfe();const wfe=Ar(xfe);var yS,ZM;function bfe(){if(ZM)return yS;ZM=1;var t=fv(),e=po(),r=VB();function n(i,s){return i&&i.length?t(i,e(s,2),r):void 0}return yS=n,yS}var _fe=bfe();const Sfe=Ar(_fe);var Efe=["cx","cy","angle","ticks","axisLine"],Afe=["ticks","tick","angle","tickFormatter","stroke"];function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tp.apply(this,arguments)}function QM(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QM(Object(r),!0).forEach(function(n){xv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JM(t,e){if(t==null)return{};var r=Cfe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Cfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TF(n.key),n)}}function Nfe(t,e,r){return e&&e8(t.prototype,e),r&&e8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ofe(t,e,r){return e=Qy(e),Ife(t,CF()?Reflect.construct(e,r||[],Qy(t).constructor):e.apply(t,r))}function Ife(t,e){if(e&&(hf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pfe(t)}function Pfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CF=function(){return!!t})()}function Qy(t){return Qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qy(t)}function jfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RA(t,e)}function RA(t,e){return RA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RA(t,e)}function xv(t,e,r){return e=TF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TF(t){var e=Rfe(t,"string");return hf(e)=="symbol"?e:e+""}function Rfe(t,e){if(hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wv=(function(t){function e(){return Tfe(this,e),Ofe(this,e,arguments)}return jfe(e,t),Nfe(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,o=s.angle,u=s.cx,d=s.cy;return Zr(u,d,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,u=n.ticks,d=wfe(u,function(g){return g.coordinate||0}),f=Sfe(u,function(g){return g.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.angle,u=n.ticks,d=n.axisLine,f=JM(n,Efe),g=u.reduce(function(N,E){return[Math.min(N[0],E.coordinate),Math.max(N[1],E.coordinate)]},[1/0,-1/0]),x=Zr(i,s,g[0],o),_=Zr(i,s,g[1],o),T=Bc(Bc(Bc({},Ut(f,!1)),{},{fill:"none"},Ut(d,!1)),{},{x1:x.x,y1:x.y,x2:_.x,y2:_.y});return oe.createElement("line",Tp({className:"recharts-polar-radius-axis-line"},T))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,u=i.angle,d=i.tickFormatter,f=i.stroke,g=JM(i,Afe),x=this.getTickTextAnchor(),_=Ut(g,!1),T=Ut(o,!1),N=s.map(function(E,A){var M=n.getTickValueCoord(E),R=Bc(Bc(Bc(Bc({textAnchor:x,transform:"rotate(".concat(90-u,", ").concat(M.x,", ").concat(M.y,")")},_),{},{stroke:"none",fill:f},T),{},{index:A},M),{},{payload:E});return oe.createElement(Or,Tp({className:Qt("recharts-polar-radius-axis-tick",mF(o)),key:"tick-".concat(E.coordinate)},du(n.props,E,A)),e.renderTickItem(o,R,d?d(E.value,A):E.value))});return oe.createElement(Or,{className:"recharts-polar-radius-axis-ticks"},N)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,o=n.tick;return!i||!i.length?null:oe.createElement(Or,{className:Qt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),ui.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var o;return oe.isValidElement(n)?o=oe.cloneElement(n,i):Gt(n)?o=n(i):o=oe.createElement(fu,Tp({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(j.PureComponent);xv(wv,"displayName","PolarRadiusAxis");xv(wv,"axisType","radiusAxis");xv(wv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hc.apply(this,arguments)}function t8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(r),!0).forEach(function(n){bv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OF(n.key),n)}}function Mfe(t,e,r){return e&&r8(t.prototype,e),r&&r8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dfe(t,e,r){return e=Jy(e),Lfe(t,NF()?Reflect.construct(e,r||[],Jy(t).constructor):e.apply(t,r))}function Lfe(t,e){if(e&&(pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bfe(t)}function Bfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!t})()}function Jy(t){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(t)}function Ffe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kA(t,e)}function kA(t,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kA(t,e)}function bv(t,e,r){return e=OF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OF(t){var e=$fe(t,"string");return pf(e)=="symbol"?e:e+""}function $fe(t,e){if(pf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ufe=Math.PI/180,n8=1e-5,_v=(function(t){function e(){return kfe(this,e),Dfe(this,e,arguments)}return Ffe(e,t),Mfe(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,o=i.cy,u=i.radius,d=i.orientation,f=i.tickSize,g=f||8,x=Zr(s,o,u,n.coordinate),_=Zr(s,o,u+(d==="inner"?-1:1)*g,n.coordinate);return{x1:x.x,y1:x.y,x2:_.x,y2:_.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Ufe),o;return s>n8?o=i==="outer"?"start":"end":s<-n8?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,o=n.radius,u=n.axisLine,d=n.axisLineType,f=Fc(Fc({},Ut(this.props,!1)),{},{fill:"none"},Ut(u,!1));if(d==="circle")return oe.createElement(cN,Hc({className:"recharts-polar-angle-axis-line"},f,{cx:i,cy:s,r:o}));var g=this.props.ticks,x=g.map(function(_){return Zr(i,s,o,_.coordinate)});return oe.createElement(lfe,Hc({className:"recharts-polar-angle-axis-line"},f,{points:x}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,o=i.tick,u=i.tickLine,d=i.tickFormatter,f=i.stroke,g=Ut(this.props,!1),x=Ut(o,!1),_=Fc(Fc({},g),{},{fill:"none"},Ut(u,!1)),T=s.map(function(N,E){var A=n.getTickLineCoord(N),M=n.getTickTextAnchor(N),R=Fc(Fc(Fc({textAnchor:M},g),{},{stroke:"none",fill:f},x),{},{index:E,payload:N,x:A.x2,y:A.y2});return oe.createElement(Or,Hc({className:Qt("recharts-polar-angle-axis-tick",mF(o)),key:"tick-".concat(N.coordinate)},du(n.props,N,E)),u&&oe.createElement("line",Hc({className:"recharts-polar-angle-axis-tick-line"},_,A)),o&&e.renderTickItem(o,R,d?d(N.value,E):N.value))});return oe.createElement(Or,{className:"recharts-polar-angle-axis-ticks"},T)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!i||!i.length?null:oe.createElement(Or,{className:Qt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var o;return oe.isValidElement(n)?o=oe.cloneElement(n,i):Gt(n)?o=n(i):o=oe.createElement(fu,Hc({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(j.PureComponent);bv(_v,"displayName","PolarAngleAxis");bv(_v,"axisType","angleAxis");bv(_v,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var vS,i8;function Vfe(){if(i8)return vS;i8=1;var t=F7(),e=t(Object.getPrototypeOf,Object);return vS=e,vS}var xS,s8;function qfe(){if(s8)return xS;s8=1;var t=el(),e=Vfe(),r=tl(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,u=s.hasOwnProperty,d=o.call(Object);function f(g){if(!r(g)||t(g)!=n)return!1;var x=e(g);if(x===null)return!0;var _=u.call(x,"constructor")&&x.constructor;return typeof _=="function"&&_ instanceof _&&o.call(_)==d}return xS=f,xS}var zfe=qfe();const Wfe=Ar(zfe);var wS,a8;function Hfe(){if(a8)return wS;a8=1;var t=el(),e=tl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return wS=n,wS}var Gfe=Hfe();const Kfe=Ar(Gfe);function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function e1(){return e1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e1.apply(this,arguments)}function Xfe(t,e){return Jfe(t)||Qfe(t,e)||Zfe(t,e)||Yfe()}function Yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zfe(t,e){if(t){if(typeof t=="string")return o8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o8(t,e)}}function o8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Jfe(t){if(Array.isArray(t))return t}function l8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l8(Object(r),!0).forEach(function(n){ehe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ehe(t,e,r){return e=the(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function the(t){var e=rhe(t,"string");return Em(e)=="symbol"?e:e+""}function rhe(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u8=function(e,r,n,i,s){var o=n-i,u;return u="M ".concat(e,",").concat(r),u+="L ".concat(e+n,",").concat(r),u+="L ".concat(e+n-o/2,",").concat(r+s),u+="L ".concat(e+n-o/2-i,",").concat(r+s),u+="L ".concat(e,",").concat(r," Z"),u},nhe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ihe=function(e){var r=c8(c8({},nhe),e),n=j.useRef(),i=j.useState(-1),s=Xfe(i,2),o=s[0],u=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&u(I)}catch{}},[]);var d=r.x,f=r.y,g=r.upperWidth,x=r.lowerWidth,_=r.height,T=r.className,N=r.animationEasing,E=r.animationDuration,A=r.animationBegin,M=r.isUpdateAnimationActive;if(d!==+d||f!==+f||g!==+g||x!==+x||_!==+_||g===0&&x===0||_===0)return null;var R=Qt("recharts-trapezoid",T);return M?oe.createElement(Yo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:_,x:d,y:f},to:{upperWidth:g,lowerWidth:x,height:_,x:d,y:f},duration:E,animationEasing:N,isActive:M},function(I){var D=I.upperWidth,L=I.lowerWidth,$=I.height,B=I.x,z=I.y;return oe.createElement(Yo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:E,easing:N},oe.createElement("path",e1({},Ut(r,!0),{className:R,d:u8(B,z,D,L,$),ref:n})))}):oe.createElement("g",null,oe.createElement("path",e1({},Ut(r,!0),{className:R,d:u8(d,f,g,x,_)})))},she=["option","shapeType","propTransformer","activeClassName","isActive"];function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function ahe(t,e){if(t==null)return{};var r=ohe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ohe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function d8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d8(Object(r),!0).forEach(function(n){lhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lhe(t,e,r){return e=che(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function che(t){var e=uhe(t,"string");return Am(e)=="symbol"?e:e+""}function uhe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dhe(t,e){return t1(t1({},e),t)}function fhe(t,e){return t==="symbols"}function f8(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return oe.createElement(lN,r);case"trapezoid":return oe.createElement(ihe,r);case"sector":return oe.createElement(vF,r);case"symbols":if(fhe(e))return oe.createElement(TT,r);break;default:return null}}function hhe(t){return j.isValidElement(t)?t.props:t}function IF(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?dhe:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,u=t.isActive,d=ahe(t,she),f;if(j.isValidElement(e))f=j.cloneElement(e,t1(t1({},d),hhe(e)));else if(Gt(e))f=e(d);else if(Wfe(e)&&!Kfe(e)){var g=i(e,d);f=oe.createElement(f8,{shapeType:r,elementProps:g})}else{var x=d;f=oe.createElement(f8,{shapeType:r,elementProps:x})}return u?oe.createElement(Or,{className:o},f):f}function Sv(t,e){return e!=null&&"trapezoids"in t.props}function Ev(t,e){return e!=null&&"sectors"in t.props}function Cm(t,e){return e!=null&&"points"in t.props}function phe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function mhe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function ghe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function yhe(t,e){var r;return Sv(t,e)?r=phe:Ev(t,e)?r=mhe:Cm(t,e)&&(r=ghe),r}function vhe(t,e){var r;return Sv(t,e)?r="trapezoids":Ev(t,e)?r="sectors":Cm(t,e)&&(r="points"),r}function xhe(t,e){if(Sv(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ev(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Cm(t,e)?e.payload:{}}function whe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=vhe(r,e),s=xhe(r,e),o=n.filter(function(d,f){var g=mv(s,d),x=r.props[i].filter(function(N){var E=yhe(r,e);return E(N,e)}),_=r.props[i].indexOf(x[x.length-1]),T=f===_;return g&&T}),u=n.indexOf(o[o.length-1]);return u}var W0;function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nd.apply(this,arguments)}function h8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h8(Object(r),!0).forEach(function(n){ta(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jF(n.key),n)}}function _he(t,e,r){return e&&p8(t.prototype,e),r&&p8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function She(t,e,r){return e=r1(e),Ehe(t,PF()?Reflect.construct(e,r||[],r1(t).constructor):e.apply(t,r))}function Ehe(t,e){if(e&&(mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ahe(t)}function Ahe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!t})()}function r1(t){return r1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r1(t)}function Che(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MA(t,e)}function ta(t,e,r){return e=jF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jF(t){var e=The(t,"string");return mf(e)=="symbol"?e:e+""}function The(t,e){if(mf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nl=(function(t){function e(r){var n;return bhe(this,e),n=She(this,e,[r]),ta(n,"pieRef",null),ta(n,"sectorRefs",[]),ta(n,"id",Km("recharts-pie-")),ta(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Gt(i)&&i()}),ta(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Gt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Che(e,t),_he(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,u=s.labelLine,d=s.dataKey,f=s.valueKey,g=Ut(this.props,!1),x=Ut(o,!1),_=Ut(u,!1),T=o&&o.offsetRadius||20,N=n.map(function(E,A){var M=(E.startAngle+E.endAngle)/2,R=Zr(E.cx,E.cy,E.outerRadius+T,M),I=Hr(Hr(Hr(Hr({},g),E),{},{stroke:"none"},x),{},{index:A,textAnchor:e.getTextAnchor(R.x,E.cx)},R),D=Hr(Hr(Hr(Hr({},g),E),{},{fill:"none",stroke:E.fill},_),{},{index:A,points:[Zr(E.cx,E.cy,E.outerRadius,M),R]}),L=d;return ir(d)&&ir(f)?L="value":ir(d)&&(L=f),oe.createElement(Or,{key:"label-".concat(E.startAngle,"-").concat(E.endAngle,"-").concat(E.midAngle,"-").concat(A)},u&&e.renderLabelLineItem(u,D,"line"),e.renderLabelItem(o,I,Bi(E,L)))});return oe.createElement(Or,{className:"recharts-pie-labels"},N)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,u=s.blendStroke,d=s.inactiveShape;return n.map(function(f,g){if(f?.startAngle===0&&f?.endAngle===0&&n.length!==1)return null;var x=i.isActiveIndex(g),_=d&&i.hasActiveIndex()?d:null,T=x?o:_,N=Hr(Hr({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return oe.createElement(Or,Nd({ref:function(A){A&&!i.sectorRefs.includes(A)&&i.sectorRefs.push(A)},tabIndex:-1,className:"recharts-pie-sector"},du(i.props,f,g),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(g)}),oe.createElement(IF,Nd({option:T,isActive:x,shapeType:"sector"},N)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,f=i.animationEasing,g=i.animationId,x=this.state,_=x.prevSectors,T=x.prevIsAnimationActive;return oe.createElement(Yo,{begin:u,duration:d,isActive:o,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(g,"-").concat(T),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(N){var E=N.t,A=[],M=s&&s[0],R=M.startAngle;return s.forEach(function(I,D){var L=_&&_[D],$=D>0?Ls(I,"paddingAngle",0):0;if(L){var B=Ll(L.endAngle-L.startAngle,I.endAngle-I.startAngle),z=Hr(Hr({},I),{},{startAngle:R+$,endAngle:R+B(E)+$});A.push(z),R=z.endAngle}else{var H=I.endAngle,ce=I.startAngle,K=Ll(0,H-ce),W=K(E),Z=Hr(Hr({},I),{},{startAngle:R+$,endAngle:R+W+$});A.push(Z),R=Z.endAngle}}),oe.createElement(Or,null,n.renderSectorsStatically(A))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var u=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[u].focus(),i.setState({sectorToFocus:u});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!mv(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,u=i.className,d=i.label,f=i.cx,g=i.cy,x=i.innerRadius,_=i.outerRadius,T=i.isAnimationActive,N=this.state.isAnimationFinished;if(s||!o||!o.length||!Je(f)||!Je(g)||!Je(x)||!Je(_))return null;var E=Qt("recharts-pie",u);return oe.createElement(Or,{tabIndex:this.props.rootTabIndex,className:E,ref:function(M){n.pieRef=M}},this.renderSectors(),d&&this.renderLabels(o),ui.renderCallByParent(this.props,null,!1),(!T||N)&&zl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(oe.isValidElement(n))return oe.cloneElement(n,i);if(Gt(n))return n(i);var o=Qt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return oe.createElement(wA,Nd({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(oe.isValidElement(n))return oe.cloneElement(n,i);var o=s;if(Gt(n)&&(o=n(i),oe.isValidElement(o)))return o;var u=Qt("recharts-pie-label-text",typeof n!="boolean"&&!Gt(n)?n.className:"");return oe.createElement(fu,Nd({},i,{alignmentBaseline:"middle",className:u}),o)}}])})(j.PureComponent);W0=nl;ta(nl,"displayName","Pie");ta(nl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Xf.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ta(nl,"parseDeltaAngle",function(t,e){var r=Ki(e-t),n=Math.min(Math.abs(e-t),360);return r*n});ta(nl,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ut(t,!1),i=ia(r,sv);return e&&e.length?e.map(function(s,o){return Hr(Hr(Hr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Hr(Hr({},n),s.props)}):[]});ta(nl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=pF(i,s),u=n+Xi(t.cx,i,i/2),d=r+Xi(t.cy,s,s/2),f=Xi(t.innerRadius,o,0),g=Xi(t.outerRadius,o,o*.8),x=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:g,maxRadius:x}});ta(nl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Hr(Hr({},e.type.defaultProps),e.props):e.props,i=W0.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,u=n.endAngle,d=n.paddingAngle,f=n.dataKey,g=n.nameKey,x=n.valueKey,_=n.tooltipType,T=Math.abs(n.minAngle),N=W0.parseCoordinateOfPie(n,r),E=W0.parseDeltaAngle(o,u),A=Math.abs(E),M=f;ir(f)&&ir(x)?(Uo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),M="value"):ir(f)&&(Uo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),M=x);var R=i.filter(function(z){return Bi(z,M,0)!==0}).length,I=(A>=360?R:R-1)*d,D=A-R*T-I,L=i.reduce(function(z,H){var ce=Bi(H,M,0);return z+(Je(ce)?ce:0)},0),$;if(L>0){var B;$=i.map(function(z,H){var ce=Bi(z,M,0),K=Bi(z,g,H),W=(Je(ce)?ce:0)/L,Z;H?Z=B.endAngle+Ki(E)*d*(ce!==0?1:0):Z=o;var Q=Z+Ki(E)*((ce!==0?T:0)+W*D),Y=(Z+Q)/2,J=(N.innerRadius+N.outerRadius)/2,te=[{name:K,value:ce,payload:z,dataKey:M,type:_}],ie=Zr(N.cx,N.cy,J,Y);return B=Hr(Hr(Hr({percent:W,cornerRadius:s,name:K,tooltipPayload:te,midAngle:Y,middleRadius:J,tooltipPosition:ie},z),N),{},{value:Bi(z,M),startAngle:Z,endAngle:Q,payload:z,paddingAngle:Ki(E)*d}),B})}return Hr(Hr({},N),{},{sectors:$,data:i})});var bS,m8;function Nhe(){if(m8)return bS;m8=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var u=-1,d=e(t((i-n)/(s||1)),0),f=Array(d);d--;)f[o?d:++u]=n,n+=s;return f}return bS=r,bS}var _S,g8;function RF(){if(g8)return _S;g8=1;var t=tB(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return _S=n,_S}var SS,y8;function Ohe(){if(y8)return SS;y8=1;var t=Nhe(),e=iv(),r=RF();function n(i){return function(s,o,u){return u&&typeof u!="number"&&e(s,o,u)&&(o=u=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),u=u===void 0?s<o?1:-1:r(u),t(s,o,u,i)}}return SS=n,SS}var ES,v8;function Ihe(){if(v8)return ES;v8=1;var t=Ohe(),e=t();return ES=e,ES}var Phe=Ihe();const n1=Ar(Phe);function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function x8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x8(Object(r),!0).forEach(function(n){kF(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kF(t,e,r){return e=jhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jhe(t){var e=Rhe(t,"string");return Tm(e)=="symbol"?e:e+""}function Rhe(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var khe=["Webkit","Moz","O","ms"],Mhe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=khe.reduce(function(s,o){return w8(w8({},s),{},kF({},o+n,r))},{});return i[e]=r,i};function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function i1(){return i1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i1.apply(this,arguments)}function b8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(r),!0).forEach(function(n){Cs(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,DF(n.key),n)}}function Lhe(t,e,r){return e&&_8(t.prototype,e),r&&_8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bhe(t,e,r){return e=s1(e),Fhe(t,MF()?Reflect.construct(e,r||[],s1(t).constructor):e.apply(t,r))}function Fhe(t,e){if(e&&(gf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $he(t)}function $he(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MF=function(){return!!t})()}function s1(t){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s1(t)}function Uhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DA(t,e)}function DA(t,e){return DA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},DA(t,e)}function Cs(t,e,r){return e=DF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DF(t){var e=Vhe(t,"string");return gf(e)=="symbol"?e:e+""}function Vhe(t,e){if(gf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qhe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,u=e.travellerWidth;if(!r||!r.length)return{};var d=r.length,f=Sp().domain(n1(0,d)).range([s,s+o-u]),g=f.domain().map(function(x){return f(x)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(n),endX:f(i),scale:f,scaleValues:g}},S8=function(e){return e.changedTouches&&!!e.changedTouches.length},yf=(function(t){function e(r){var n;return Dhe(this,e),n=Bhe(this,e,[r]),Cs(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Cs(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Cs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,u=i.startIndex;o?.({endIndex:s,startIndex:u})}),n.detachDragEndListener()}),Cs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cs(n,"handleSlideDragStart",function(i){var s=S8(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Uhe(e,t),Lhe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,g=f.length-1,x=Math.min(i,s),_=Math.max(i,s),T=e.getIndexInRange(o,x),N=e.getIndexInRange(o,_);return{startIndex:T-T%d,endIndex:N===g?g:N-N%d}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,u=i.dataKey,d=Bi(s[n],u,n);return Gt(o)?o(d,n):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,u=i.endX,d=this.props,f=d.x,g=d.width,x=d.travellerWidth,_=d.startIndex,T=d.endIndex,N=d.onChange,E=n.pageX-s;E>0?E=Math.min(E,f+g-x-u,f+g-x-o):E<0&&(E=Math.max(E,f-o,f-u));var A=this.getIndex({startX:o+E,endX:u+E});(A.startIndex!==_||A.endIndex!==T)&&N&&N(A),this.setState({startX:o+E,endX:u+E,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=S8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,u=i.endX,d=i.startX,f=this.state[o],g=this.props,x=g.x,_=g.width,T=g.travellerWidth,N=g.onChange,E=g.gap,A=g.data,M={startX:this.state.startX,endX:this.state.endX},R=n.pageX-s;R>0?R=Math.min(R,x+_-T-f):R<0&&(R=Math.max(R,x-f)),M[o]=f+R;var I=this.getIndex(M),D=I.startIndex,L=I.endIndex,$=function(){var z=A.length-1;return o==="startX"&&(u>d?D%E===0:L%E===0)||u<d&&L===z||o==="endX"&&(u>d?L%E===0:D%E===0)||u>d&&L===z};this.setState(Cs(Cs({},o,f+R),"brushMoveStartX",n.pageX),function(){N&&$()&&N(I)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,u=o.scaleValues,d=o.startX,f=o.endX,g=this.state[i],x=u.indexOf(g);if(x!==-1){var _=x+n;if(!(_===-1||_>=u.length)){var T=u[_];i==="startX"&&T>=f||i==="endX"&&T<=d||this.setState(Cs({},i,T),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,d=n.fill,f=n.stroke;return oe.createElement("rect",{stroke:f,fill:d,x:i,y:s,width:o,height:u})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,d=n.data,f=n.children,g=n.padding,x=j.Children.only(f);return x?oe.cloneElement(x,{x:i,y:s,width:o,height:u,margin:g,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,u=this,d=this.props,f=d.y,g=d.travellerWidth,x=d.height,_=d.traveller,T=d.ariaLabel,N=d.data,E=d.startIndex,A=d.endIndex,M=Math.max(n,this.props.x),R=AS(AS({},Ut(this.props,!1)),{},{x:M,y:f,width:g,height:x}),I=T||"Min value: ".concat((s=N[E])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=N[A])===null||o===void 0?void 0:o.name);return oe.createElement(Or,{tabIndex:0,role:"slider","aria-label":I,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(L){["ArrowLeft","ArrowRight"].includes(L.key)&&(L.preventDefault(),L.stopPropagation(),u.handleTravellerMoveKeyboard(L.key==="ArrowRight"?1:-1,i))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(_,R))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,u=s.height,d=s.stroke,f=s.travellerWidth,g=Math.min(n,i)+f,x=Math.max(Math.abs(i-n)-f,0);return oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:g,y:o,width:x,height:u})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,u=n.height,d=n.travellerWidth,f=n.stroke,g=this.state,x=g.startX,_=g.endX,T=5,N={pointerEvents:"none",fill:f};return oe.createElement(Or,{className:"recharts-brush-texts"},oe.createElement(fu,i1({textAnchor:"end",verticalAnchor:"middle",x:Math.min(x,_)-T,y:o+u/2},N),this.getTextOfTick(i)),oe.createElement(fu,i1({textAnchor:"start",verticalAnchor:"middle",x:Math.max(x,_)+d+T,y:o+u/2},N),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,u=n.x,d=n.y,f=n.width,g=n.height,x=n.alwaysShowText,_=this.state,T=_.startX,N=_.endX,E=_.isTextActive,A=_.isSlideMoving,M=_.isTravellerMoving,R=_.isTravellerFocused;if(!i||!i.length||!Je(u)||!Je(d)||!Je(f)||!Je(g)||f<=0||g<=0)return null;var I=Qt("recharts-brush",s),D=oe.Children.count(o)===1,L=Mhe("userSelect","none");return oe.createElement(Or,{className:I,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:L},this.renderBackground(),D&&this.renderPanorama(),this.renderSlide(T,N),this.renderTravellerLayer(T,"startX"),this.renderTravellerLayer(N,"endX"),(E||A||M||R||x)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,u=n.height,d=n.stroke,f=Math.floor(s+u/2)-1;return oe.createElement(oe.Fragment,null,oe.createElement("rect",{x:i,y:s,width:o,height:u,fill:d,stroke:"none"}),oe.createElement("line",{x1:i+1,y1:f,x2:i+o-1,y2:f,fill:"none",stroke:"#fff"}),oe.createElement("line",{x1:i+1,y1:f+2,x2:i+o-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return oe.isValidElement(n)?s=oe.cloneElement(n,i):Gt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,u=n.x,d=n.travellerWidth,f=n.updateId,g=n.startIndex,x=n.endIndex;if(s!==i.prevData||f!==i.prevUpdateId)return AS({prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o},s&&s.length?qhe({data:s,width:o,x:u,travellerWidth:d,startIndex:g,endIndex:x}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||u!==i.prevX||d!==i.prevTravellerWidth)){i.scale.range([u,u+o-d]);var _=i.scale.domain().map(function(T){return i.scale(T)});return{prevData:s,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:_}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,u=s-1;u-o>1;){var d=Math.floor((o+u)/2);n[d]>i?u=d:o=d}return i>=n[u]?u:o}}])})(j.PureComponent);Cs(yf,"displayName","Brush");Cs(yf,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var CS,E8;function zhe(){if(E8)return CS;E8=1;var t=kT();function e(r,n){var i;return t(r,function(s,o,u){return i=n(s,o,u),!i}),!!i}return CS=e,CS}var TS,A8;function Whe(){if(A8)return TS;A8=1;var t=j7(),e=po(),r=zhe(),n=hs(),i=iv();function s(o,u,d){var f=n(o)?t:r;return d&&i(o,u,d)&&(u=void 0),f(o,e(u,3))}return TS=s,TS}var Hhe=Whe();const Ghe=Ar(Hhe);var ro=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},NS,C8;function Khe(){if(C8)return NS;C8=1;var t=Y7();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return NS=e,NS}var OS,T8;function Xhe(){if(T8)return OS;T8=1;var t=Khe(),e=K7(),r=po();function n(i,s){var o={};return s=r(s,3),e(i,function(u,d,f){t(o,d,s(u,d,f))}),o}return OS=n,OS}var Yhe=Xhe();const Zhe=Ar(Yhe);var IS,N8;function Qhe(){if(N8)return IS;N8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return IS=t,IS}var PS,O8;function Jhe(){if(O8)return PS;O8=1;var t=kT();function e(r,n){var i=!0;return t(r,function(s,o,u){return i=!!n(s,o,u),i}),i}return PS=e,PS}var jS,I8;function epe(){if(I8)return jS;I8=1;var t=Qhe(),e=Jhe(),r=po(),n=hs(),i=iv();function s(o,u,d){var f=n(o)?t:e;return d&&i(o,u,d)&&(u=void 0),f(o,r(u,3))}return jS=s,jS}var tpe=epe();const rpe=Ar(tpe);var npe=["x","y"];function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LA.apply(this,arguments)}function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){ipe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ipe(t,e,r){return e=spe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function spe(t){var e=ape(t,"string");return Nm(e)=="symbol"?e:e+""}function ape(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ope(t,e){if(t==null)return{};var r=lpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function cpe(t,e){var r=t.x,n=t.y,i=ope(t,npe),s="".concat(r),o=parseInt(s,10),u="".concat(n),d=parseInt(u,10),f="".concat(e.height||i.height),g=parseInt(f,10),x="".concat(e.width||i.width),_=parseInt(x,10);return np(np(np(np(np({},e),i),o?{x:o}:{}),d?{y:d}:{}),{},{height:g,width:_,name:e.name,radius:e.radius})}function j8(t){return oe.createElement(IF,LA({shapeType:"rectangle",propTransformer:cpe,activeClassName:"recharts-active-bar"},t))}var upe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=Je(n)||kee(n);return s?e(n,i):(s||pu(),r)}},dpe=["value","background"],LF;function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function fpe(t,e){if(t==null)return{};var r=hpe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hpe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function a1(){return a1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a1.apply(this,arguments)}function R8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(r),!0).forEach(function(n){Vl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FF(n.key),n)}}function mpe(t,e,r){return e&&k8(t.prototype,e),r&&k8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function gpe(t,e,r){return e=o1(e),ype(t,BF()?Reflect.construct(e,r||[],o1(t).constructor):e.apply(t,r))}function ype(t,e){if(e&&(vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vpe(t)}function vpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BF=function(){return!!t})()}function o1(t){return o1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},o1(t)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BA(t,e)}function BA(t,e){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BA(t,e)}function Vl(t,e,r){return e=FF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FF(t){var e=wpe(t,"string");return vf(e)=="symbol"?e:e+""}function wpe(t,e){if(vf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tu=(function(t){function e(){var r;ppe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=gpe(this,e,[].concat(i)),Vl(r,"state",{isAnimationFinished:!1}),Vl(r,"id",Km("recharts-bar-")),Vl(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Vl(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return xpe(e,t),mpe(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,u=s.dataKey,d=s.activeIndex,f=s.activeBar,g=Ut(this.props,!1);return n&&n.map(function(x,_){var T=_===d,N=T?f:o,E=Dn(Dn(Dn({},g),x),{},{isActive:T,option:N,index:_,dataKey:u,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return oe.createElement(Or,a1({className:"recharts-bar-rectangle"},du(i.props,x,_),{key:"rectangle-".concat(x?.x,"-").concat(x?.y,"-").concat(x?.value,"-").concat(_)}),oe.createElement(j8,E))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,u=i.isAnimationActive,d=i.animationBegin,f=i.animationDuration,g=i.animationEasing,x=i.animationId,_=this.state.prevData;return oe.createElement(Yo,{begin:d,duration:f,isActive:u,easing:g,from:{t:0},to:{t:1},key:"bar-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var N=T.t,E=s.map(function(A,M){var R=_&&_[M];if(R){var I=Ll(R.x,A.x),D=Ll(R.y,A.y),L=Ll(R.width,A.width),$=Ll(R.height,A.height);return Dn(Dn({},A),{},{x:I(N),y:D(N),width:L(N),height:$(N)})}if(o==="horizontal"){var B=Ll(0,A.height),z=B(N);return Dn(Dn({},A),{},{y:A.y+A.height-z,height:z})}var H=Ll(0,A.width),ce=H(N);return Dn(Dn({},A),{},{width:ce})});return oe.createElement(Or,null,n.renderRectanglesStatically(E))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!mv(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,u=i.activeIndex,d=Ut(this.props.background,!1);return s.map(function(f,g){f.value;var x=f.background,_=fpe(f,dpe);if(!x)return null;var T=Dn(Dn(Dn(Dn(Dn({},_),{},{fill:"#eee"},x),d),du(n.props,f,g)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:g,className:"recharts-bar-background-rectangle"});return oe.createElement(j8,a1({key:"background-bar-".concat(g),option:n.props.background,isActive:g===u},T))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,u=s.xAxis,d=s.yAxis,f=s.layout,g=s.children,x=ia(g,vv);if(!x)return null;var _=f==="vertical"?o[0].height/2:o[0].width/2,T=function(A,M){var R=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:R,errorVal:Bi(A,M)}},N={clipPath:n?"url(#clipPath-".concat(i,")"):null};return oe.createElement(Or,N,x.map(function(E){return oe.cloneElement(E,{key:"error-bar-".concat(i,"-").concat(E.props.dataKey),data:o,xAxis:u,yAxis:d,layout:f,offset:_,dataPointFormatter:T})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,u=n.xAxis,d=n.yAxis,f=n.left,g=n.top,x=n.width,_=n.height,T=n.isAnimationActive,N=n.background,E=n.id;if(i||!s||!s.length)return null;var A=this.state.isAnimationFinished,M=Qt("recharts-bar",o),R=u&&u.allowDataOverflow,I=d&&d.allowDataOverflow,D=R||I,L=ir(E)?this.id:E;return oe.createElement(Or,{className:M},R||I?oe.createElement("defs",null,oe.createElement("clipPath",{id:"clipPath-".concat(L)},oe.createElement("rect",{x:R?f:f-x/2,y:I?g:g-_/2,width:R?x:x*2,height:I?_:_*2}))):null,oe.createElement(Or,{className:"recharts-bar-rectangles",clipPath:D?"url(#clipPath-".concat(L,")"):null},N?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(D,L),(!T||A)&&zl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])})(j.PureComponent);LF=Tu;Vl(Tu,"displayName","Bar");Vl(Tu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Xf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vl(Tu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,u=t.xAxisTicks,d=t.yAxisTicks,f=t.stackedData,g=t.dataStartIndex,x=t.displayedData,_=t.offset,T=Kle(n,r);if(!T)return null;var N=e.layout,E=r.type.defaultProps,A=E!==void 0?Dn(Dn({},E),r.props):r.props,M=A.dataKey,R=A.children,I=A.minPointSize,D=N==="horizontal"?o:s,L=f?D.scale.domain():null,$=tce({numericAxis:D}),B=ia(R,sv),z=x.map(function(H,ce){var K,W,Z,Q,Y,J;f?K=Xle(f[g+ce],L):(K=Bi(H,M),Array.isArray(K)||(K=[$,K]));var te=upe(I,LF.defaultProps.minPointSize)(K[1],ce);if(N==="horizontal"){var ie,se=[o.scale(K[0]),o.scale(K[1])],me=se[0],ne=se[1];W=sM({axis:s,ticks:u,bandSize:i,offset:T.offset,entry:H,index:ce}),Z=(ie=ne??me)!==null&&ie!==void 0?ie:void 0,Q=T.size;var ue=me-ne;if(Y=Number.isNaN(ue)?0:ue,J={x:W,y:o.y,width:Q,height:o.height},Math.abs(te)>0&&Math.abs(Y)<Math.abs(te)){var be=Ki(Y||te)*(Math.abs(te)-Math.abs(Y));Z-=be,Y+=be}}else{var Pe=[s.scale(K[0]),s.scale(K[1])],nt=Pe[0],Ie=Pe[1];if(W=nt,Z=sM({axis:o,ticks:d,bandSize:i,offset:T.offset,entry:H,index:ce}),Q=Ie-nt,Y=T.size,J={x:s.x,y:Z,width:s.width,height:Y},Math.abs(te)>0&&Math.abs(Q)<Math.abs(te)){var je=Ki(Q||te)*(Math.abs(te)-Math.abs(Q));Q+=je}}return Dn(Dn(Dn({},H),{},{x:W,y:Z,width:Q,height:Y,value:f?K:K[1],payload:H,background:J},B&&B[ce]&&B[ce].props),{},{tooltipPayload:[fF(r,H)],tooltipPosition:{x:W+Q/2,y:Z+Y/2}})});return Dn({data:z,layout:N},_)});function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$F(n.key),n)}}function _pe(t,e,r){return e&&M8(t.prototype,e),r&&M8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function D8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D8(Object(r),!0).forEach(function(n){Av(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Av(t,e,r){return e=$F(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $F(t){var e=Spe(t,"string");return Om(e)=="symbol"?e:e+""}function Spe(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Epe=function(e,r,n,i,s){var o=e.width,u=e.height,d=e.layout,f=e.children,g=Object.keys(r),x={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:u-n.bottom,bottomMirror:u-n.bottom},_=!!Ts(f,Tu);return g.reduce(function(T,N){var E=r[N],A=E.orientation,M=E.domain,R=E.padding,I=R===void 0?{}:R,D=E.mirror,L=E.reversed,$="".concat(A).concat(D?"Mirror":""),B,z,H,ce,K;if(E.type==="number"&&(E.padding==="gap"||E.padding==="no-gap")){var W=M[1]-M[0],Z=1/0,Q=E.categoricalDomain.sort(Lee);if(Q.forEach(function(Pe,nt){nt>0&&(Z=Math.min((Pe||0)-(Q[nt-1]||0),Z))}),Number.isFinite(Z)){var Y=Z/W,J=E.layout==="vertical"?n.height:n.width;if(E.padding==="gap"&&(B=Y*J/2),E.padding==="no-gap"){var te=Xi(e.barCategoryGap,Y*J),ie=Y*J/2;B=ie-te-(ie-te)/J*te}}}i==="xAxis"?z=[n.left+(I.left||0)+(B||0),n.left+n.width-(I.right||0)-(B||0)]:i==="yAxis"?z=d==="horizontal"?[n.top+n.height-(I.bottom||0),n.top+(I.top||0)]:[n.top+(I.top||0)+(B||0),n.top+n.height-(I.bottom||0)-(B||0)]:z=E.range,L&&(z=[z[1],z[0]]);var se=lF(E,s,_),me=se.scale,ne=se.realScaleType;me.domain(M).range(z),cF(me);var ue=uF(me,Aa(Aa({},E),{},{realScaleType:ne}));i==="xAxis"?(K=A==="top"&&!D||A==="bottom"&&D,H=n.left,ce=x[$]-K*E.height):i==="yAxis"&&(K=A==="left"&&!D||A==="right"&&D,H=x[$]-K*E.width,ce=n.top);var be=Aa(Aa(Aa({},E),ue),{},{realScaleType:ne,x:H,y:ce,scale:me,width:i==="xAxis"?n.width:E.width,height:i==="yAxis"?n.height:E.height});return be.bandSize=Wy(be,ue),!E.hide&&i==="xAxis"?x[$]+=(K?-1:1)*be.height:E.hide||(x[$]+=(K?-1:1)*be.width),Aa(Aa({},T),{},Av({},N,be))},{})},UF=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},Ape=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return UF({x:r,y:n},{x:i,y:s})},VF=(function(){function t(e){bpe(this,t),this.scale=e}return _pe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(r)+u}default:return this.scale(r)}if(i){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])})();Av(VF,"EPS",1e-4);var uN=function(e){var r=Object.keys(e).reduce(function(n,i){return Aa(Aa({},n),{},Av({},i,VF.create(e[i])))},{});return Aa(Aa({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,u=s.position;return Zhe(i,function(d,f){return r[f].apply(d,{bandAware:o,position:u})})},isInRange:function(i){return rpe(i,function(s,o){return r[o].isInRange(s)})}})};function Cpe(t){return(t%180+180)%180}var Tpe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Cpe(i),o=s*Math.PI/180,u=Math.atan(n/r),d=o>u&&o<Math.PI-u?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},RS,L8;function Npe(){if(L8)return RS;L8=1;var t=po(),e=Xm(),r=rv();function n(i){return function(s,o,u){var d=Object(s);if(!e(s)){var f=t(o,3);s=r(s),o=function(x){return f(d[x],x,d)}}var g=i(s,o,u);return g>-1?d[f?s[g]:g]:void 0}}return RS=n,RS}var kS,B8;function Ope(){if(B8)return kS;B8=1;var t=RF();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return kS=e,kS}var MS,F8;function Ipe(){if(F8)return MS;F8=1;var t=q7(),e=po(),r=Ope(),n=Math.max;function i(s,o,u){var d=s==null?0:s.length;if(!d)return-1;var f=u==null?0:r(u);return f<0&&(f=n(d+f,0)),t(s,e(o,3),f)}return MS=i,MS}var DS,$8;function Ppe(){if($8)return DS;$8=1;var t=Npe(),e=Ipe(),r=t(e);return DS=r,DS}Ppe();var jpe=s7();const Rpe=Ar(jpe);var kpe=Rpe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),qF=j.createContext(void 0),zF=j.createContext(void 0),WF=j.createContext(void 0),Mpe=j.createContext({}),HF=j.createContext(void 0),GF=j.createContext(0),KF=j.createContext(0),U8=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,u=e.children,d=e.width,f=e.height,g=kpe(s);return oe.createElement(qF.Provider,{value:n},oe.createElement(zF.Provider,{value:i},oe.createElement(Mpe.Provider,{value:s},oe.createElement(WF.Provider,{value:g},oe.createElement(HF.Provider,{value:o},oe.createElement(GF.Provider,{value:f},oe.createElement(KF.Provider,{value:d},u)))))))},Dpe=function(){return j.useContext(HF)},XF=function(e){var r=j.useContext(qF);r==null&&pu();var n=r[e];return n==null&&pu(),n},YF=function(e){var r=j.useContext(zF);r==null&&pu();var n=r[e];return n==null&&pu(),n},Lpe=function(){var e=j.useContext(WF);return e},ZF=function(){return j.useContext(KF)},QF=function(){return j.useContext(GF)};function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function Bpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fpe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,e9(n.key),n)}}function $pe(t,e,r){return e&&Fpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Upe(t,e,r){return e=l1(e),Vpe(t,JF()?Reflect.construct(e,r||[],l1(t).constructor):e.apply(t,r))}function Vpe(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qpe(t)}function qpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JF=function(){return!!t})()}function l1(t){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l1(t)}function zpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FA(t,e)}function FA(t,e){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FA(t,e)}function V8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(r),!0).forEach(function(n){dN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dN(t,e,r){return e=e9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e9(t){var e=Wpe(t,"string");return xf(e)=="symbol"?e:e+""}function Wpe(t,e){if(xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hpe(t,e){return Ype(t)||Xpe(t,e)||Kpe(t,e)||Gpe()}function Gpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kpe(t,e){if(t){if(typeof t=="string")return z8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z8(t,e)}}function z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Ype(t){if(Array.isArray(t))return t}function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$A.apply(this,arguments)}var Zpe=function(e,r){var n;return oe.isValidElement(e)?n=oe.cloneElement(e,r):Gt(e)?n=e(r):n=oe.createElement("line",$A({},r,{className:"recharts-reference-line-line"})),n},Qpe=function(e,r,n,i,s,o,u,d,f){var g=s.x,x=s.y,_=s.width,T=s.height;if(n){var N=f.y,E=e.y.apply(N,{position:o});if(ro(f,"discard")&&!e.y.isInRange(E))return null;var A=[{x:g+_,y:E},{x:g,y:E}];return d==="left"?A.reverse():A}if(r){var M=f.x,R=e.x.apply(M,{position:o});if(ro(f,"discard")&&!e.x.isInRange(R))return null;var I=[{x:R,y:x+T},{x:R,y:x}];return u==="top"?I.reverse():I}if(i){var D=f.segment,L=D.map(function($){return e.apply($,{position:o})});return ro(f,"discard")&&Ghe(L,function($){return!e.isInRange($)})?null:L}return null};function Jpe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,u=t.className,d=t.alwaysShow,f=Dpe(),g=XF(i),x=YF(s),_=Lpe();if(!f||!_)return null;Uo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var T=uN({x:g.scale,y:x.scale}),N=Jn(e),E=Jn(r),A=n&&n.length===2,M=Qpe(T,N,E,A,_,t.position,g.orientation,x.orientation,t);if(!M)return null;var R=Hpe(M,2),I=R[0],D=I.x,L=I.y,$=R[1],B=$.x,z=$.y,H=ro(t,"hidden")?"url(#".concat(f,")"):void 0,ce=q8(q8({clipPath:H},Ut(t,!0)),{},{x1:D,y1:L,x2:B,y2:z});return oe.createElement(Or,{className:Qt("recharts-reference-line",u)},Zpe(o,ce),ui.renderCallByParent(t,Ape({x1:D,y1:L,x2:B,y2:z})))}var fN=(function(t){function e(){return Bpe(this,e),Upe(this,e,arguments)}return zpe(e,t),$pe(e,[{key:"render",value:function(){return oe.createElement(Jpe,this.props)}}])})(oe.Component);dN(fN,"displayName","ReferenceLine");dN(fN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UA.apply(this,arguments)}function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function W8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(r),!0).forEach(function(n){Cv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,r9(n.key),n)}}function rme(t,e,r){return e&&tme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nme(t,e,r){return e=c1(e),ime(t,t9()?Reflect.construct(e,r||[],c1(t).constructor):e.apply(t,r))}function ime(t,e){if(e&&(wf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sme(t)}function sme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function c1(t){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c1(t)}function ame(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VA(t,e)}function VA(t,e){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VA(t,e)}function Cv(t,e,r){return e=r9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r9(t){var e=ome(t,"string");return wf(e)=="symbol"?e:e+""}function ome(t,e){if(wf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lme=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=uN({x:i.scale,y:s.scale}),u=o.apply({x:r,y:n},{bandAware:!0});return ro(e,"discard")&&!o.isInRange(u)?null:u},Tv=(function(t){function e(){return eme(this,e),nme(this,e,arguments)}return ame(e,t),rme(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,u=n.alwaysShow,d=n.clipPathId,f=Jn(i),g=Jn(s);if(Uo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!g)return null;var x=lme(this.props);if(!x)return null;var _=x.x,T=x.y,N=this.props,E=N.shape,A=N.className,M=ro(this.props,"hidden")?"url(#".concat(d,")"):void 0,R=H8(H8({clipPath:M},Ut(this.props,!0)),{},{cx:_,cy:T});return oe.createElement(Or,{className:Qt("recharts-reference-dot",A)},e.renderDot(E,R),ui.renderCallByParent(this.props,{x:_-o,y:T-o,width:2*o,height:2*o}))}}])})(oe.Component);Cv(Tv,"displayName","ReferenceDot");Cv(Tv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Cv(Tv,"renderDot",function(t,e){var r;return oe.isValidElement(t)?r=oe.cloneElement(t,e):Gt(t)?r=t(e):r=oe.createElement(cN,UA({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qA.apply(this,arguments)}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function G8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function K8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G8(Object(r),!0).forEach(function(n){Nv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ume(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i9(n.key),n)}}function dme(t,e,r){return e&&ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fme(t,e,r){return e=u1(e),hme(t,n9()?Reflect.construct(e,r||[],u1(t).constructor):e.apply(t,r))}function hme(t,e){if(e&&(bf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(t)}function pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n9=function(){return!!t})()}function u1(t){return u1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u1(t)}function mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zA(t,e)}function zA(t,e){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zA(t,e)}function Nv(t,e,r){return e=i9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i9(t){var e=gme(t,"string");return bf(e)=="symbol"?e:e+""}function gme(t,e){if(bf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yme=function(e,r,n,i,s){var o=s.x1,u=s.x2,d=s.y1,f=s.y2,g=s.xAxis,x=s.yAxis;if(!g||!x)return null;var _=uN({x:g.scale,y:x.scale}),T={x:e?_.x.apply(o,{position:"start"}):_.x.rangeMin,y:n?_.y.apply(d,{position:"start"}):_.y.rangeMin},N={x:r?_.x.apply(u,{position:"end"}):_.x.rangeMax,y:i?_.y.apply(f,{position:"end"}):_.y.rangeMax};return ro(s,"discard")&&(!_.isInRange(T)||!_.isInRange(N))?null:UF(T,N)},Ov=(function(t){function e(){return cme(this,e),fme(this,e,arguments)}return mme(e,t),dme(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,u=n.y2,d=n.className,f=n.alwaysShow,g=n.clipPathId;Uo(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=Jn(i),_=Jn(s),T=Jn(o),N=Jn(u),E=this.props.shape;if(!x&&!_&&!T&&!N&&!E)return null;var A=yme(x,_,T,N,this.props);if(!A&&!E)return null;var M=ro(this.props,"hidden")?"url(#".concat(g,")"):void 0;return oe.createElement(Or,{className:Qt("recharts-reference-area",d)},e.renderRect(E,K8(K8({clipPath:M},Ut(this.props,!0)),A)),ui.renderCallByParent(this.props,A))}}])})(oe.Component);Nv(Ov,"displayName","ReferenceArea");Nv(Ov,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Nv(Ov,"renderRect",function(t,e){var r;return oe.isValidElement(t)?r=oe.cloneElement(t,e):Gt(t)?r=t(e):r=oe.createElement(lN,qA({},e,{className:"recharts-reference-area-rect"})),r});function s9(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function vme(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Tpe(n,r)}function xme(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,u=t.height;return e===1?{start:n?i:s,end:n?i+o:s+u}:{start:n?i+o:s+u,end:n?i:s}}function d1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function wme(t,e){return s9(t,e+1)}function bme(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,u=e.end,d=0,f=1,g=o,x=function(){var N=n?.[d];if(N===void 0)return{v:s9(n,f)};var E=d,A,M=function(){return A===void 0&&(A=r(N,E)),A},R=N.coordinate,I=d===0||d1(t,R,M,g,u);I||(d=0,g=o,f+=1),I&&(g=R+t*(M()/2+i),d+=f)},_;f<=s.length;)if(_=x(),_)return _.v;return[]}function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Li(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(n){_me(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _me(t,e,r){return e=Sme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sme(t){var e=Eme(t,"string");return Im(e)=="symbol"?e:e+""}function Eme(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ame(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,u=e.start,d=e.end,f=function(_){var T=s[_],N,E=function(){return N===void 0&&(N=r(T,_)),N};if(_===o-1){var A=t*(T.coordinate+t*E()/2-d);s[_]=T=Li(Li({},T),{},{tickCoord:A>0?T.coordinate-A*t:T.coordinate})}else s[_]=T=Li(Li({},T),{},{tickCoord:T.coordinate});var M=d1(t,T.tickCoord,E,u,d);M&&(d=T.tickCoord-t*(E()/2+i),s[_]=Li(Li({},T),{},{isShow:!0}))},g=o-1;g>=0;g--)f(g);return s}function Cme(t,e,r,n,i,s){var o=(n||[]).slice(),u=o.length,d=e.start,f=e.end;if(s){var g=n[u-1],x=r(g,u-1),_=t*(g.coordinate+t*x/2-f);o[u-1]=g=Li(Li({},g),{},{tickCoord:_>0?g.coordinate-_*t:g.coordinate});var T=d1(t,g.tickCoord,function(){return x},d,f);T&&(f=g.tickCoord-t*(x/2+i),o[u-1]=Li(Li({},g),{},{isShow:!0}))}for(var N=s?u-1:u,E=function(R){var I=o[R],D,L=function(){return D===void 0&&(D=r(I,R)),D};if(R===0){var $=t*(I.coordinate-t*L()/2-d);o[R]=I=Li(Li({},I),{},{tickCoord:$<0?I.coordinate-$*t:I.coordinate})}else o[R]=I=Li(Li({},I),{},{tickCoord:I.coordinate});var B=d1(t,I.tickCoord,L,d,f);B&&(d=I.tickCoord+t*(L()/2+i),o[R]=Li(Li({},I),{},{isShow:!0}))},A=0;A<N;A++)E(A);return o}function Tme(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,u=t.orientation,d=t.interval,f=t.tickFormatter,g=t.unit,x=t.angle;if(!i||!i.length||!n)return[];if(Je(d)||Xf.isSsr)return wme(i,typeof d=="number"&&Je(d)?d:0);var _=[],T=u==="top"||u==="bottom"?"width":"height",N=g&&T==="width"?_p(g,{fontSize:e,letterSpacing:r}):{width:0,height:0},E=function(I,D){var L=Gt(f)?f(I.value,D):I.value;return T==="width"?vme(_p(L,{fontSize:e,letterSpacing:r}),N,x):_p(L,{fontSize:e,letterSpacing:r})[T]},A=i.length>=2?Ki(i[1].coordinate-i[0].coordinate):1,M=xme(s,A,T);return d==="equidistantPreserveStart"?bme(A,M,E,i,o):(d==="preserveStart"||d==="preserveStartEnd"?_=Cme(A,M,E,i,o,d==="preserveStartEnd"):_=Ame(A,M,E,i,o),_.filter(function(R){return R.isShow}))}var Nme=["viewBox"],Ome=["viewBox"],Ime=["ticks"];function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Od(){return Od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Od.apply(this,arguments)}function Y8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y8(Object(r),!0).forEach(function(n){hN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LS(t,e){if(t==null)return{};var r=Pme(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Pme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o9(n.key),n)}}function Rme(t,e,r){return e&&Z8(t.prototype,e),r&&Z8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kme(t,e,r){return e=f1(e),Mme(t,a9()?Reflect.construct(e,r||[],f1(t).constructor):e.apply(t,r))}function Mme(t,e){if(e&&(_f(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a9=function(){return!!t})()}function f1(t){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f1(t)}function Lme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WA(t,e)}function WA(t,e){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WA(t,e)}function hN(t,e,r){return e=o9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o9(t){var e=Bme(t,"string");return _f(e)=="symbol"?e:e+""}function Bme(t,e){if(_f(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iv=(function(t){function e(r){var n;return jme(this,e),n=kme(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Lme(e,t),Rme(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=LS(n,Nme),u=this.props,d=u.viewBox,f=LS(u,Ome);return!Bd(s,d)||!Bd(o,f)||!Bd(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,u=i.width,d=i.height,f=i.orientation,g=i.tickSize,x=i.mirror,_=i.tickMargin,T,N,E,A,M,R,I=x?-1:1,D=n.tickSize||g,L=Je(n.tickCoord)?n.tickCoord:n.coordinate;switch(f){case"top":T=N=n.coordinate,A=o+ +!x*d,E=A-I*D,R=E-I*_,M=L;break;case"left":E=A=n.coordinate,N=s+ +!x*u,T=N-I*D,M=T-I*_,R=L;break;case"right":E=A=n.coordinate,N=s+ +x*u,T=N+I*D,M=T+I*_,R=L;break;default:T=N=n.coordinate,A=o+ +x*d,E=A+I*D,R=E+I*_,M=L;break}return{line:{x1:T,y1:E,x2:N,y2:A},tick:{x:M,y:R}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,u=n.height,d=n.orientation,f=n.mirror,g=n.axisLine,x=Kn(Kn(Kn({},Ut(this.props,!1)),Ut(g,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var _=+(d==="top"&&!f||d==="bottom"&&f);x=Kn(Kn({},x),{},{x1:i,y1:s+_*u,x2:i+o,y2:s+_*u})}else{var T=+(d==="left"&&!f||d==="right"&&f);x=Kn(Kn({},x),{},{x1:i+T*o,y1:s,x2:i+T*o,y2:s+u})}return oe.createElement("line",Od({},x,{className:Qt("recharts-cartesian-axis-line",Ls(g,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,u=this.props,d=u.tickLine,f=u.stroke,g=u.tick,x=u.tickFormatter,_=u.unit,T=Tme(Kn(Kn({},this.props),{},{ticks:n}),i,s),N=this.getTickTextAnchor(),E=this.getTickVerticalAnchor(),A=Ut(this.props,!1),M=Ut(g,!1),R=Kn(Kn({},A),{},{fill:"none"},Ut(d,!1)),I=T.map(function(D,L){var $=o.getTickLineCoord(D),B=$.line,z=$.tick,H=Kn(Kn(Kn(Kn({textAnchor:N,verticalAnchor:E},A),{},{stroke:"none",fill:f},M),z),{},{index:L,payload:D,visibleTicksCount:T.length,tickFormatter:x});return oe.createElement(Or,Od({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},du(o.props,D,L)),d&&oe.createElement("line",Od({},R,B,{className:Qt("recharts-cartesian-axis-tick-line",Ls(d,"className"))})),g&&e.renderTickItem(g,H,"".concat(Gt(x)?x(D.value,L):D.value).concat(_||"")))});return oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},I)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,u=i.height,d=i.ticksGenerator,f=i.className,g=i.hide;if(g)return null;var x=this.props,_=x.ticks,T=LS(x,Ime),N=_;return Gt(d)&&(N=_&&_.length>0?d(this.props):d(T)),o<=0||u<=0||!N||!N.length?null:oe.createElement(Or,{className:Qt("recharts-cartesian-axis",f),ref:function(A){n.layerReference=A}},s&&this.renderAxisLine(),this.renderTicks(N,this.state.fontSize,this.state.letterSpacing),ui.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,u=Qt(i.className,"recharts-cartesian-axis-tick-value");return oe.isValidElement(n)?o=oe.cloneElement(n,Kn(Kn({},i),{},{className:u})):Gt(n)?o=n(Kn(Kn({},i),{},{className:u})):o=oe.createElement(fu,Od({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(j.Component);hN(Iv,"displayName","CartesianAxis");hN(Iv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u9(n.key),n)}}function Ume(t,e,r){return e&&$me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vme(t,e,r){return e=h1(e),qme(t,l9()?Reflect.construct(e,r||[],h1(t).constructor):e.apply(t,r))}function qme(t,e){if(e&&(Sf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zme(t)}function zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l9=function(){return!!t})()}function h1(t){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h1(t)}function Wme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HA(t,e)}function c9(t,e,r){return e=u9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u9(t){var e=Hme(t,"string");return Sf(e)=="symbol"?e:e+""}function Hme(t,e){if(Sf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GA.apply(this,arguments)}function Gme(t){var e=t.xAxisId,r=ZF(),n=QF(),i=XF(e);return i==null?null:j.createElement(Iv,GA({},i,{className:Qt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Qc(o,!0)}}))}var Pv=(function(t){function e(){return Fme(this,e),Vme(this,e,arguments)}return Wme(e,t),Ume(e,[{key:"render",value:function(){return j.createElement(Gme,this.props)}}])})(j.Component);c9(Pv,"displayName","XAxis");c9(Pv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}function Kme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,h9(n.key),n)}}function Yme(t,e,r){return e&&Xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zme(t,e,r){return e=p1(e),Qme(t,d9()?Reflect.construct(e,r||[],p1(t).constructor):e.apply(t,r))}function Qme(t,e){if(e&&(Ef(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jme(t)}function Jme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d9=function(){return!!t})()}function p1(t){return p1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p1(t)}function ege(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KA(t,e)}function f9(t,e,r){return e=h9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h9(t){var e=tge(t,"string");return Ef(e)=="symbol"?e:e+""}function tge(t,e){if(Ef(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XA.apply(this,arguments)}var rge=function(e){var r=e.yAxisId,n=ZF(),i=QF(),s=YF(r);return s==null?null:j.createElement(Iv,XA({},s,{className:Qt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(u){return Qc(u,!0)}}))},jv=(function(t){function e(){return Kme(this,e),Zme(this,e,arguments)}return ege(e,t),Yme(e,[{key:"render",value:function(){return j.createElement(rge,this.props)}}])})(j.Component);f9(jv,"displayName","YAxis");f9(jv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Q8(t){return age(t)||sge(t)||ige(t)||nge()}function nge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ige(t,e){if(t){if(typeof t=="string")return YA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YA(t,e)}}function sge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function age(t){if(Array.isArray(t))return YA(t)}function YA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ZA=function(e,r,n,i,s){var o=ia(e,fN),u=ia(e,Tv),d=[].concat(Q8(o),Q8(u)),f=ia(e,Ov),g="".concat(i,"Id"),x=i[0],_=r;if(d.length&&(_=d.reduce(function(E,A){if(A.props[g]===n&&ro(A.props,"extendDomain")&&Je(A.props[x])){var M=A.props[x];return[Math.min(E[0],M),Math.max(E[1],M)]}return E},_)),f.length){var T="".concat(x,"1"),N="".concat(x,"2");_=f.reduce(function(E,A){if(A.props[g]===n&&ro(A.props,"extendDomain")&&Je(A.props[T])&&Je(A.props[N])){var M=A.props[T],R=A.props[N];return[Math.min(E[0],M,R),Math.max(E[1],M,R)]}return E},_)}return s&&s.length&&(_=s.reduce(function(E,A){return Je(A)?[Math.min(E[0],A),Math.max(E[1],A)]:E},_)),_},BS={exports:{}},J8;function oge(){return J8||(J8=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,f,g){this.fn=d,this.context=f,this.once=g||!1}function s(d,f,g,x,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var T=new i(g,x||d,_),N=r?r+f:f;return d._events[N]?d._events[N].fn?d._events[N]=[d._events[N],T]:d._events[N].push(T):(d._events[N]=T,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],g,x;if(this._eventsCount===0)return f;for(x in g=this._events)e.call(g,x)&&f.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},u.prototype.listeners=function(f){var g=r?r+f:f,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var _=0,T=x.length,N=new Array(T);_<T;_++)N[_]=x[_].fn;return N},u.prototype.listenerCount=function(f){var g=r?r+f:f,x=this._events[g];return x?x.fn?1:x.length:0},u.prototype.emit=function(f,g,x,_,T,N){var E=r?r+f:f;if(!this._events[E])return!1;var A=this._events[E],M=arguments.length,R,I;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,x),!0;case 4:return A.fn.call(A.context,g,x,_),!0;case 5:return A.fn.call(A.context,g,x,_,T),!0;case 6:return A.fn.call(A.context,g,x,_,T,N),!0}for(I=1,R=new Array(M-1);I<M;I++)R[I-1]=arguments[I];A.fn.apply(A.context,R)}else{var D=A.length,L;for(I=0;I<D;I++)switch(A[I].once&&this.removeListener(f,A[I].fn,void 0,!0),M){case 1:A[I].fn.call(A[I].context);break;case 2:A[I].fn.call(A[I].context,g);break;case 3:A[I].fn.call(A[I].context,g,x);break;case 4:A[I].fn.call(A[I].context,g,x,_);break;default:if(!R)for(L=1,R=new Array(M-1);L<M;L++)R[L-1]=arguments[L];A[I].fn.apply(A[I].context,R)}}return!0},u.prototype.on=function(f,g,x){return s(this,f,g,x,!1)},u.prototype.once=function(f,g,x){return s(this,f,g,x,!0)},u.prototype.removeListener=function(f,g,x,_){var T=r?r+f:f;if(!this._events[T])return this;if(!g)return o(this,T),this;var N=this._events[T];if(N.fn)N.fn===g&&(!_||N.once)&&(!x||N.context===x)&&o(this,T);else{for(var E=0,A=[],M=N.length;E<M;E++)(N[E].fn!==g||_&&!N[E].once||x&&N[E].context!==x)&&A.push(N[E]);A.length?this._events[T]=A.length===1?A[0]:A:o(this,T)}return this},u.prototype.removeAllListeners=function(f){var g;return f?(g=r?r+f:f,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,t.exports=u})(BS)),BS.exports}var lge=oge();const cge=Ar(lge);var FS=new cge,$S="recharts.syncMouseEvents";function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p9(n.key),n)}}function fge(t,e,r){return e&&dge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function US(t,e,r){return e=p9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function p9(t){var e=hge(t,"string");return Pm(e)=="symbol"?e:e+""}function hge(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pge=(function(){function t(){uge(this,t),US(this,"activeIndex",0),US(this,"coordinateList",[]),US(this,"layout","horizontal")}return fge(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,u=o===void 0?null:o,d=r.layout,f=d===void 0?null:d,g=r.offset,x=g===void 0?null:g,_=r.mouseHandlerCallback,T=_===void 0?null:_;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=x??this.offset,this.mouseHandlerCallback=T??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,u=i.height,d=this.coordinateList[this.activeIndex].coordinate,f=((r=window)===null||r===void 0?void 0:r.scrollX)||0,g=((n=window)===null||n===void 0?void 0:n.scrollY)||0,x=s+d+f,_=o+this.offset.top+u/2+g;this.mouseHandlerCallback({pageX:x,pageY:_})}}}])})();function mge(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&Je(n)&&Je(i))return!0}return!1}function gge(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function m9(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=Zr(e,r,n,i),u=Zr(e,r,n,s);return{points:[o,u],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function yge(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var u=e.cx,d=e.cy,f=e.innerRadius,g=e.outerRadius,x=e.angle,_=Zr(u,d,f,x),T=Zr(u,d,g,x);n=_.x,i=_.y,s=T.x,o=T.y}else return m9(e);return[{x:n,y:i},{x:s,y:o}]}function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}function eD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eD(Object(r),!0).forEach(function(n){vge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vge(t,e,r){return e=xge(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xge(t){var e=wge(t,"string");return jm(e)=="symbol"?e:e+""}function wge(t,e){if(jm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bge(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,u=t.activePayload,d=t.offset,f=t.activeTooltipIndex,g=t.tooltipAxisBandSize,x=t.layout,_=t.chartName,T=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!T||!s||!o||_!=="ScatterChart"&&i!=="axis")return null;var N,E=wA;if(_==="ScatterChart")N=o,E=yfe;else if(_==="BarChart")N=gge(x,o,d,g),E=lN;else if(x==="radial"){var A=m9(o),M=A.cx,R=A.cy,I=A.radius,D=A.startAngle,L=A.endAngle;N={cx:M,cy:R,startAngle:D,endAngle:L,innerRadius:I,outerRadius:I},E=vF}else N={points:yge(x,o,d)},E=wA;var $=j0(j0(j0(j0({stroke:"#ccc",pointerEvents:"none"},d),N),Ut(T,!1)),{},{payload:u,payloadIndex:f,className:Qt("recharts-tooltip-cursor",T.className)});return j.isValidElement(T)?j.cloneElement(T,$):j.createElement(E,$)}var _ge=["item"],Sge=["children","className","width","height","style","compact","title","desc"];function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Id.apply(this,arguments)}function tD(t,e){return Cge(t)||Age(t,e)||y9(t,e)||Ege()}function Ege(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Age(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,u=[],d=!0,f=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(d=(n=s.call(r)).done)&&(u.push(n.value),u.length!==e);d=!0);}catch(g){f=!0,i=g}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(f)throw i}}return u}}function Cge(t){if(Array.isArray(t))return t}function rD(t,e){if(t==null)return{};var r=Tge(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tge(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v9(n.key),n)}}function Ige(t,e,r){return e&&Oge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pge(t,e,r){return e=m1(e),jge(t,g9()?Reflect.construct(e,r||[],m1(t).constructor):e.apply(t,r))}function jge(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rge(t)}function Rge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(g9=function(){return!!t})()}function m1(t){return m1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m1(t)}function kge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QA(t,e)}function Cf(t){return Lge(t)||Dge(t)||y9(t)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y9(t,e){if(t){if(typeof t=="string")return JA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(t,e)}}function Dge(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lge(t){if(Array.isArray(t))return JA(t)}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nD(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(r),!0).forEach(function(n){jt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jt(t,e,r){return e=v9(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v9(t){var e=Bge(t,"string");return Af(e)=="symbol"?e:e+""}function Bge(t,e){if(Af(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fge={xAxis:["bottom","top"],yAxis:["left","right"]},$ge={width:"100%",height:"100%"},x9={x:0,y:0};function R0(t){return t}var Uge=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},Vge=function(e,r,n,i){var s=r.find(function(g){return g&&g.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,u=i.radius;return Ne(Ne(Ne({},i),Zr(i.cx,i.cy,u,o)),{},{angle:o,radius:u})}var d=s.coordinate,f=i.angle;return Ne(Ne(Ne({},i),Zr(i.cx,i.cy,d,f)),{},{angle:f,radius:d})}return x9},Rv=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(Cf(u),Cf(f)):u},[]);return o.length>0?o:e&&e.length&&Je(i)&&Je(s)?e.slice(i,s+1):[]};function w9(t){return t==="number"?[0,"auto"]:void 0}var eC=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,u=Rv(r,e);return n<0||!s||!s.length||n>=u.length?null:s.reduce(function(d,f){var g,x=(g=f.props.data)!==null&&g!==void 0?g:r;x&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(x=x.slice(e.dataStartIndex,e.dataEndIndex+1));var _;if(o.dataKey&&!o.allowDuplicatedCategory){var T=x===void 0?u:x;_=ME(T,o.dataKey,i)}else _=x&&x[n]||u[n];return _?[].concat(Cf(d),[fF(f,_)]):d},[])},iD=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=Uge(s,n),u=e.orderedTooltipTicks,d=e.tooltipAxis,f=e.tooltipTicks,g=Vle(o,u,f,d);if(g>=0&&f){var x=f[g]&&f[g].value,_=eC(e,r,g,x),T=Vge(n,u,g,s);return{activeTooltipIndex:g,activeLabel:x,activePayload:_,activeCoordinate:T}}return null},qge=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=e.layout,x=e.children,_=e.stackOffset,T=oF(g,s);return n.reduce(function(N,E){var A,M=E.type.defaultProps!==void 0?Ne(Ne({},E.type.defaultProps),E.props):E.props,R=M.type,I=M.dataKey,D=M.allowDataOverflow,L=M.allowDuplicatedCategory,$=M.scale,B=M.ticks,z=M.includeHidden,H=M[o];if(N[H])return N;var ce=Rv(e.data,{graphicalItems:i.filter(function(ue){var be,Pe=o in ue.props?ue.props[o]:(be=ue.type.defaultProps)===null||be===void 0?void 0:be[o];return Pe===H}),dataStartIndex:d,dataEndIndex:f}),K=ce.length,W,Z,Q;mge(M.domain,D,R)&&(W=mA(M.domain,null,D),T&&(R==="number"||$!=="auto")&&(Q=Ep(ce,I,"category")));var Y=w9(R);if(!W||W.length===0){var J,te=(J=M.domain)!==null&&J!==void 0?J:Y;if(I){if(W=Ep(ce,I,R),R==="category"&&T){var ie=Dee(W);L&&ie?(Z=W,W=n1(0,K)):L||(W=lM(te,W,E).reduce(function(ue,be){return ue.indexOf(be)>=0?ue:[].concat(Cf(ue),[be])},[]))}else if(R==="category")L?W=W.filter(function(ue){return ue!==""&&!ir(ue)}):W=lM(te,W,E).reduce(function(ue,be){return ue.indexOf(be)>=0||be===""||ir(be)?ue:[].concat(Cf(ue),[be])},[]);else if(R==="number"){var se=Gle(ce,i.filter(function(ue){var be,Pe,nt=o in ue.props?ue.props[o]:(be=ue.type.defaultProps)===null||be===void 0?void 0:be[o],Ie="hide"in ue.props?ue.props.hide:(Pe=ue.type.defaultProps)===null||Pe===void 0?void 0:Pe.hide;return nt===H&&(z||!Ie)}),I,s,g);se&&(W=se)}T&&(R==="number"||$!=="auto")&&(Q=Ep(ce,I,"category"))}else T?W=n1(0,K):u&&u[H]&&u[H].hasStack&&R==="number"?W=_==="expand"?[0,1]:dF(u[H].stackGroups,d,f):W=aF(ce,i.filter(function(ue){var be=o in ue.props?ue.props[o]:ue.type.defaultProps[o],Pe="hide"in ue.props?ue.props.hide:ue.type.defaultProps.hide;return be===H&&(z||!Pe)}),R,g,!0);if(R==="number")W=ZA(x,W,H,s,B),te&&(W=mA(te,W,D));else if(R==="category"&&te){var me=te,ne=W.every(function(ue){return me.indexOf(ue)>=0});ne&&(W=me)}}return Ne(Ne({},N),{},jt({},H,Ne(Ne({},M),{},{axisType:s,domain:W,categoricalDomain:Q,duplicateDomain:Z,originalDomain:(A=M.domain)!==null&&A!==void 0?A:Y,isCategorical:T,layout:g})))},{})},zge=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=e.layout,x=e.children,_=Rv(e.data,{graphicalItems:n,dataStartIndex:d,dataEndIndex:f}),T=_.length,N=oF(g,s),E=-1;return n.reduce(function(A,M){var R=M.type.defaultProps!==void 0?Ne(Ne({},M.type.defaultProps),M.props):M.props,I=R[o],D=w9("number");if(!A[I]){E++;var L;return N?L=n1(0,T):u&&u[I]&&u[I].hasStack?(L=dF(u[I].stackGroups,d,f),L=ZA(x,L,I,s)):(L=mA(D,aF(_,n.filter(function($){var B,z,H=o in $.props?$.props[o]:(B=$.type.defaultProps)===null||B===void 0?void 0:B[o],ce="hide"in $.props?$.props.hide:(z=$.type.defaultProps)===null||z===void 0?void 0:z.hide;return H===I&&!ce}),"number",g),i.defaultProps.allowDataOverflow),L=ZA(x,L,I,s)),Ne(Ne({},A),{},jt({},I,Ne(Ne({axisType:s},i.defaultProps),{},{hide:!0,orientation:Ls(Fge,"".concat(s,".").concat(E%2),null),domain:L,originalDomain:D,isCategorical:N,layout:g})))}return A},{})},Wge=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,u=r.stackGroups,d=r.dataStartIndex,f=r.dataEndIndex,g=e.children,x="".concat(i,"Id"),_=ia(g,s),T={};return _&&_.length?T=qge(e,{axes:_,graphicalItems:o,axisType:i,axisIdKey:x,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):o&&o.length&&(T=zge(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:x,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),T},Hge=function(e){var r=Sd(e),n=Qc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:MT(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Wy(r,n)}},sD=function(e){var r=e.children,n=e.defaultShowTooltip,i=Ts(r,yf),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Gge=function(e){return!e||!e.length?!1:e.some(function(r){var n=$o(r&&r.type);return n&&n.indexOf("Bar")>=0})},aD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Kge=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,u=e.yAxisMap,d=u===void 0?{}:u,f=n.width,g=n.height,x=n.children,_=n.margin||{},T=Ts(x,yf),N=Ts(x,Fd),E=Object.keys(d).reduce(function(L,$){var B=d[$],z=B.orientation;return!B.mirror&&!B.hide?Ne(Ne({},L),{},jt({},z,L[z]+B.width)):L},{left:_.left||0,right:_.right||0}),A=Object.keys(o).reduce(function(L,$){var B=o[$],z=B.orientation;return!B.mirror&&!B.hide?Ne(Ne({},L),{},jt({},z,Ls(L,"".concat(z))+B.height)):L},{top:_.top||0,bottom:_.bottom||0}),M=Ne(Ne({},A),E),R=M.bottom;T&&(M.bottom+=T.props.height||yf.defaultProps.height),N&&r&&(M=Wle(M,i,n,r));var I=f-M.left-M.right,D=g-M.top-M.bottom;return Ne(Ne({brushBottom:R},M),{},{width:Math.max(I,0),height:Math.max(D,0)})},Xge=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},b9=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,u=o===void 0?["axis"]:o,d=e.axisComponents,f=e.legendContent,g=e.formatAxisMap,x=e.defaultProps,_=function(M,R){var I=R.graphicalItems,D=R.stackGroups,L=R.offset,$=R.updateId,B=R.dataStartIndex,z=R.dataEndIndex,H=M.barSize,ce=M.layout,K=M.barGap,W=M.barCategoryGap,Z=M.maxBarSize,Q=aD(ce),Y=Q.numericAxisName,J=Q.cateAxisName,te=Gge(I),ie=[];return I.forEach(function(se,me){var ne=Rv(M.data,{graphicalItems:[se],dataStartIndex:B,dataEndIndex:z}),ue=se.type.defaultProps!==void 0?Ne(Ne({},se.type.defaultProps),se.props):se.props,be=ue.dataKey,Pe=ue.maxBarSize,nt=ue["".concat(Y,"Id")],Ie=ue["".concat(J,"Id")],je={},Be=d.reduce(function(Fe,le){var xe=R["".concat(le.axisType,"Map")],Ae=ue["".concat(le.axisType,"Id")];xe&&xe[Ae]||le.axisType==="zAxis"||pu();var rt=xe[Ae];return Ne(Ne({},Fe),{},jt(jt({},le.axisType,rt),"".concat(le.axisType,"Ticks"),Qc(rt)))},je),Te=Be[J],Ue=Be["".concat(J,"Ticks")],Ve=D&&D[nt]&&D[nt].hasStack&&rce(se,D[nt].stackGroups),Ce=$o(se.type).indexOf("Bar")>=0,tt=Wy(Te,Ue),St=[],Oe=te&&qle({barSize:H,stackGroups:D,totalSize:Xge(Be,J)});if(Ce){var Ke,ot,Qe=ir(Pe)?Z:Pe,dt=(Ke=(ot=Wy(Te,Ue,!0))!==null&&ot!==void 0?ot:Qe)!==null&&Ke!==void 0?Ke:0;St=zle({barGap:K,barCategoryGap:W,bandSize:dt!==tt?dt:tt,sizeList:Oe[Ie],maxBarSize:Qe}),dt!==tt&&(St=St.map(function(Fe){return Ne(Ne({},Fe),{},{position:Ne(Ne({},Fe.position),{},{offset:Fe.position.offset-dt/2})})}))}var Bt=se&&se.type&&se.type.getComposedData;Bt&&ie.push({props:Ne(Ne({},Bt(Ne(Ne({},Be),{},{displayedData:ne,props:M,dataKey:be,item:se,bandSize:tt,barPosition:St,offset:L,stackedData:Ve,layout:ce,dataStartIndex:B,dataEndIndex:z}))),{},jt(jt(jt({key:se.key||"item-".concat(me)},Y,Be[Y]),J,Be[J]),"animationId",$)),childIndex:Kee(se,M.children),item:se})}),ie},T=function(M,R){var I=M.props,D=M.dataStartIndex,L=M.dataEndIndex,$=M.updateId;if(!SR({props:I}))return null;var B=I.children,z=I.layout,H=I.stackOffset,ce=I.data,K=I.reverseStackOrder,W=aD(z),Z=W.numericAxisName,Q=W.cateAxisName,Y=ia(B,n),J=ece(ce,Y,"".concat(Z,"Id"),"".concat(Q,"Id"),H,K),te=d.reduce(function(ue,be){var Pe="".concat(be.axisType,"Map");return Ne(Ne({},ue),{},jt({},Pe,Wge(I,Ne(Ne({},be),{},{graphicalItems:Y,stackGroups:be.axisType===Z&&J,dataStartIndex:D,dataEndIndex:L}))))},{}),ie=Kge(Ne(Ne({},te),{},{props:I,graphicalItems:Y}),R?.legendBBox);Object.keys(te).forEach(function(ue){te[ue]=g(I,te[ue],ie,ue.replace("Map",""),r)});var se=te["".concat(Q,"Map")],me=Hge(se),ne=_(I,Ne(Ne({},te),{},{dataStartIndex:D,dataEndIndex:L,updateId:$,graphicalItems:Y,stackGroups:J,offset:ie}));return Ne(Ne({formattedGraphicalItems:ne,graphicalItems:Y,offset:ie,stackGroups:J},me),te)},N=(function(A){function M(R){var I,D,L;return Nge(this,M),L=Pge(this,M,[R]),jt(L,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(L,"accessibilityManager",new pge),jt(L,"handleLegendBBoxUpdate",function($){if($){var B=L.state,z=B.dataStartIndex,H=B.dataEndIndex,ce=B.updateId;L.setState(Ne({legendBBox:$},T({props:L.props,dataStartIndex:z,dataEndIndex:H,updateId:ce},Ne(Ne({},L.state),{},{legendBBox:$}))))}}),jt(L,"handleReceiveSyncEvent",function($,B,z){if(L.props.syncId===$){if(z===L.eventEmitterSymbol&&typeof L.props.syncMethod!="function")return;L.applySyncEvent(B)}}),jt(L,"handleBrushChange",function($){var B=$.startIndex,z=$.endIndex;if(B!==L.state.dataStartIndex||z!==L.state.dataEndIndex){var H=L.state.updateId;L.setState(function(){return Ne({dataStartIndex:B,dataEndIndex:z},T({props:L.props,dataStartIndex:B,dataEndIndex:z,updateId:H},L.state))}),L.triggerSyncEvent({dataStartIndex:B,dataEndIndex:z})}}),jt(L,"handleMouseEnter",function($){var B=L.getMouseInfo($);if(B){var z=Ne(Ne({},B),{},{isTooltipActive:!0});L.setState(z),L.triggerSyncEvent(z);var H=L.props.onMouseEnter;Gt(H)&&H(z,$)}}),jt(L,"triggeredAfterMouseMove",function($){var B=L.getMouseInfo($),z=B?Ne(Ne({},B),{},{isTooltipActive:!0}):{isTooltipActive:!1};L.setState(z),L.triggerSyncEvent(z);var H=L.props.onMouseMove;Gt(H)&&H(z,$)}),jt(L,"handleItemMouseEnter",function($){L.setState(function(){return{isTooltipActive:!0,activeItem:$,activePayload:$.tooltipPayload,activeCoordinate:$.tooltipPosition||{x:$.cx,y:$.cy}}})}),jt(L,"handleItemMouseLeave",function(){L.setState(function(){return{isTooltipActive:!1}})}),jt(L,"handleMouseMove",function($){$.persist(),L.throttleTriggeredAfterMouseMove($)}),jt(L,"handleMouseLeave",function($){L.throttleTriggeredAfterMouseMove.cancel();var B={isTooltipActive:!1};L.setState(B),L.triggerSyncEvent(B);var z=L.props.onMouseLeave;Gt(z)&&z(B,$)}),jt(L,"handleOuterEvent",function($){var B=Gee($),z=Ls(L.props,"".concat(B));if(B&&Gt(z)){var H,ce;/.*touch.*/i.test(B)?ce=L.getMouseInfo($.changedTouches[0]):ce=L.getMouseInfo($),z((H=ce)!==null&&H!==void 0?H:{},$)}}),jt(L,"handleClick",function($){var B=L.getMouseInfo($);if(B){var z=Ne(Ne({},B),{},{isTooltipActive:!0});L.setState(z),L.triggerSyncEvent(z);var H=L.props.onClick;Gt(H)&&H(z,$)}}),jt(L,"handleMouseDown",function($){var B=L.props.onMouseDown;if(Gt(B)){var z=L.getMouseInfo($);B(z,$)}}),jt(L,"handleMouseUp",function($){var B=L.props.onMouseUp;if(Gt(B)){var z=L.getMouseInfo($);B(z,$)}}),jt(L,"handleTouchMove",function($){$.changedTouches!=null&&$.changedTouches.length>0&&L.throttleTriggeredAfterMouseMove($.changedTouches[0])}),jt(L,"handleTouchStart",function($){$.changedTouches!=null&&$.changedTouches.length>0&&L.handleMouseDown($.changedTouches[0])}),jt(L,"handleTouchEnd",function($){$.changedTouches!=null&&$.changedTouches.length>0&&L.handleMouseUp($.changedTouches[0])}),jt(L,"handleDoubleClick",function($){var B=L.props.onDoubleClick;if(Gt(B)){var z=L.getMouseInfo($);B(z,$)}}),jt(L,"handleContextMenu",function($){var B=L.props.onContextMenu;if(Gt(B)){var z=L.getMouseInfo($);B(z,$)}}),jt(L,"triggerSyncEvent",function($){L.props.syncId!==void 0&&FS.emit($S,L.props.syncId,$,L.eventEmitterSymbol)}),jt(L,"applySyncEvent",function($){var B=L.props,z=B.layout,H=B.syncMethod,ce=L.state.updateId,K=$.dataStartIndex,W=$.dataEndIndex;if($.dataStartIndex!==void 0||$.dataEndIndex!==void 0)L.setState(Ne({dataStartIndex:K,dataEndIndex:W},T({props:L.props,dataStartIndex:K,dataEndIndex:W,updateId:ce},L.state)));else if($.activeTooltipIndex!==void 0){var Z=$.chartX,Q=$.chartY,Y=$.activeTooltipIndex,J=L.state,te=J.offset,ie=J.tooltipTicks;if(!te)return;if(typeof H=="function")Y=H(ie,$);else if(H==="value"){Y=-1;for(var se=0;se<ie.length;se++)if(ie[se].value===$.activeLabel){Y=se;break}}var me=Ne(Ne({},te),{},{x:te.left,y:te.top}),ne=Math.min(Z,me.x+me.width),ue=Math.min(Q,me.y+me.height),be=ie[Y]&&ie[Y].value,Pe=eC(L.state,L.props.data,Y),nt=ie[Y]?{x:z==="horizontal"?ie[Y].coordinate:ne,y:z==="horizontal"?ue:ie[Y].coordinate}:x9;L.setState(Ne(Ne({},$),{},{activeLabel:be,activeCoordinate:nt,activePayload:Pe,activeTooltipIndex:Y}))}else L.setState($)}),jt(L,"renderCursor",function($){var B,z=L.state,H=z.isTooltipActive,ce=z.activeCoordinate,K=z.activePayload,W=z.offset,Z=z.activeTooltipIndex,Q=z.tooltipAxisBandSize,Y=L.getTooltipEventType(),J=(B=$.props.active)!==null&&B!==void 0?B:H,te=L.props.layout,ie=$.key||"_recharts-cursor";return oe.createElement(bge,{key:ie,activeCoordinate:ce,activePayload:K,activeTooltipIndex:Z,chartName:r,element:$,isActive:J,layout:te,offset:W,tooltipAxisBandSize:Q,tooltipEventType:Y})}),jt(L,"renderPolarAxis",function($,B,z){var H=Ls($,"type.axisType"),ce=Ls(L.state,"".concat(H,"Map")),K=$.type.defaultProps,W=K!==void 0?Ne(Ne({},K),$.props):$.props,Z=ce&&ce[W["".concat(H,"Id")]];return j.cloneElement($,Ne(Ne({},Z),{},{className:Qt(H,Z.className),key:$.key||"".concat(B,"-").concat(z),ticks:Qc(Z,!0)}))}),jt(L,"renderPolarGrid",function($){var B=$.props,z=B.radialLines,H=B.polarAngles,ce=B.polarRadius,K=L.state,W=K.radiusAxisMap,Z=K.angleAxisMap,Q=Sd(W),Y=Sd(Z),J=Y.cx,te=Y.cy,ie=Y.innerRadius,se=Y.outerRadius;return j.cloneElement($,{polarAngles:Array.isArray(H)?H:Qc(Y,!0).map(function(me){return me.coordinate}),polarRadius:Array.isArray(ce)?ce:Qc(Q,!0).map(function(me){return me.coordinate}),cx:J,cy:te,innerRadius:ie,outerRadius:se,key:$.key||"polar-grid",radialLines:z})}),jt(L,"renderLegend",function(){var $=L.state.formattedGraphicalItems,B=L.props,z=B.children,H=B.width,ce=B.height,K=L.props.margin||{},W=H-(K.left||0)-(K.right||0),Z=iF({children:z,formattedGraphicalItems:$,legendWidth:W,legendContent:f});if(!Z)return null;var Q=Z.item,Y=rD(Z,_ge);return j.cloneElement(Q,Ne(Ne({},Y),{},{chartWidth:H,chartHeight:ce,margin:K,onBBoxUpdate:L.handleLegendBBoxUpdate}))}),jt(L,"renderTooltip",function(){var $,B=L.props,z=B.children,H=B.accessibilityLayer,ce=Ts(z,Ea);if(!ce)return null;var K=L.state,W=K.isTooltipActive,Z=K.activeCoordinate,Q=K.activePayload,Y=K.activeLabel,J=K.offset,te=($=ce.props.active)!==null&&$!==void 0?$:W;return j.cloneElement(ce,{viewBox:Ne(Ne({},J),{},{x:J.left,y:J.top}),active:te,label:Y,payload:te?Q:[],coordinate:Z,accessibilityLayer:H})}),jt(L,"renderBrush",function($){var B=L.props,z=B.margin,H=B.data,ce=L.state,K=ce.offset,W=ce.dataStartIndex,Z=ce.dataEndIndex,Q=ce.updateId;return j.cloneElement($,{key:$.key||"_recharts-brush",onChange:N0(L.handleBrushChange,$.props.onChange),data:H,x:Je($.props.x)?$.props.x:K.left,y:Je($.props.y)?$.props.y:K.top+K.height+K.brushBottom-(z.bottom||0),width:Je($.props.width)?$.props.width:K.width,startIndex:W,endIndex:Z,updateId:"brush-".concat(Q)})}),jt(L,"renderReferenceElement",function($,B,z){if(!$)return null;var H=L,ce=H.clipPathId,K=L.state,W=K.xAxisMap,Z=K.yAxisMap,Q=K.offset,Y=$.type.defaultProps||{},J=$.props,te=J.xAxisId,ie=te===void 0?Y.xAxisId:te,se=J.yAxisId,me=se===void 0?Y.yAxisId:se;return j.cloneElement($,{key:$.key||"".concat(B,"-").concat(z),xAxis:W[ie],yAxis:Z[me],viewBox:{x:Q.left,y:Q.top,width:Q.width,height:Q.height},clipPathId:ce})}),jt(L,"renderActivePoints",function($){var B=$.item,z=$.activePoint,H=$.basePoint,ce=$.childIndex,K=$.isRange,W=[],Z=B.props.key,Q=B.item.type.defaultProps!==void 0?Ne(Ne({},B.item.type.defaultProps),B.item.props):B.item.props,Y=Q.activeDot,J=Q.dataKey,te=Ne(Ne({index:ce,dataKey:J,cx:z.x,cy:z.y,r:4,fill:oN(B.item),strokeWidth:2,stroke:"#fff",payload:z.payload,value:z.value},Ut(Y,!1)),by(Y));return W.push(M.renderActiveDot(Y,te,"".concat(Z,"-activePoint-").concat(ce))),H?W.push(M.renderActiveDot(Y,Ne(Ne({},te),{},{cx:H.x,cy:H.y}),"".concat(Z,"-basePoint-").concat(ce))):K&&W.push(null),W}),jt(L,"renderGraphicChild",function($,B,z){var H=L.filterFormatItem($,B,z);if(!H)return null;var ce=L.getTooltipEventType(),K=L.state,W=K.isTooltipActive,Z=K.tooltipAxis,Q=K.activeTooltipIndex,Y=K.activeLabel,J=L.props.children,te=Ts(J,Ea),ie=H.props,se=ie.points,me=ie.isRange,ne=ie.baseLine,ue=H.item.type.defaultProps!==void 0?Ne(Ne({},H.item.type.defaultProps),H.item.props):H.item.props,be=ue.activeDot,Pe=ue.hide,nt=ue.activeBar,Ie=ue.activeShape,je=!!(!Pe&&W&&te&&(be||nt||Ie)),Be={};ce!=="axis"&&te&&te.props.trigger==="click"?Be={onClick:N0(L.handleItemMouseEnter,$.props.onClick)}:ce!=="axis"&&(Be={onMouseLeave:N0(L.handleItemMouseLeave,$.props.onMouseLeave),onMouseEnter:N0(L.handleItemMouseEnter,$.props.onMouseEnter)});var Te=j.cloneElement($,Ne(Ne({},H.props),Be));function Ue(le){return typeof Z.dataKey=="function"?Z.dataKey(le.payload):null}if(je)if(Q>=0){var Ve,Ce;if(Z.dataKey&&!Z.allowDuplicatedCategory){var tt=typeof Z.dataKey=="function"?Ue:"payload.".concat(Z.dataKey.toString());Ve=ME(se,tt,Y),Ce=me&&ne&&ME(ne,tt,Y)}else Ve=se?.[Q],Ce=me&&ne&&ne[Q];if(Ie||nt){var St=$.props.activeIndex!==void 0?$.props.activeIndex:Q;return[j.cloneElement($,Ne(Ne(Ne({},H.props),Be),{},{activeIndex:St})),null,null]}if(!ir(Ve))return[Te].concat(Cf(L.renderActivePoints({item:H,activePoint:Ve,basePoint:Ce,childIndex:Q,isRange:me})))}else{var Oe,Ke=(Oe=L.getItemByXY(L.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:Te},ot=Ke.graphicalItem,Qe=ot.item,dt=Qe===void 0?$:Qe,Bt=ot.childIndex,Fe=Ne(Ne(Ne({},H.props),Be),{},{activeIndex:Bt});return[j.cloneElement(dt,Fe),null,null]}return me?[Te,null,null]:[Te,null]}),jt(L,"renderCustomized",function($,B,z){return j.cloneElement($,Ne(Ne({key:"recharts-customized-".concat(z)},L.props),L.state))}),jt(L,"renderMap",{CartesianGrid:{handler:R0,once:!0},ReferenceArea:{handler:L.renderReferenceElement},ReferenceLine:{handler:R0},ReferenceDot:{handler:L.renderReferenceElement},XAxis:{handler:R0},YAxis:{handler:R0},Brush:{handler:L.renderBrush,once:!0},Bar:{handler:L.renderGraphicChild},Line:{handler:L.renderGraphicChild},Area:{handler:L.renderGraphicChild},Radar:{handler:L.renderGraphicChild},RadialBar:{handler:L.renderGraphicChild},Scatter:{handler:L.renderGraphicChild},Pie:{handler:L.renderGraphicChild},Funnel:{handler:L.renderGraphicChild},Tooltip:{handler:L.renderCursor,once:!0},PolarGrid:{handler:L.renderPolarGrid,once:!0},PolarAngleAxis:{handler:L.renderPolarAxis},PolarRadiusAxis:{handler:L.renderPolarAxis},Customized:{handler:L.renderCustomized}}),L.clipPathId="".concat((I=R.id)!==null&&I!==void 0?I:Km("recharts"),"-clip"),L.throttleTriggeredAfterMouseMove=rB(L.triggeredAfterMouseMove,(D=R.throttleDelay)!==null&&D!==void 0?D:1e3/60),L.state={},L}return kge(M,A),Ige(M,[{key:"componentDidMount",value:function(){var I,D;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,D=I.children,L=I.data,$=I.height,B=I.layout,z=Ts(D,Ea);if(z){var H=z.props.defaultIndex;if(!(typeof H!="number"||H<0||H>this.state.tooltipTicks.length-1)){var ce=this.state.tooltipTicks[H]&&this.state.tooltipTicks[H].value,K=eC(this.state,L,H,ce),W=this.state.tooltipTicks[H].coordinate,Z=(this.state.offset.top+$)/2,Q=B==="horizontal",Y=Q?{x:W,y:Z}:{y:W,x:Z},J=this.state.formattedGraphicalItems.find(function(ie){var se=ie.item;return se.type.name==="Scatter"});J&&(Y=Ne(Ne({},Y),J.props.points[H].tooltipPosition),K=J.props.points[H].tooltipPayload);var te={activeTooltipIndex:H,isTooltipActive:!0,activeLabel:ce,activePayload:K,activeCoordinate:Y};this.setState(te),this.renderCursor(z),this.accessibilityManager.setIndex(H)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,D){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==D.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var L,$;this.accessibilityManager.setDetails({offset:{left:(L=this.props.margin.left)!==null&&L!==void 0?L:0,top:($=this.props.margin.top)!==null&&$!==void 0?$:0}})}return null}},{key:"componentDidUpdate",value:function(I){LE([Ts(I.children,Ea)],[Ts(this.props.children,Ea)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Ts(this.props.children,Ea);if(I&&typeof I.props.shared=="boolean"){var D=I.props.shared?"axis":"item";return u.indexOf(D)>=0?D:s}return s}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var D=this.container,L=D.getBoundingClientRect(),$=kie(L),B={chartX:Math.round(I.pageX-$.left),chartY:Math.round(I.pageY-$.top)},z=L.width/D.offsetWidth||1,H=this.inRange(B.chartX,B.chartY,z);if(!H)return null;var ce=this.state,K=ce.xAxisMap,W=ce.yAxisMap,Z=this.getTooltipEventType(),Q=iD(this.state,this.props.data,this.props.layout,H);if(Z!=="axis"&&K&&W){var Y=Sd(K).scale,J=Sd(W).scale,te=Y&&Y.invert?Y.invert(B.chartX):null,ie=J&&J.invert?J.invert(B.chartY):null;return Ne(Ne({},B),{},{xValue:te,yValue:ie},Q)}return Q?Ne(Ne({},B),Q):null}},{key:"inRange",value:function(I,D){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,$=this.props.layout,B=I/L,z=D/L;if($==="horizontal"||$==="vertical"){var H=this.state.offset,ce=B>=H.left&&B<=H.left+H.width&&z>=H.top&&z<=H.top+H.height;return ce?{x:B,y:z}:null}var K=this.state,W=K.angleAxisMap,Z=K.radiusAxisMap;if(W&&Z){var Q=Sd(W);return dM({x:B,y:z},Q)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,D=this.getTooltipEventType(),L=Ts(I,Ea),$={};L&&D==="axis"&&(L.props.trigger==="click"?$={onClick:this.handleClick}:$={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var B=by(this.props,this.handleOuterEvent);return Ne(Ne({},B),$)}},{key:"addListener",value:function(){FS.on($S,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){FS.removeListener($S,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,D,L){for(var $=this.state.formattedGraphicalItems,B=0,z=$.length;B<z;B++){var H=$[B];if(H.item===I||H.props.key===I.key||D===$o(H.item.type)&&L===H.childIndex)return H}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,D=this.state.offset,L=D.left,$=D.top,B=D.height,z=D.width;return oe.createElement("defs",null,oe.createElement("clipPath",{id:I},oe.createElement("rect",{x:L,y:$,height:B,width:z})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(D,L){var $=tD(L,2),B=$[0],z=$[1];return Ne(Ne({},D),{},jt({},B,z.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(D,L){var $=tD(L,2),B=$[0],z=$[1];return Ne(Ne({},D),{},jt({},B,z.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var D;return(D=this.state.xAxisMap)===null||D===void 0||(D=D[I])===null||D===void 0?void 0:D.scale}},{key:"getYScaleByAxisId",value:function(I){var D;return(D=this.state.yAxisMap)===null||D===void 0||(D=D[I])===null||D===void 0?void 0:D.scale}},{key:"getItemByXY",value:function(I){var D=this.state,L=D.formattedGraphicalItems,$=D.activeItem;if(L&&L.length)for(var B=0,z=L.length;B<z;B++){var H=L[B],ce=H.props,K=H.item,W=K.type.defaultProps!==void 0?Ne(Ne({},K.type.defaultProps),K.props):K.props,Z=$o(K.type);if(Z==="Bar"){var Q=(ce.data||[]).find(function(ie){return Zde(I,ie)});if(Q)return{graphicalItem:H,payload:Q}}else if(Z==="RadialBar"){var Y=(ce.data||[]).find(function(ie){return dM(I,ie)});if(Y)return{graphicalItem:H,payload:Y}}else if(Sv(H,$)||Ev(H,$)||Cm(H,$)){var J=whe({graphicalItem:H,activeTooltipItem:$,itemData:W.data}),te=W.activeIndex===void 0?J:W.activeIndex;return{graphicalItem:Ne(Ne({},H),{},{childIndex:te}),payload:Cm(H,$)?W.data[J]:H.props.data[J]}}}return null}},{key:"render",value:function(){var I=this;if(!SR(this))return null;var D=this.props,L=D.children,$=D.className,B=D.width,z=D.height,H=D.style,ce=D.compact,K=D.title,W=D.desc,Z=rD(D,Sge),Q=Ut(Z,!1);if(ce)return oe.createElement(U8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement(FE,Id({},Q,{width:B,height:z,title:K,desc:W}),this.renderClipPath(),AR(L,this.renderMap)));if(this.props.accessibilityLayer){var Y,J;Q.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,Q.role=(J=this.props.role)!==null&&J!==void 0?J:"application",Q.onKeyDown=function(ie){I.accessibilityManager.keyboardEvent(ie)},Q.onFocus=function(){I.accessibilityManager.focus()}}var te=this.parseEventsOfWrapper();return oe.createElement(U8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},oe.createElement("div",Id({className:Qt("recharts-wrapper",$),style:Ne({position:"relative",cursor:"default",width:B,height:z},H)},te,{ref:function(se){I.container=se}}),oe.createElement(FE,Id({},Q,{width:B,height:z,title:K,desc:W,style:$ge}),this.renderClipPath(),AR(L,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);jt(N,"displayName",r),jt(N,"defaultProps",Ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},x)),jt(N,"getDerivedStateFromProps",function(A,M){var R=A.dataKey,I=A.data,D=A.children,L=A.width,$=A.height,B=A.layout,z=A.stackOffset,H=A.margin,ce=M.dataStartIndex,K=M.dataEndIndex;if(M.updateId===void 0){var W=sD(A);return Ne(Ne(Ne({},W),{},{updateId:0},T(Ne(Ne({props:A},W),{},{updateId:0}),M)),{},{prevDataKey:R,prevData:I,prevWidth:L,prevHeight:$,prevLayout:B,prevStackOffset:z,prevMargin:H,prevChildren:D})}if(R!==M.prevDataKey||I!==M.prevData||L!==M.prevWidth||$!==M.prevHeight||B!==M.prevLayout||z!==M.prevStackOffset||!Bd(H,M.prevMargin)){var Z=sD(A),Q={chartX:M.chartX,chartY:M.chartY,isTooltipActive:M.isTooltipActive},Y=Ne(Ne({},iD(M,I,B)),{},{updateId:M.updateId+1}),J=Ne(Ne(Ne({},Z),Q),Y);return Ne(Ne(Ne({},J),T(Ne({props:A},J),M)),{},{prevDataKey:R,prevData:I,prevWidth:L,prevHeight:$,prevLayout:B,prevStackOffset:z,prevMargin:H,prevChildren:D})}if(!LE(D,M.prevChildren)){var te,ie,se,me,ne=Ts(D,yf),ue=ne&&(te=(ie=ne.props)===null||ie===void 0?void 0:ie.startIndex)!==null&&te!==void 0?te:ce,be=ne&&(se=(me=ne.props)===null||me===void 0?void 0:me.endIndex)!==null&&se!==void 0?se:K,Pe=ue!==ce||be!==K,nt=!ir(I),Ie=nt&&!Pe?M.updateId:M.updateId+1;return Ne(Ne({updateId:Ie},T(Ne(Ne({props:A},M),{},{updateId:Ie,dataStartIndex:ue,dataEndIndex:be}),M)),{},{prevChildren:D,dataStartIndex:ue,dataEndIndex:be})}return null}),jt(N,"renderActiveDot",function(A,M,R){var I;return j.isValidElement(A)?I=j.cloneElement(A,M):Gt(A)?I=A(M):I=oe.createElement(cN,M),oe.createElement(Or,{className:"recharts-active-dot",key:R},I)});var E=j.forwardRef(function(M,R){return oe.createElement(N,Id({},M,{ref:R}))});return E.displayName=N.displayName,E},Yge=b9({chartName:"BarChart",GraphicalChild:Tu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Pv},{axisType:"yAxis",AxisComp:jv}],formatAxisMap:Epe}),Zge=b9({chartName:"PieChart",GraphicalChild:nl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_v},{axisType:"radiusAxis",AxisComp:wv}],formatAxisMap:fce,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Fi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function mu(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const _9=6048e5,Qge=864e5,S9=6e4,E9=36e5;let Jge={};function kv(){return Jge}function Rm(t,e){const r=kv(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Fi(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function g1(t){return Rm(t,{weekStartsOn:1})}function A9(t){const e=Fi(t),r=e.getFullYear(),n=mu(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=g1(n),s=mu(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=g1(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function oD(t){const e=Fi(t);return e.setHours(0,0,0,0),e}function lD(t){const e=Fi(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function e0e(t,e){const r=oD(t),n=oD(e),i=+r-lD(r),s=+n-lD(n);return Math.round((i-s)/Qge)}function t0e(t){const e=A9(t),r=mu(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),g1(r)}function r0e(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function n0e(t){if(!r0e(t)&&typeof t!="number")return!1;const e=Fi(t);return!isNaN(Number(e))}function C9(t){const e=Fi(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function T9(t){const e=Fi(t);return e.setDate(1),e.setHours(0,0,0,0),e}function i0e(t){const e=Fi(t),r=mu(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const s0e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a0e=(t,e,r)=>{let n;const i=s0e[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function VS(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const o0e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},l0e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},c0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},u0e={date:VS({formats:o0e,defaultWidth:"full"}),time:VS({formats:l0e,defaultWidth:"full"}),dateTime:VS({formats:c0e,defaultWidth:"full"})},d0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},f0e=(t,e,r,n)=>d0e[t];function ip(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,u=r?.width?String(r.width):o;i=t.formattingValues[u]||t.formattingValues[o]}else{const o=t.defaultWidth,u=r?.width?String(r.width):t.defaultWidth;i=t.values[u]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const h0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},p0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},m0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},g0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},y0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},v0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},x0e=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},w0e={ordinalNumber:x0e,era:ip({values:h0e,defaultWidth:"wide"}),quarter:ip({values:p0e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ip({values:m0e,defaultWidth:"wide"}),day:ip({values:g0e,defaultWidth:"wide"}),dayPeriod:ip({values:y0e,defaultWidth:"wide",formattingValues:v0e,defaultFormattingWidth:"wide"})};function sp(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],u=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(u)?_0e(u,x=>x.test(o)):b0e(u,x=>x.test(o));let f;f=t.valueCallback?t.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const g=e.slice(o.length);return{value:f,rest:g}}}function b0e(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function _0e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function S0e(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const u=e.slice(i.length);return{value:o,rest:u}}}const E0e=/^(\d+)(th|st|nd|rd)?/i,A0e=/\d+/i,C0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},T0e={any:[/^b/i,/^(a|c)/i]},N0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O0e={any:[/1/i,/2/i,/3/i,/4/i]},I0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},P0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},j0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},R0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},k0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},M0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},D0e={ordinalNumber:S0e({matchPattern:E0e,parsePattern:A0e,valueCallback:t=>parseInt(t,10)}),era:sp({matchPatterns:C0e,defaultMatchWidth:"wide",parsePatterns:T0e,defaultParseWidth:"any"}),quarter:sp({matchPatterns:N0e,defaultMatchWidth:"wide",parsePatterns:O0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:sp({matchPatterns:I0e,defaultMatchWidth:"wide",parsePatterns:P0e,defaultParseWidth:"any"}),day:sp({matchPatterns:j0e,defaultMatchWidth:"wide",parsePatterns:R0e,defaultParseWidth:"any"}),dayPeriod:sp({matchPatterns:k0e,defaultMatchWidth:"any",parsePatterns:M0e,defaultParseWidth:"any"})},L0e={code:"en-US",formatDistance:a0e,formatLong:u0e,formatRelative:f0e,localize:w0e,match:D0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function B0e(t){const e=Fi(t);return e0e(e,i0e(e))+1}function F0e(t){const e=Fi(t),r=+g1(e)-+t0e(e);return Math.round(r/_9)+1}function N9(t,e){const r=Fi(t),n=r.getFullYear(),i=kv(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=mu(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const u=Rm(o,e),d=mu(t,0);d.setFullYear(n,0,s),d.setHours(0,0,0,0);const f=Rm(d,e);return r.getTime()>=u.getTime()?n+1:r.getTime()>=f.getTime()?n:n-1}function $0e(t,e){const r=kv(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=N9(t,e),s=mu(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Rm(s,e)}function U0e(t,e){const r=Fi(t),n=+Rm(r,e)-+$0e(r,e);return Math.round(n/_9)+1}function Nr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const kl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Nr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Nr(r+1,2)},d(t,e){return Nr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Nr(t.getHours()%12||12,e.length)},H(t,e){return Nr(t.getHours(),e.length)},m(t,e){return Nr(t.getMinutes(),e.length)},s(t,e){return Nr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Nr(i,e.length)}},pd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cD={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return kl.y(t,e)},Y:function(t,e,r,n){const i=N9(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Nr(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Nr(s,e.length)},R:function(t,e){const r=A9(t);return Nr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Nr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Nr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Nr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return kl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Nr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=U0e(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Nr(i,e.length)},I:function(t,e,r){const n=F0e(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Nr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):kl.d(t,e)},D:function(t,e,r){const n=B0e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Nr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Nr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Nr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Nr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=pd.noon:n===0?i=pd.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=pd.evening:n>=12?i=pd.afternoon:n>=4?i=pd.morning:i=pd.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return kl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):kl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Nr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Nr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):kl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):kl.s(t,e)},S:function(t,e){return kl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return dD(n);case"XXXX":case"XX":return qc(n);default:return qc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return dD(n);case"xxxx":case"xx":return qc(n);default:return qc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+uD(n,":");default:return"GMT"+qc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+uD(n,":");default:return"GMT"+qc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Nr(n,e.length)},T:function(t,e,r){const n=t.getTime();return Nr(n,e.length)}};function uD(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Nr(s,2)}function dD(t,e){return t%60===0?(t>0?"-":"+")+Nr(Math.abs(t)/60,2):qc(t,e)}function qc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Nr(Math.trunc(n/60),2),s=Nr(n%60,2);return r+i+e+s}const fD=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},O9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},V0e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return fD(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",fD(n,e)).replace("{{time}}",O9(i,e))},q0e={p:O9,P:V0e},z0e=/^D+$/,W0e=/^Y+$/,H0e=["D","DD","YY","YYYY"];function G0e(t){return z0e.test(t)}function K0e(t){return W0e.test(t)}function X0e(t,e,r){const n=Y0e(t,e,r);if(console.warn(n),H0e.includes(t))throw new RangeError(n)}function Y0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Z0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Q0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J0e=/^'([^]*?)'?$/,eye=/''/g,tye=/[a-zA-Z]/;function vn(t,e,r){const n=kv(),i=n.locale??L0e,s=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,u=Fi(t);if(!n0e(u))throw new RangeError("Invalid time value");let d=e.match(Q0e).map(g=>{const x=g[0];if(x==="p"||x==="P"){const _=q0e[x];return _(g,i.formatLong)}return g}).join("").match(Z0e).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const x=g[0];if(x==="'")return{isToken:!1,value:rye(g)};if(cD[x])return{isToken:!0,value:g};if(x.match(tye))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(d=i.localize.preprocessor(u,d));const f={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return d.map(g=>{if(!g.isToken)return g.value;const x=g.value;(K0e(x)||G0e(x))&&X0e(x,e,String(t));const _=cD[x[0]];return _(u,x,i.localize,f)}).join("")}function rye(t){const e=t.match(J0e);return e?e[1].replace(eye,"'"):t}function I9(t,e){const r=+Fi(t),[n,i]=[+Fi(e.start),+Fi(e.end)].sort((s,o)=>s-o);return r>=n&&r<=i}function Ia(t,e){const n=aye(t);let i;if(n.date){const d=oye(n.date,2);i=lye(d.restDateString,d.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,u;if(n.time&&(o=cye(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(u=uye(n.timezone),isNaN(u))return new Date(NaN)}else{const d=new Date(s+o),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(s+o+u)}const k0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},nye=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,iye=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,sye=/^([+-])(\d{2})(?::?(\d{2}))?$/;function aye(t){const e={},r=t.split(k0.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],k0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(k0.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=k0.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function oye(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function lye(t,e){if(e===null)return new Date(NaN);const r=t.match(nye);if(!r)return new Date(NaN);const n=!!r[4],i=ap(r[1]),s=ap(r[2])-1,o=ap(r[3]),u=ap(r[4]),d=ap(r[5])-1;if(n)return mye(e,u,d)?dye(e,u,d):new Date(NaN);{const f=new Date(0);return!hye(e,s,o)||!pye(e,i)?new Date(NaN):(f.setUTCFullYear(e,s,Math.max(i,o)),f)}}function ap(t){return t?parseInt(t):1}function cye(t){const e=t.match(iye);if(!e)return NaN;const r=qS(e[1]),n=qS(e[2]),i=qS(e[3]);return gye(r,n,i)?r*E9+n*S9+i*1e3:NaN}function qS(t){return t&&parseFloat(t.replace(",","."))||0}function uye(t){if(t==="Z")return 0;const e=t.match(sye);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return yye(n,i)?r*(n*E9+i*S9):NaN}function dye(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const fye=[31,null,31,30,31,30,31,31,30,31,30,31];function P9(t){return t%400===0||t%4===0&&t%100!==0}function hye(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(fye[e]||(P9(t)?29:28))}function pye(t,e){return e>=1&&e<=(P9(t)?366:365)}function mye(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function gye(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function yye(t,e){return e>=0&&e<=59}function vye(){const{user:t}=Ui();return t?m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:"Dashboard"}),m.jsxs("p",{className:"text-muted-foreground mt-2",children:["Welcome back, ",t.fullName,". Here's what's happening today."]})]}),t.role==="student"&&m.jsx(xye,{}),t.role==="teacher"&&m.jsx(wye,{}),t.role==="superadmin"&&m.jsx(bye,{})]}):null}function na({title:t,value:e,icon:r,description:n,trend:i}){return m.jsxs($t,{className:"shadow-sm border-border hover:shadow-md transition-shadow duration-200 overflow-hidden",children:[m.jsxs(Rr,{className:"flex flex-row items-center justify-between space-y-0 pb-1 sm:pb-2 p-3 sm:p-6",children:[m.jsx(kr,{className:"text-[10px] sm:text-sm font-medium text-muted-foreground",children:t}),m.jsx(r,{className:"h-3 w-3 sm:h-4 sm:w-4 text-muted-foreground"})]}),m.jsxs(Wt,{className:"p-3 sm:p-6 pt-0",children:[m.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:e}),n&&m.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-0.5 sm:mt-1 truncate",children:[i&&m.jsx("span",{className:"text-green-600 font-medium mr-1",children:i}),n]})]})]})}function xye(){const{user:t}=Ui(),{data:e}=fT({studentId:t?.id}),{data:r}=pT(t?.id),n=e?.length||0,i=e?.filter(g=>g.status?.toLowerCase()==="present").length||0,s=e?.filter(g=>g.status?.toLowerCase()==="late").length||0,o=e?.filter(g=>g.status?.toLowerCase()==="absent").length||0,u=e?.filter(g=>g.status?.toLowerCase()==="excused").length||0,d=n>0?((i+s)/n*100).toFixed(1):"0.0",f=[{name:"Present",value:i,color:"#22c55e"},{name:"Late",value:s,color:"#f97316"},{name:"Absent",value:o,color:"#ef4444"},{name:"Excused",value:u,color:"#3b82f6"}];return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[m.jsx(na,{title:"Attendance Rate",value:`${d}%`,icon:jC,description:"Overall participation",trend:parseFloat(d)>=85?"Excellent":"Needs Attention"}),m.jsx(na,{title:"Active Subjects",value:r?.length||0,icon:Ra,description:"Currently enrolled"}),m.jsx(na,{title:"Absences",value:o,icon:no,description:"Total unexcused"}),m.jsx(na,{title:"Classes Attended",value:i,icon:Fo,description:"Total sessions"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 sm:gap-6",children:[m.jsxs($t,{className:"md:col-span-2 shadow-sm",children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Recent Attendance"}),m.jsx(on,{children:"Your latest class records"})]}),m.jsx(Wt,{children:m.jsxs("div",{className:"space-y-4",children:[e?.slice(0,5).map(g=>m.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 bg-gray-50 rounded-lg border border-gray-100 gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[m.jsx("div",{className:"h-9 w-9 sm:h-10 sm:w-10 rounded-full bg-white border border-gray-200 flex items-center justify-center flex-shrink-0",children:m.jsx(Ra,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"})}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-medium text-xs sm:text-sm text-gray-900 truncate",children:g.subjectName||"Subject"}),m.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:vn(new Date(g.date),"MMMM d, yyyy")})]})]}),m.jsx(GJ,{status:g.status})]},g.id)),(!e||e.length===0)&&m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No attendance records found"})]})})]}),m.jsxs($t,{className:"shadow-sm",children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Overview"}),m.jsx(on,{children:"Status breakdown"})]}),m.jsx(Wt,{className:"h-[280px] sm:h-[300px]",children:n>0?m.jsxs(m.Fragment,{children:[m.jsx(nB,{width:"100%",height:"80%",children:m.jsxs(Zge,{children:[m.jsx(nl,{data:f.filter(g=>g.value>0),cx:"50%",cy:"50%",innerRadius:45,outerRadius:65,paddingAngle:3,dataKey:"value",label:({name:g,value:x,percent:_})=>`${x} (${(_*100).toFixed(0)}%)`,labelLine:!1,children:f.filter(g=>g.value>0).map((g,x)=>m.jsx(sv,{fill:g.color},`cell-${x}`))}),m.jsx(Ea,{formatter:(g,x)=>[`${g} classes`,x]})]})}),m.jsx("div",{className:"flex flex-wrap justify-center gap-2 sm:gap-3 text-[10px] sm:text-xs text-muted-foreground",children:f.map(g=>m.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[m.jsx("div",{className:"w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full",style:{backgroundColor:g.color}}),m.jsxs("span",{children:[g.name,": ",g.value]})]},g.name))})]}):m.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-muted-foreground",children:[m.jsx(Fo,{className:"w-12 h-12 mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No attendance data yet"}),m.jsx("p",{className:"text-xs",children:"Your records will appear here"})]})})]})]})]})}function wye(){const{user:t}=Ui(),{data:e}=Wf(),{data:r}=r7(),[,n]=xu(),{data:i}=Ba({queryKey:["teacher-stats",t?.id],queryFn:async()=>{if(!t?.id)return{totalStudents:0};const{data:N}=await Et.from("subjects").select("id").eq("teacher_id",t.id);if(!N||N.length===0)return{totalStudents:0};const E=N.map(R=>R.id),{data:A}=await Et.from("enrollments").select("student_id").in("subject_id",E);return{totalStudents:new Set(A?.map(R=>R.student_id)||[]).size}},enabled:!!t?.id}),s=i?.totalStudents||0,o="88%",u=r?.reduce((N,E)=>{const A=E.subjectId;return N[A]||(N[A]={subjectName:E.subjectName,subjectCode:E.subjectCode,schedules:[]}),N[A].schedules.push({dayOfWeek:E.dayOfWeek,startTime:E.startTime,endTime:E.endTime,room:E.room}),N},{})||{},d=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],f={Monday:"Mon",Tuesday:"Tue",Wednesday:"Wed",Thursday:"Thu",Friday:"Fri",Saturday:"Sat",Sunday:"Sun"},g=N=>{const E=N.reduce((A,M)=>{const R=`${M.startTime}-${M.endTime}-${M.room}`;return A[R]||(A[R]={days:[],startTime:M.startTime,endTime:M.endTime,room:M.room}),A[R].days.push(M.dayOfWeek),A},{});return Object.values(E).map(A=>({...A,days:A.days.sort((M,R)=>d.indexOf(M)-d.indexOf(R))}))},x=N=>{const[E,A]=N.split(":"),M=parseInt(E),R=M>=12?"PM":"AM";return`${M%12||12}:${A} ${R}`},_=new Date().toLocaleDateString("en-US",{weekday:"long"}),T=r?.filter(N=>N.dayOfWeek===_).sort((N,E)=>N.startTime.localeCompare(E.startTime))||[];return m.jsxs("div",{className:"space-y-6 overflow-x-hidden",children:[m.jsxs("div",{className:"grid gap-3 sm:gap-4 grid-cols-2 lg:grid-cols-4",children:[m.jsx(na,{title:"Total Classes",value:e?.length||0,icon:Ra,description:"Active subjects"}),m.jsx(na,{title:"Total Students",value:s,icon:Qo,description:"Across all sections"}),m.jsx(na,{title:"Avg. Attendance",value:o,icon:jC,description:"This semester"}),m.jsx(na,{title:"Classes Today",value:T.length,icon:Hl,description:_})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-4 sm:gap-6",children:[m.jsxs($t,{className:"shadow-sm overflow-hidden",children:[m.jsxs(Rr,{className:"pb-3 px-3 sm:px-6",children:[m.jsxs(kr,{className:"flex items-center gap-2 text-base sm:text-lg",children:[m.jsx(Fo,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),"Class Schedule"]}),m.jsx(on,{className:"text-xs sm:text-sm",children:"Your daily and weekly class schedule"})]}),m.jsx(Wt,{className:"px-3 sm:px-6",children:m.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 sm:mb-3 flex items-center gap-2",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"}),"Today's Classes (",_,")"]}),T.length>0?m.jsx("div",{className:"space-y-2",children:T.map((N,E)=>m.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-primary/5 rounded-lg border border-primary/20 gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[m.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 text-primary flex items-center justify-center flex-shrink-0",children:m.jsx(Ra,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("h4",{className:"font-medium text-gray-900 text-xs sm:text-sm truncate",children:N.subjectName}),m.jsx("span",{className:"text-[10px] sm:text-xs text-muted-foreground",children:N.subjectCode})]})]}),m.jsxs("div",{className:"text-right flex-shrink-0",children:[m.jsx("div",{className:"text-[10px] sm:text-sm font-medium text-gray-900 whitespace-nowrap",children:x(N.startTime)}),m.jsxs("div",{className:"flex items-center gap-1 text-[10px] sm:text-xs text-muted-foreground justify-end",children:[m.jsx(fE,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),m.jsx("span",{className:"truncate max-w-[50px] sm:max-w-none",children:N.room})]})]})]},E))}):m.jsx("div",{className:"text-center py-3 sm:py-4 text-muted-foreground bg-gray-50 rounded-lg border border-dashed text-xs sm:text-sm",children:"No classes scheduled for today"})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-xs sm:text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"Weekly Schedule"}),m.jsx("div",{className:"space-y-2 sm:space-y-3",children:Object.values(u).length>0?Object.values(u).map((N,E)=>m.jsxs("div",{className:"p-2 sm:p-3 bg-gray-50 rounded-lg border border-gray-100",children:[m.jsxs("div",{className:"flex items-start gap-2 mb-2 flex-wrap",children:[m.jsx("h4",{className:"font-medium text-gray-900 text-xs sm:text-sm break-words",children:N.subjectName}),m.jsx("span",{className:"text-[10px] sm:text-xs font-mono bg-primary/10 text-primary px-1 sm:px-1.5 py-0.5 rounded flex-shrink-0",children:N.subjectCode})]}),m.jsx("div",{className:"space-y-1 sm:space-y-1.5",children:g(N.schedules).map((A,M)=>m.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap sm:items-center gap-1 sm:gap-x-3 sm:gap-y-1 text-[10px] sm:text-xs bg-white p-1.5 sm:p-2 rounded border border-gray-100",children:[m.jsxs("div",{className:"flex items-center gap-1 sm:gap-1.5",children:[m.jsx(Hl,{className:"h-3 w-3 sm:h-3.5 sm:w-3.5 text-muted-foreground flex-shrink-0"}),m.jsx("span",{className:"font-medium text-gray-700",children:A.days.length>1?A.days.map(R=>f[R]).join(", "):f[A.days[0]]||A.days[0]}),m.jsxs("span",{className:"text-muted-foreground",children:[x(A.startTime)," - ",x(A.endTime)]})]}),m.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground ml-4 sm:ml-0",children:[m.jsx(fE,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3"}),m.jsx("span",{children:A.room})]})]},M))})]},E)):m.jsx("div",{className:"text-center py-3 sm:py-4 text-muted-foreground bg-gray-50 rounded-lg border border-dashed text-xs sm:text-sm",children:"No schedules set up yet"})})]})]})})]}),m.jsxs($t,{className:"shadow-sm overflow-hidden",children:[m.jsxs(Rr,{className:"pb-3 px-3 sm:px-6",children:[m.jsx(kr,{className:"text-base sm:text-lg",children:"My Classes"}),m.jsx(on,{className:"text-xs sm:text-sm",children:"Manage your subjects and students"})]}),m.jsx(Wt,{className:"px-3 sm:px-6",children:m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e?.map(N=>m.jsxs("div",{className:"p-2.5 sm:p-4 rounded-lg sm:rounded-xl border bg-card hover:border-primary/50 transition-colors group cursor-pointer",onClick:()=>n(`/subjects?viewStudents=${N.id}`),children:[m.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1.5 sm:mb-2",children:[m.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-lg bg-primary/10 text-primary flex items-center justify-center group-hover:bg-primary group-hover:text-white transition-colors flex-shrink-0",children:m.jsx(Ra,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),m.jsx("span",{className:"text-[10px] sm:text-xs font-mono bg-gray-100 px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-gray-600",children:N.code})]}),m.jsx("h3",{className:"font-semibold text-xs sm:text-base mb-0.5 sm:mb-1 truncate",children:N.name}),m.jsx("p",{className:"text-[10px] sm:text-sm text-muted-foreground line-clamp-1",children:N.description||"No description provided."}),m.jsxs("div",{className:"mt-2 sm:mt-3 pt-2 sm:pt-3 border-t flex justify-between items-center text-[10px] sm:text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"View Students"}),m.jsx("span",{className:"text-primary font-medium group-hover:underline",children:"View "})]})]},N.id)),(!e||e.length===0)&&m.jsx("div",{className:"text-center py-6 sm:py-8 text-muted-foreground bg-gray-50 rounded-xl border border-dashed text-xs sm:text-sm",children:"No classes assigned yet."})]})})]})]})]})}function bye(){const{settings:t}=qf();return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[m.jsx(na,{title:"Total Users",value:"1,234",icon:Qo,description:"+12 this week"}),m.jsx(na,{title:"Active Classes",value:"48",icon:Ra,description:"Currently in session"}),m.jsx(na,{title:"System Health",value:"98%",icon:jC,description:"Operational"}),m.jsx(na,{title:"Reports Generated",value:"156",icon:Fo,description:"Last 30 days"})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Attendance Trends"}),m.jsx(on,{children:"Weekly overview"})]}),m.jsx(Wt,{className:"h-[300px]",children:m.jsx(nB,{width:"100%",height:"100%",children:m.jsxs(Yge,{data:[{day:"Mon",attendance:85},{day:"Tue",attendance:92},{day:"Wed",attendance:88},{day:"Thu",attendance:90},{day:"Fri",attendance:82}],children:[m.jsx(Pv,{dataKey:"day"}),m.jsx(jv,{}),m.jsx(Ea,{}),m.jsx(Tu,{dataKey:"attendance",fill:t.primaryColor,radius:[4,4,0,0]})]})})})]}),m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Recent Activity"}),m.jsx(on,{children:"System logs"})]}),m.jsx(Wt,{children:m.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(e=>m.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[m.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),m.jsxs("p",{className:"flex-1 text-gray-600",children:[m.jsx("span",{className:"font-medium text-gray-900",children:"System"})," backup completed successfully."]}),m.jsx("span",{className:"text-muted-foreground text-xs",children:"2h ago"})]},e))})})]})]})]})}var zS="focusScope.autoFocusOnMount",WS="focusScope.autoFocusOnUnmount",hD={bubbles:!1,cancelable:!0},_ye="FocusScope",Mv=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[u,d]=j.useState(null),f=Ni(i),g=Ni(s),x=j.useRef(null),_=dr(e,E=>d(E)),T=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let E=function(I){if(T.paused||!u)return;const D=I.target;u.contains(D)?x.current=D:Ml(x.current,{select:!0})},A=function(I){if(T.paused||!u)return;const D=I.relatedTarget;D!==null&&(u.contains(D)||Ml(x.current,{select:!0}))},M=function(I){if(document.activeElement===document.body)for(const L of I)L.removedNodes.length>0&&Ml(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",A);const R=new MutationObserver(M);return u&&R.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",A),R.disconnect()}}},[n,u,T.paused]),j.useEffect(()=>{if(u){mD.add(T);const E=document.activeElement;if(!u.contains(E)){const M=new CustomEvent(zS,hD);u.addEventListener(zS,f),u.dispatchEvent(M),M.defaultPrevented||(Sye(Nye(j9(u)),{select:!0}),document.activeElement===E&&Ml(u))}return()=>{u.removeEventListener(zS,f),setTimeout(()=>{const M=new CustomEvent(WS,hD);u.addEventListener(WS,g),u.dispatchEvent(M),M.defaultPrevented||Ml(E??document.body,{select:!0}),u.removeEventListener(WS,g),mD.remove(T)},0)}}},[u,f,g,T]);const N=j.useCallback(E=>{if(!r&&!n||T.paused)return;const A=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,M=document.activeElement;if(A&&M){const R=E.currentTarget,[I,D]=Eye(R);I&&D?!E.shiftKey&&M===D?(E.preventDefault(),r&&Ml(I,{select:!0})):E.shiftKey&&M===I&&(E.preventDefault(),r&&Ml(D,{select:!0})):M===R&&E.preventDefault()}},[r,n,T.paused]);return m.jsx(Ct.div,{tabIndex:-1,...o,ref:_,onKeyDown:N})});Mv.displayName=_ye;function Sye(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Ml(n,{select:e}),document.activeElement!==r)return}function Eye(t){const e=j9(t),r=pD(e,t),n=pD(e.reverse(),t);return[r,n]}function j9(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function pD(t,e){for(const r of t)if(!Aye(r,{upTo:e}))return r}function Aye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Cye(t){return t instanceof HTMLInputElement&&"select"in t}function Ml(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Cye(t)&&e&&t.select()}}var mD=Tye();function Tye(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=gD(t,e),t.unshift(e)},remove(e){t=gD(t,e),t[0]?.resume()}}}function gD(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Nye(t){return t.filter(e=>e.tagName!=="A")}var HS=0;function pN(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??yD()),document.body.insertAdjacentElement("beforeend",t[1]??yD()),HS++,()=>{HS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),HS--}},[])}function yD(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var H0="right-scroll-bar-position",G0="width-before-scroll-bar",Oye="with-scroll-bars-hidden",Iye="--removed-body-scroll-bar-size";function GS(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Pye(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var jye=typeof window<"u"?j.useLayoutEffect:j.useEffect,vD=new WeakMap;function Rye(t,e){var r=Pye(null,function(n){return t.forEach(function(i){return GS(i,n)})});return jye(function(){var n=vD.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(u){s.has(u)||GS(u,null)}),s.forEach(function(u){i.has(u)||GS(u,o)})}vD.set(r,t)},[t]),r}function kye(t){return t}function Mye(t,e){e===void 0&&(e=kye);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(u){return u!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(u){return s(u)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var u=r;r=[],u.forEach(s),o=r}var d=function(){var g=o;o=[],g.forEach(s)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(g){o.push(g),f()},filter:function(g){return o=o.filter(g),r}}}};return i}function Dye(t){t===void 0&&(t={});var e=Mye(null);return e.options=Xa({async:!0,ssr:!1},t),e}var R9=function(t){var e=t.sideCar,r=Vf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Xa({},r))};R9.isSideCarExport=!0;function Lye(t,e){return t.useMedium(e),R9}var k9=Dye(),KS=function(){},Dv=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:KS,onWheelCapture:KS,onTouchMoveCapture:KS}),i=n[0],s=n[1],o=t.forwardProps,u=t.children,d=t.className,f=t.removeScrollBar,g=t.enabled,x=t.shards,_=t.sideCar,T=t.noIsolation,N=t.inert,E=t.allowPinchZoom,A=t.as,M=A===void 0?"div":A,R=t.gapMode,I=Vf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=_,L=Rye([r,e]),$=Xa(Xa({},I),i);return j.createElement(j.Fragment,null,g&&j.createElement(D,{sideCar:k9,removeScrollBar:f,shards:x,noIsolation:T,inert:N,setCallbacks:s,allowPinchZoom:!!E,lockRef:r,gapMode:R}),o?j.cloneElement(j.Children.only(u),Xa(Xa({},$),{ref:L})):j.createElement(M,Xa({},$,{className:d,ref:L}),u))});Dv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dv.classNames={fullWidth:G0,zeroRight:H0};var Bye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Fye(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Bye();return e&&t.setAttribute("nonce",e),t}function $ye(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Uye(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Vye=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Fye())&&($ye(e,r),Uye(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},qye=function(){var t=Vye();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},M9=function(){var t=qye(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},zye={left:0,top:0,right:0,gap:0},XS=function(t){return parseInt(t||"",10)||0},Wye=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[XS(r),XS(n),XS(i)]},Hye=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zye;var e=Wye(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Gye=M9(),Vd="data-scroll-locked",Kye=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Oye,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Vd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(H0,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(G0,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(H0," .").concat(H0,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(G0," .").concat(G0,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vd,`] {
    `).concat(Iye,": ").concat(u,`px;
  }
`)},xD=function(){var t=parseInt(document.body.getAttribute(Vd)||"0",10);return isFinite(t)?t:0},Xye=function(){j.useEffect(function(){return document.body.setAttribute(Vd,(xD()+1).toString()),function(){var t=xD()-1;t<=0?document.body.removeAttribute(Vd):document.body.setAttribute(Vd,t.toString())}},[])},Yye=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Xye();var s=j.useMemo(function(){return Hye(i)},[i]);return j.createElement(Gye,{styles:Kye(s,!e,i,r?"":"!important")})},tC=!1;if(typeof window<"u")try{var M0=Object.defineProperty({},"passive",{get:function(){return tC=!0,!0}});window.addEventListener("test",M0,M0),window.removeEventListener("test",M0,M0)}catch{tC=!1}var md=tC?{passive:!1}:!1,Zye=function(t){return t.tagName==="TEXTAREA"},D9=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Zye(t)&&r[e]==="visible")},Qye=function(t){return D9(t,"overflowY")},Jye=function(t){return D9(t,"overflowX")},wD=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=L9(t,n);if(i){var s=B9(t,n),o=s[1],u=s[2];if(o>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},e1e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},t1e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},L9=function(t,e){return t==="v"?Qye(e):Jye(e)},B9=function(t,e){return t==="v"?e1e(e):t1e(e)},r1e=function(t,e){return t==="h"&&e==="rtl"?-1:1},n1e=function(t,e,r,n,i){var s=r1e(t,window.getComputedStyle(e).direction),o=s*n,u=r.target,d=e.contains(u),f=!1,g=o>0,x=0,_=0;do{var T=B9(t,u),N=T[0],E=T[1],A=T[2],M=E-A-s*N;(N||M)&&L9(t,u)&&(x+=M,_+=N),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(g&&Math.abs(x)<1||!g&&Math.abs(_)<1)&&(f=!0),f},D0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},bD=function(t){return[t.deltaX,t.deltaY]},_D=function(t){return t&&"current"in t?t.current:t},i1e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},s1e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},a1e=0,gd=[];function o1e(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(a1e++)[0],s=j.useState(M9)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=WK([t.lockRef.current],(t.shards||[]).map(_D),!0).filter(Boolean);return E.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=j.useCallback(function(E,A){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!o.current.allowPinchZoom;var M=D0(E),R=r.current,I="deltaX"in E?E.deltaX:R[0]-M[0],D="deltaY"in E?E.deltaY:R[1]-M[1],L,$=E.target,B=Math.abs(I)>Math.abs(D)?"h":"v";if("touches"in E&&B==="h"&&$.type==="range")return!1;var z=wD(B,$);if(!z)return!0;if(z?L=B:(L=B==="v"?"h":"v",z=wD(B,$)),!z)return!1;if(!n.current&&"changedTouches"in E&&(I||D)&&(n.current=L),!L)return!0;var H=n.current||L;return n1e(H,A,E,H==="h"?I:D)},[]),d=j.useCallback(function(E){var A=E;if(!(!gd.length||gd[gd.length-1]!==s)){var M="deltaY"in A?bD(A):D0(A),R=e.current.filter(function(L){return L.name===A.type&&(L.target===A.target||A.target===L.shadowParent)&&i1e(L.delta,M)})[0];if(R&&R.should){A.cancelable&&A.preventDefault();return}if(!R){var I=(o.current.shards||[]).map(_D).filter(Boolean).filter(function(L){return L.contains(A.target)}),D=I.length>0?u(A,I[0]):!o.current.noIsolation;D&&A.cancelable&&A.preventDefault()}}},[]),f=j.useCallback(function(E,A,M,R){var I={name:E,delta:A,target:M,should:R,shadowParent:l1e(M)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(D){return D!==I})},1)},[]),g=j.useCallback(function(E){r.current=D0(E),n.current=void 0},[]),x=j.useCallback(function(E){f(E.type,bD(E),E.target,u(E,t.lockRef.current))},[]),_=j.useCallback(function(E){f(E.type,D0(E),E.target,u(E,t.lockRef.current))},[]);j.useEffect(function(){return gd.push(s),t.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:_}),document.addEventListener("wheel",d,md),document.addEventListener("touchmove",d,md),document.addEventListener("touchstart",g,md),function(){gd=gd.filter(function(E){return E!==s}),document.removeEventListener("wheel",d,md),document.removeEventListener("touchmove",d,md),document.removeEventListener("touchstart",g,md)}},[]);var T=t.removeScrollBar,N=t.inert;return j.createElement(j.Fragment,null,N?j.createElement(s,{styles:s1e(i)}):null,T?j.createElement(Yye,{gapMode:t.gapMode}):null)}function l1e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const c1e=Lye(k9,o1e);var Lv=j.forwardRef(function(t,e){return j.createElement(Dv,Xa({},t,{ref:e,sideCar:c1e}))});Lv.classNames=Dv.classNames;var u1e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},yd=new WeakMap,L0=new WeakMap,B0={},YS=0,F9=function(t){return t&&(t.host||F9(t.parentNode))},d1e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=F9(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},f1e=function(t,e,r,n){var i=d1e(e,Array.isArray(t)?t:[t]);B0[r]||(B0[r]=new WeakMap);var s=B0[r],o=[],u=new Set,d=new Set(i),f=function(x){!x||u.has(x)||(u.add(x),f(x.parentNode))};i.forEach(f);var g=function(x){!x||d.has(x)||Array.prototype.forEach.call(x.children,function(_){if(u.has(_))g(_);else try{var T=_.getAttribute(n),N=T!==null&&T!=="false",E=(yd.get(_)||0)+1,A=(s.get(_)||0)+1;yd.set(_,E),s.set(_,A),o.push(_),E===1&&N&&L0.set(_,!0),A===1&&_.setAttribute(r,"true"),N||_.setAttribute(n,"true")}catch(M){console.error("aria-hidden: cannot operate on ",_,M)}})};return g(e),u.clear(),YS++,function(){o.forEach(function(x){var _=yd.get(x)-1,T=s.get(x)-1;yd.set(x,_),s.set(x,T),_||(L0.has(x)||x.removeAttribute(n),L0.delete(x)),T||x.removeAttribute(r)}),YS--,YS||(yd=new WeakMap,yd=new WeakMap,L0=new WeakMap,B0={})}},mN=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=u1e(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),f1e(n,i,r,"aria-hidden")):function(){return null}},gN="Dialog",[$9,U9]=es(gN),[h1e,$a]=$9(gN),V9=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,u=j.useRef(null),d=j.useRef(null),[f=!1,g]=Wl({prop:n,defaultProp:i,onChange:s});return m.jsx(h1e,{scope:e,triggerRef:u,contentRef:d,contentId:Qa(),titleId:Qa(),descriptionId:Qa(),open:f,onOpenChange:g,onOpenToggle:j.useCallback(()=>g(x=>!x),[g]),modal:o,children:r})};V9.displayName=gN;var q9="DialogTrigger",z9=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$a(q9,r),s=dr(e,i.triggerRef);return m.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xN(i.open),...n,ref:s,onClick:et(t.onClick,i.onOpenToggle)})});z9.displayName=q9;var yN="DialogPortal",[p1e,W9]=$9(yN,{forceMount:void 0}),H9=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=$a(yN,e);return m.jsx(p1e,{scope:e,forceMount:r,children:j.Children.map(n,o=>m.jsx(oa,{present:r||s.open,children:m.jsx(Bm,{asChild:!0,container:i,children:o})}))})};H9.displayName=yN;var y1="DialogOverlay",G9=j.forwardRef((t,e)=>{const r=W9(y1,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=$a(y1,t.__scopeDialog);return s.modal?m.jsx(oa,{present:n||s.open,children:m.jsx(g1e,{...i,ref:e})}):null});G9.displayName=y1;var m1e=su("DialogOverlay.RemoveScroll"),g1e=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$a(y1,r);return m.jsx(Lv,{as:m1e,allowPinchZoom:!0,shards:[i.contentRef],children:m.jsx(Ct.div,{"data-state":xN(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),gu="DialogContent",K9=j.forwardRef((t,e)=>{const r=W9(gu,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=$a(gu,t.__scopeDialog);return m.jsx(oa,{present:n||s.open,children:s.modal?m.jsx(y1e,{...i,ref:e}):m.jsx(v1e,{...i,ref:e})})});K9.displayName=gu;var y1e=j.forwardRef((t,e)=>{const r=$a(gu,t.__scopeDialog),n=j.useRef(null),i=dr(e,r.contentRef,n);return j.useEffect(()=>{const s=n.current;if(s)return mN(s)},[]),m.jsx(X9,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:et(t.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:et(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0;(o.button===2||u)&&s.preventDefault()}),onFocusOutside:et(t.onFocusOutside,s=>s.preventDefault())})}),v1e=j.forwardRef((t,e)=>{const r=$a(gu,t.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return m.jsx(X9,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),X9=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,u=$a(gu,r),d=j.useRef(null),f=dr(e,d);return pN(),m.jsxs(m.Fragment,{children:[m.jsx(Mv,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:m.jsx(Lf,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":xN(u.open),...o,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(w1e,{titleId:u.titleId}),m.jsx(_1e,{contentRef:d,descriptionId:u.descriptionId})]})]})}),vN="DialogTitle",Y9=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$a(vN,r);return m.jsx(Ct.h2,{id:i.titleId,...n,ref:e})});Y9.displayName=vN;var Z9="DialogDescription",Q9=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$a(Z9,r);return m.jsx(Ct.p,{id:i.descriptionId,...n,ref:e})});Q9.displayName=Z9;var J9="DialogClose",e$=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=$a(J9,r);return m.jsx(Ct.button,{type:"button",...n,ref:e,onClick:et(t.onClick,()=>i.onOpenChange(!1))})});e$.displayName=J9;function xN(t){return t?"open":"closed"}var t$="DialogTitleWarning",[x1e,r$]=_W(t$,{contentName:gu,titleName:vN,docsSlug:"dialog"}),w1e=({titleId:t})=>{const e=r$(t$),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},b1e="DialogDescriptionWarning",_1e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${r$(b1e).contentName}}.`;return j.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},n$=V9,i$=z9,s$=H9,wN=G9,bN=K9,_N=Y9,SN=Q9,EN=e$;const Nu=n$,a$=i$,S1e=s$,o$=j.forwardRef(({className:t,...e},r)=>m.jsx(wN,{ref:r,className:Ze("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));o$.displayName=wN.displayName;const ic=j.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(S1e,{children:[m.jsx(o$,{}),m.jsxs(bN,{ref:n,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,m.jsxs(EN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(Ip,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ic.displayName=bN.displayName;const sc=({className:t,...e})=>m.jsx("div",{className:Ze("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});sc.displayName="DialogHeader";const Ou=({className:t,...e})=>m.jsx("div",{className:Ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ou.displayName="DialogFooter";const ac=j.forwardRef(({className:t,...e},r)=>m.jsx(_N,{ref:r,className:Ze("text-lg font-semibold leading-none tracking-tight",t),...e}));ac.displayName=_N.displayName;const Jf=j.forwardRef(({className:t,...e},r)=>m.jsx(SN,{ref:r,className:Ze("text-sm text-muted-foreground",t),...e}));Jf.displayName=SN.displayName;var rC=["Enter"," "],E1e=["ArrowDown","PageUp","Home"],l$=["ArrowUp","PageDown","End"],A1e=[...E1e,...l$],C1e={ltr:[...rC,"ArrowRight"],rtl:[...rC,"ArrowLeft"]},T1e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},eg="Menu",[km,N1e,O1e]=P1(eg),[Iu,c$]=es(eg,[O1e,Uf,zf]),Bv=Uf(),u$=zf(),[I1e,Pu]=Iu(eg),[P1e,tg]=Iu(eg),d$=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,u=Bv(e),[d,f]=j.useState(null),g=j.useRef(!1),x=Ni(s),_=Wm(i);return j.useEffect(()=>{const T=()=>{g.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>g.current=!1;return document.addEventListener("keydown",T,{capture:!0}),()=>{document.removeEventListener("keydown",T,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),m.jsx(I5,{...u,children:m.jsx(I1e,{scope:e,open:r,onOpenChange:x,content:d,onContentChange:f,children:m.jsx(P1e,{scope:e,onClose:j.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:_,modal:o,children:n})})})};d$.displayName=eg;var j1e="MenuAnchor",AN=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Bv(r);return m.jsx(qC,{...i,...n,ref:e})});AN.displayName=j1e;var CN="MenuPortal",[R1e,f$]=Iu(CN,{forceMount:void 0}),h$=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=Pu(CN,e);return m.jsx(R1e,{scope:e,forceMount:r,children:m.jsx(oa,{present:r||s.open,children:m.jsx(Bm,{asChild:!0,container:i,children:n})})})};h$.displayName=CN;var sa="MenuContent",[k1e,TN]=Iu(sa),p$=j.forwardRef((t,e)=>{const r=f$(sa,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Pu(sa,t.__scopeMenu),o=tg(sa,t.__scopeMenu);return m.jsx(km.Provider,{scope:t.__scopeMenu,children:m.jsx(oa,{present:n||s.open,children:m.jsx(km.Slot,{scope:t.__scopeMenu,children:o.modal?m.jsx(M1e,{...i,ref:e}):m.jsx(D1e,{...i,ref:e})})})})}),M1e=j.forwardRef((t,e)=>{const r=Pu(sa,t.__scopeMenu),n=j.useRef(null),i=dr(e,n);return j.useEffect(()=>{const s=n.current;if(s)return mN(s)},[]),m.jsx(NN,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:et(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),D1e=j.forwardRef((t,e)=>{const r=Pu(sa,t.__scopeMenu);return m.jsx(NN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),L1e=su("MenuContent.ScrollLock"),NN=j.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:_,onDismiss:T,disableOutsideScroll:N,...E}=t,A=Pu(sa,r),M=tg(sa,r),R=Bv(r),I=u$(r),D=N1e(r),[L,$]=j.useState(null),B=j.useRef(null),z=dr(e,B,A.onContentChange),H=j.useRef(0),ce=j.useRef(""),K=j.useRef(0),W=j.useRef(null),Z=j.useRef("right"),Q=j.useRef(0),Y=N?Lv:j.Fragment,J=N?{as:L1e,allowPinchZoom:!0}:void 0,te=se=>{const me=ce.current+se,ne=D().filter(je=>!je.disabled),ue=document.activeElement,be=ne.find(je=>je.ref.current===ue)?.textValue,Pe=ne.map(je=>je.textValue),nt=X1e(Pe,me,be),Ie=ne.find(je=>je.textValue===nt)?.ref.current;(function je(Be){ce.current=Be,window.clearTimeout(H.current),Be!==""&&(H.current=window.setTimeout(()=>je(""),1e3))})(me),Ie&&setTimeout(()=>Ie.focus())};j.useEffect(()=>()=>window.clearTimeout(H.current),[]),pN();const ie=j.useCallback(se=>Z.current===W.current?.side&&Z1e(se,W.current?.area),[]);return m.jsx(k1e,{scope:r,searchRef:ce,onItemEnter:j.useCallback(se=>{ie(se)&&se.preventDefault()},[ie]),onItemLeave:j.useCallback(se=>{ie(se)||(B.current?.focus(),$(null))},[ie]),onTriggerLeave:j.useCallback(se=>{ie(se)&&se.preventDefault()},[ie]),pointerGraceTimerRef:K,onPointerGraceIntentChange:j.useCallback(se=>{W.current=se},[]),children:m.jsx(Y,{...J,children:m.jsx(Mv,{asChild:!0,trapped:i,onMountAutoFocus:et(s,se=>{se.preventDefault(),B.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:m.jsx(Lf,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:_,onDismiss:T,children:m.jsx(iT,{asChild:!0,...I,dir:M.dir,orientation:"vertical",loop:n,currentTabStopId:L,onCurrentTabStopIdChange:$,onEntryFocus:et(d,se=>{M.isUsingKeyboardRef.current||se.preventDefault()}),preventScrollOnEntryFocus:!0,children:m.jsx(zC,{role:"menu","aria-orientation":"vertical","data-state":I$(A.open),"data-radix-menu-content":"",dir:M.dir,...R,...E,ref:z,style:{outline:"none",...E.style},onKeyDown:et(E.onKeyDown,se=>{const ne=se.target.closest("[data-radix-menu-content]")===se.currentTarget,ue=se.ctrlKey||se.altKey||se.metaKey,be=se.key.length===1;ne&&(se.key==="Tab"&&se.preventDefault(),!ue&&be&&te(se.key));const Pe=B.current;if(se.target!==Pe||!A1e.includes(se.key))return;se.preventDefault();const Ie=D().filter(je=>!je.disabled).map(je=>je.ref.current);l$.includes(se.key)&&Ie.reverse(),G1e(Ie)}),onBlur:et(t.onBlur,se=>{se.currentTarget.contains(se.target)||(window.clearTimeout(H.current),ce.current="")}),onPointerMove:et(t.onPointerMove,Mm(se=>{const me=se.target,ne=Q.current!==se.clientX;if(se.currentTarget.contains(me)&&ne){const ue=se.clientX>Q.current?"right":"left";Z.current=ue,Q.current=se.clientX}}))})})})})})})});p$.displayName=sa;var B1e="MenuGroup",ON=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Ct.div,{role:"group",...n,ref:e})});ON.displayName=B1e;var F1e="MenuLabel",m$=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Ct.div,{...n,ref:e})});m$.displayName=F1e;var v1="MenuItem",SD="menu.itemSelect",Fv=j.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=j.useRef(null),o=tg(v1,t.__scopeMenu),u=TN(v1,t.__scopeMenu),d=dr(e,s),f=j.useRef(!1),g=()=>{const x=s.current;if(!r&&x){const _=new CustomEvent(SD,{bubbles:!0,cancelable:!0});x.addEventListener(SD,T=>n?.(T),{once:!0}),SC(x,_),_.defaultPrevented?f.current=!1:o.onClose()}};return m.jsx(g$,{...i,ref:d,disabled:r,onClick:et(t.onClick,g),onPointerDown:x=>{t.onPointerDown?.(x),f.current=!0},onPointerUp:et(t.onPointerUp,x=>{f.current||x.currentTarget?.click()}),onKeyDown:et(t.onKeyDown,x=>{const _=u.searchRef.current!=="";r||_&&x.key===" "||rC.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});Fv.displayName=v1;var g$=j.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=TN(v1,r),u=u$(r),d=j.useRef(null),f=dr(e,d),[g,x]=j.useState(!1),[_,T]=j.useState("");return j.useEffect(()=>{const N=d.current;N&&T((N.textContent??"").trim())},[s.children]),m.jsx(km.ItemSlot,{scope:r,disabled:n,textValue:i??_,children:m.jsx(sT,{asChild:!0,...u,focusable:!n,children:m.jsx(Ct.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:f,onPointerMove:et(t.onPointerMove,Mm(N=>{n?o.onItemLeave(N):(o.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:et(t.onPointerLeave,Mm(N=>o.onItemLeave(N))),onFocus:et(t.onFocus,()=>x(!0)),onBlur:et(t.onBlur,()=>x(!1))})})})}),$1e="MenuCheckboxItem",y$=j.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return m.jsx(_$,{scope:t.__scopeMenu,checked:r,children:m.jsx(Fv,{role:"menuitemcheckbox","aria-checked":x1(r)?"mixed":r,...i,ref:e,"data-state":PN(r),onSelect:et(i.onSelect,()=>n?.(x1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});y$.displayName=$1e;var v$="MenuRadioGroup",[U1e,V1e]=Iu(v$,{value:void 0,onValueChange:()=>{}}),x$=j.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Ni(n);return m.jsx(U1e,{scope:t.__scopeMenu,value:r,onValueChange:s,children:m.jsx(ON,{...i,ref:e})})});x$.displayName=v$;var w$="MenuRadioItem",b$=j.forwardRef((t,e)=>{const{value:r,...n}=t,i=V1e(w$,t.__scopeMenu),s=r===i.value;return m.jsx(_$,{scope:t.__scopeMenu,checked:s,children:m.jsx(Fv,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":PN(s),onSelect:et(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});b$.displayName=w$;var IN="MenuItemIndicator",[_$,q1e]=Iu(IN,{checked:!1}),S$=j.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=q1e(IN,r);return m.jsx(oa,{present:n||x1(s.checked)||s.checked===!0,children:m.jsx(Ct.span,{...i,ref:e,"data-state":PN(s.checked)})})});S$.displayName=IN;var z1e="MenuSeparator",E$=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return m.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});E$.displayName=z1e;var W1e="MenuArrow",A$=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Bv(r);return m.jsx(WC,{...i,...n,ref:e})});A$.displayName=W1e;var H1e="MenuSub",[U_e,C$]=Iu(H1e),hp="MenuSubTrigger",T$=j.forwardRef((t,e)=>{const r=Pu(hp,t.__scopeMenu),n=tg(hp,t.__scopeMenu),i=C$(hp,t.__scopeMenu),s=TN(hp,t.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=s,f={__scopeMenu:t.__scopeMenu},g=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>g,[g]),j.useEffect(()=>{const x=u.current;return()=>{window.clearTimeout(x),d(null)}},[u,d]),m.jsx(AN,{asChild:!0,...f,children:m.jsx(g$,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":I$(r.open),...t,ref:I1(e,i.onTriggerChange),onClick:x=>{t.onClick?.(x),!(t.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:et(t.onPointerMove,Mm(x=>{s.onItemEnter(x),!x.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),g()},100))})),onPointerLeave:et(t.onPointerLeave,Mm(x=>{g();const _=r.content?.getBoundingClientRect();if(_){const T=r.content?.dataset.side,N=T==="right",E=N?-5:5,A=_[N?"left":"right"],M=_[N?"right":"left"];s.onPointerGraceIntentChange({area:[{x:x.clientX+E,y:x.clientY},{x:A,y:_.top},{x:M,y:_.top},{x:M,y:_.bottom},{x:A,y:_.bottom}],side:T}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(x),x.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:et(t.onKeyDown,x=>{const _=s.searchRef.current!=="";t.disabled||_&&x.key===" "||C1e[n.dir].includes(x.key)&&(r.onOpenChange(!0),r.content?.focus(),x.preventDefault())})})})});T$.displayName=hp;var N$="MenuSubContent",O$=j.forwardRef((t,e)=>{const r=f$(sa,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=Pu(sa,t.__scopeMenu),o=tg(sa,t.__scopeMenu),u=C$(N$,t.__scopeMenu),d=j.useRef(null),f=dr(e,d);return m.jsx(km.Provider,{scope:t.__scopeMenu,children:m.jsx(oa,{present:n||s.open,children:m.jsx(km.Slot,{scope:t.__scopeMenu,children:m.jsx(NN,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{o.isUsingKeyboardRef.current&&d.current?.focus(),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:et(t.onFocusOutside,g=>{g.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:et(t.onEscapeKeyDown,g=>{o.onClose(),g.preventDefault()}),onKeyDown:et(t.onKeyDown,g=>{const x=g.currentTarget.contains(g.target),_=T1e[o.dir].includes(g.key);x&&_&&(s.onOpenChange(!1),u.trigger?.focus(),g.preventDefault())})})})})})});O$.displayName=N$;function I$(t){return t?"open":"closed"}function x1(t){return t==="indeterminate"}function PN(t){return x1(t)?"indeterminate":t?"checked":"unchecked"}function G1e(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function K1e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function X1e(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=K1e(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const d=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function Y1e(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const u=e[s].x,d=e[s].y,f=e[o].x,g=e[o].y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function Z1e(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Y1e(r,e)}function Mm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Q1e=d$,J1e=AN,eve=h$,tve=p$,rve=ON,nve=m$,ive=Fv,sve=y$,ave=x$,ove=b$,lve=S$,cve=E$,uve=A$,dve=T$,fve=O$,jN="DropdownMenu",[hve]=es(jN,[c$]),ts=c$(),[pve,P$]=hve(jN),j$=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:u=!0}=t,d=ts(e),f=j.useRef(null),[g=!1,x]=Wl({prop:i,defaultProp:s,onChange:o});return m.jsx(pve,{scope:e,triggerId:Qa(),triggerRef:f,contentId:Qa(),open:g,onOpenChange:x,onOpenToggle:j.useCallback(()=>x(_=>!_),[x]),modal:u,children:m.jsx(Q1e,{...d,open:g,onOpenChange:x,dir:n,modal:u,children:r})})};j$.displayName=jN;var R$="DropdownMenuTrigger",k$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=P$(R$,r),o=ts(r);return m.jsx(J1e,{asChild:!0,...o,children:m.jsx(Ct.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:I1(e,s.triggerRef),onPointerDown:et(t.onPointerDown,u=>{!n&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:et(t.onKeyDown,u=>{n||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});k$.displayName=R$;var mve="DropdownMenuPortal",M$=t=>{const{__scopeDropdownMenu:e,...r}=t,n=ts(e);return m.jsx(eve,{...n,...r})};M$.displayName=mve;var D$="DropdownMenuContent",L$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=P$(D$,r),s=ts(r),o=j.useRef(!1);return m.jsx(tve,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:et(t.onCloseAutoFocus,u=>{o.current||i.triggerRef.current?.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:et(t.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,g=d.button===2||f;(!i.modal||g)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L$.displayName=D$;var gve="DropdownMenuGroup",yve=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(rve,{...i,...n,ref:e})});yve.displayName=gve;var vve="DropdownMenuLabel",B$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(nve,{...i,...n,ref:e})});B$.displayName=vve;var xve="DropdownMenuItem",F$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(ive,{...i,...n,ref:e})});F$.displayName=xve;var wve="DropdownMenuCheckboxItem",$$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(sve,{...i,...n,ref:e})});$$.displayName=wve;var bve="DropdownMenuRadioGroup",_ve=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(ave,{...i,...n,ref:e})});_ve.displayName=bve;var Sve="DropdownMenuRadioItem",U$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(ove,{...i,...n,ref:e})});U$.displayName=Sve;var Eve="DropdownMenuItemIndicator",V$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(lve,{...i,...n,ref:e})});V$.displayName=Eve;var Ave="DropdownMenuSeparator",q$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(cve,{...i,...n,ref:e})});q$.displayName=Ave;var Cve="DropdownMenuArrow",Tve=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(uve,{...i,...n,ref:e})});Tve.displayName=Cve;var Nve="DropdownMenuSubTrigger",z$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(dve,{...i,...n,ref:e})});z$.displayName=Nve;var Ove="DropdownMenuSubContent",W$=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=ts(r);return m.jsx(fve,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});W$.displayName=Ove;var Ive=j$,Pve=k$,jve=M$,H$=L$,G$=B$,K$=F$,X$=$$,Y$=U$,Z$=V$,Q$=q$,J$=z$,eU=W$;const Rve=Ive,kve=Pve,Mve=j.forwardRef(({className:t,inset:e,children:r,...n},i)=>m.jsxs(J$,{ref:i,className:Ze("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,m.jsx(hH,{className:"ml-auto"})]}));Mve.displayName=J$.displayName;const Dve=j.forwardRef(({className:t,...e},r)=>m.jsx(eU,{ref:r,className:Ze("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));Dve.displayName=eU.displayName;const tU=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>m.jsx(jve,{children:m.jsx(H$,{ref:n,sideOffset:e,className:Ze("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));tU.displayName=H$.displayName;const nC=j.forwardRef(({className:t,inset:e,...r},n)=>m.jsx(K$,{ref:n,className:Ze("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r}));nC.displayName=K$.displayName;const Lve=j.forwardRef(({className:t,children:e,checked:r,...n},i)=>m.jsxs(X$,{ref:i,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(Z$,{children:m.jsx(TC,{className:"h-4 w-4"})})}),e]}));Lve.displayName=X$.displayName;const Bve=j.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(Y$,{ref:n,className:Ze("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(Z$,{children:m.jsx(K6,{className:"h-2 w-2 fill-current"})})}),e]}));Bve.displayName=Y$.displayName;const Fve=j.forwardRef(({className:t,inset:e,...r},n)=>m.jsx(G$,{ref:n,className:Ze("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Fve.displayName=G$.displayName;const rU=j.forwardRef(({className:t,...e},r)=>m.jsx(Q$,{ref:r,className:Ze("-mx-1 my-1 h-px bg-muted",t),...e}));rU.displayName=Q$.displayName;var nU="AlertDialog",[$ve]=es(nU,[U9]),il=U9(),iU=t=>{const{__scopeAlertDialog:e,...r}=t,n=il(e);return m.jsx(n$,{...n,...r,modal:!0})};iU.displayName=nU;var Uve="AlertDialogTrigger",sU=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(i$,{...i,...n,ref:e})});sU.displayName=Uve;var Vve="AlertDialogPortal",aU=t=>{const{__scopeAlertDialog:e,...r}=t,n=il(e);return m.jsx(s$,{...n,...r})};aU.displayName=Vve;var qve="AlertDialogOverlay",oU=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(wN,{...i,...n,ref:e})});oU.displayName=qve;var qd="AlertDialogContent",[zve,Wve]=$ve(qd),Hve=S6("AlertDialogContent"),lU=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=il(r),o=j.useRef(null),u=dr(e,o),d=j.useRef(null);return m.jsx(x1e,{contentName:qd,titleName:cU,docsSlug:"alert-dialog",children:m.jsx(zve,{scope:r,cancelRef:d,children:m.jsxs(bN,{role:"alertdialog",...s,...i,ref:u,onOpenAutoFocus:et(i.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[m.jsx(Hve,{children:n}),m.jsx(Kve,{contentRef:o})]})})})});lU.displayName=qd;var cU="AlertDialogTitle",uU=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(_N,{...i,...n,ref:e})});uU.displayName=cU;var dU="AlertDialogDescription",fU=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(SN,{...i,...n,ref:e})});fU.displayName=dU;var Gve="AlertDialogAction",hU=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=il(r);return m.jsx(EN,{...i,...n,ref:e})});hU.displayName=Gve;var pU="AlertDialogCancel",mU=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=Wve(pU,r),s=il(r),o=dr(e,i);return m.jsx(EN,{...s,...n,ref:o})});mU.displayName=pU;var Kve=({contentRef:t})=>{const e=`\`${qd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${qd}\` by passing a \`${dU}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${qd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Xve=iU,Yve=sU,Zve=aU,gU=oU,yU=lU,vU=hU,xU=mU,wU=uU,bU=fU;const Dm=Xve,w1=Yve,Qve=Zve,_U=j.forwardRef(({className:t,...e},r)=>m.jsx(gU,{className:Ze("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));_U.displayName=gU.displayName;const Tf=j.forwardRef(({className:t,...e},r)=>m.jsxs(Qve,{children:[m.jsx(_U,{}),m.jsx(yU,{ref:r,className:Ze("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Tf.displayName=yU.displayName;const Nf=({className:t,...e})=>m.jsx("div",{className:Ze("flex flex-col space-y-2 text-center sm:text-left",t),...e});Nf.displayName="AlertDialogHeader";const Of=({className:t,...e})=>m.jsx("div",{className:Ze("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Of.displayName="AlertDialogFooter";const If=j.forwardRef(({className:t,...e},r)=>m.jsx(wU,{ref:r,className:Ze("text-lg font-semibold",t),...e}));If.displayName=wU.displayName;const Pf=j.forwardRef(({className:t,...e},r)=>m.jsx(bU,{ref:r,className:Ze("text-sm text-muted-foreground",t),...e}));Pf.displayName=bU.displayName;const jf=j.forwardRef(({className:t,...e},r)=>m.jsx(vU,{ref:r,className:Ze(nT(),t),...e}));jf.displayName=vU.displayName;const Rf=j.forwardRef(({className:t,...e},r)=>m.jsx(xU,{ref:r,className:Ze(nT({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Rf.displayName=xU.displayName;function ED(t,[e,r]){return Math.min(r,Math.max(e,t))}function SU(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Jve=[" ","Enter","ArrowUp","ArrowDown"],exe=[" ","Enter"],rg="Select",[$v,Uv,txe]=P1(rg),[eh]=es(rg,[txe,Uf]),Vv=Uf(),[rxe,oc]=eh(rg),[nxe,ixe]=eh(rg),EU=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:u,onValueChange:d,dir:f,name:g,autoComplete:x,disabled:_,required:T,form:N}=t,E=Vv(e),[A,M]=j.useState(null),[R,I]=j.useState(null),[D,L]=j.useState(!1),$=Wm(f),[B=!1,z]=Wl({prop:n,defaultProp:i,onChange:s}),[H,ce]=Wl({prop:o,defaultProp:u,onChange:d}),K=j.useRef(null),W=A?N||!!A.closest("form"):!0,[Z,Q]=j.useState(new Set),Y=Array.from(Z).map(J=>J.props.value).join(";");return m.jsx(I5,{...E,children:m.jsxs(rxe,{required:T,scope:e,trigger:A,onTriggerChange:M,valueNode:R,onValueNodeChange:I,valueNodeHasChildren:D,onValueNodeHasChildrenChange:L,contentId:Qa(),value:H,onValueChange:ce,open:B,onOpenChange:z,dir:$,triggerPointerDownPosRef:K,disabled:_,children:[m.jsx($v.Provider,{scope:e,children:m.jsx(nxe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(J=>{Q(te=>new Set(te).add(J))},[]),onNativeOptionRemove:j.useCallback(J=>{Q(te=>{const ie=new Set(te);return ie.delete(J),ie})},[]),children:r})}),W?m.jsxs(XU,{"aria-hidden":!0,required:T,tabIndex:-1,name:g,autoComplete:x,value:H,onChange:J=>ce(J.target.value),disabled:_,form:N,children:[H===void 0?m.jsx("option",{value:""}):null,Array.from(Z)]},Y):null]})})};EU.displayName=rg;var AU="SelectTrigger",CU=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=Vv(r),o=oc(AU,r),u=o.disabled||n,d=dr(e,o.onTriggerChange),f=Uv(r),g=j.useRef("touch"),[x,_,T]=YU(E=>{const A=f().filter(I=>!I.disabled),M=A.find(I=>I.value===o.value),R=ZU(A,E,M);R!==void 0&&o.onValueChange(R.value)}),N=E=>{u||(o.onOpenChange(!0),T()),E&&(o.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return m.jsx(qC,{asChild:!0,...s,children:m.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":KU(o.value)?"":void 0,...i,ref:d,onClick:et(i.onClick,E=>{E.currentTarget.focus(),g.current!=="mouse"&&N(E)}),onPointerDown:et(i.onPointerDown,E=>{g.current=E.pointerType;const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(N(E),E.preventDefault())}),onKeyDown:et(i.onKeyDown,E=>{const A=x.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&_(E.key),!(A&&E.key===" ")&&Jve.includes(E.key)&&(N(),E.preventDefault())})})})});CU.displayName=AU;var TU="SelectValue",NU=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...u}=t,d=oc(TU,r),{onValueNodeHasChildrenChange:f}=d,g=s!==void 0,x=dr(e,d.onValueNodeChange);return ri(()=>{f(g)},[f,g]),m.jsx(Ct.span,{...u,ref:x,style:{pointerEvents:"none"},children:KU(d.value)?m.jsx(m.Fragment,{children:o}):s})});NU.displayName=TU;var sxe="SelectIcon",OU=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return m.jsx(Ct.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});OU.displayName=sxe;var axe="SelectPortal",IU=t=>m.jsx(Bm,{asChild:!0,...t});IU.displayName=axe;var yu="SelectContent",PU=j.forwardRef((t,e)=>{const r=oc(yu,t.__scopeSelect),[n,i]=j.useState();if(ri(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Df.createPortal(m.jsx(jU,{scope:t.__scopeSelect,children:m.jsx($v.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),s):null}return m.jsx(RU,{...t,ref:e})});PU.displayName=yu;var wa=10,[jU,lc]=eh(yu),oxe="SelectContentImpl",lxe=su("SelectContent.RemoveScroll"),RU=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:_,collisionPadding:T,sticky:N,hideWhenDetached:E,avoidCollisions:A,...M}=t,R=oc(yu,r),[I,D]=j.useState(null),[L,$]=j.useState(null),B=dr(e,je=>D(je)),[z,H]=j.useState(null),[ce,K]=j.useState(null),W=Uv(r),[Z,Q]=j.useState(!1),Y=j.useRef(!1);j.useEffect(()=>{if(I)return mN(I)},[I]),pN();const J=j.useCallback(je=>{const[Be,...Te]=W().map(Ce=>Ce.ref.current),[Ue]=Te.slice(-1),Ve=document.activeElement;for(const Ce of je)if(Ce===Ve||(Ce?.scrollIntoView({block:"nearest"}),Ce===Be&&L&&(L.scrollTop=0),Ce===Ue&&L&&(L.scrollTop=L.scrollHeight),Ce?.focus(),document.activeElement!==Ve))return},[W,L]),te=j.useCallback(()=>J([z,I]),[J,z,I]);j.useEffect(()=>{Z&&te()},[Z,te]);const{onOpenChange:ie,triggerPointerDownPosRef:se}=R;j.useEffect(()=>{if(I){let je={x:0,y:0};const Be=Ue=>{je={x:Math.abs(Math.round(Ue.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(Ue.pageY)-(se.current?.y??0))}},Te=Ue=>{je.x<=10&&je.y<=10?Ue.preventDefault():I.contains(Ue.target)||ie(!1),document.removeEventListener("pointermove",Be),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",Te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",Te,{capture:!0})}}},[I,ie,se]),j.useEffect(()=>{const je=()=>ie(!1);return window.addEventListener("blur",je),window.addEventListener("resize",je),()=>{window.removeEventListener("blur",je),window.removeEventListener("resize",je)}},[ie]);const[me,ne]=YU(je=>{const Be=W().filter(Ve=>!Ve.disabled),Te=Be.find(Ve=>Ve.ref.current===document.activeElement),Ue=ZU(Be,je,Te);Ue&&setTimeout(()=>Ue.ref.current.focus())}),ue=j.useCallback((je,Be,Te)=>{const Ue=!Y.current&&!Te;(R.value!==void 0&&R.value===Be||Ue)&&(H(je),Ue&&(Y.current=!0))},[R.value]),be=j.useCallback(()=>I?.focus(),[I]),Pe=j.useCallback((je,Be,Te)=>{const Ue=!Y.current&&!Te;(R.value!==void 0&&R.value===Be||Ue)&&K(je)},[R.value]),nt=n==="popper"?iC:kU,Ie=nt===iC?{side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:_,collisionPadding:T,sticky:N,hideWhenDetached:E,avoidCollisions:A}:{};return m.jsx(jU,{scope:r,content:I,viewport:L,onViewportChange:$,itemRefCallback:ue,selectedItem:z,onItemLeave:be,itemTextRefCallback:Pe,focusSelectedItem:te,selectedItemText:ce,position:n,isPositioned:Z,searchRef:me,children:m.jsx(Lv,{as:lxe,allowPinchZoom:!0,children:m.jsx(Mv,{asChild:!0,trapped:R.open,onMountAutoFocus:je=>{je.preventDefault()},onUnmountAutoFocus:et(i,je=>{R.trigger?.focus({preventScroll:!0}),je.preventDefault()}),children:m.jsx(Lf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:je=>je.preventDefault(),onDismiss:()=>R.onOpenChange(!1),children:m.jsx(nt,{role:"listbox",id:R.contentId,"data-state":R.open?"open":"closed",dir:R.dir,onContextMenu:je=>je.preventDefault(),...M,...Ie,onPlaced:()=>Q(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:et(M.onKeyDown,je=>{const Be=je.ctrlKey||je.altKey||je.metaKey;if(je.key==="Tab"&&je.preventDefault(),!Be&&je.key.length===1&&ne(je.key),["ArrowUp","ArrowDown","Home","End"].includes(je.key)){let Ue=W().filter(Ve=>!Ve.disabled).map(Ve=>Ve.ref.current);if(["ArrowUp","End"].includes(je.key)&&(Ue=Ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(je.key)){const Ve=je.target,Ce=Ue.indexOf(Ve);Ue=Ue.slice(Ce+1)}setTimeout(()=>J(Ue)),je.preventDefault()}})})})})})})});RU.displayName=oxe;var cxe="SelectItemAlignedPosition",kU=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=oc(yu,r),o=lc(yu,r),[u,d]=j.useState(null),[f,g]=j.useState(null),x=dr(e,B=>g(B)),_=Uv(r),T=j.useRef(!1),N=j.useRef(!0),{viewport:E,selectedItem:A,selectedItemText:M,focusSelectedItem:R}=o,I=j.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&f&&E&&A&&M){const B=s.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),H=s.valueNode.getBoundingClientRect(),ce=M.getBoundingClientRect();if(s.dir!=="rtl"){const Ve=ce.left-z.left,Ce=H.left-Ve,tt=B.left-Ce,St=B.width+tt,Oe=Math.max(St,z.width),Ke=window.innerWidth-wa,ot=ED(Ce,[wa,Math.max(wa,Ke-Oe)]);u.style.minWidth=St+"px",u.style.left=ot+"px"}else{const Ve=z.right-ce.right,Ce=window.innerWidth-H.right-Ve,tt=window.innerWidth-B.right-Ce,St=B.width+tt,Oe=Math.max(St,z.width),Ke=window.innerWidth-wa,ot=ED(Ce,[wa,Math.max(wa,Ke-Oe)]);u.style.minWidth=St+"px",u.style.right=ot+"px"}const K=_(),W=window.innerHeight-wa*2,Z=E.scrollHeight,Q=window.getComputedStyle(f),Y=parseInt(Q.borderTopWidth,10),J=parseInt(Q.paddingTop,10),te=parseInt(Q.borderBottomWidth,10),ie=parseInt(Q.paddingBottom,10),se=Y+J+Z+ie+te,me=Math.min(A.offsetHeight*5,se),ne=window.getComputedStyle(E),ue=parseInt(ne.paddingTop,10),be=parseInt(ne.paddingBottom,10),Pe=B.top+B.height/2-wa,nt=W-Pe,Ie=A.offsetHeight/2,je=A.offsetTop+Ie,Be=Y+J+je,Te=se-Be;if(Be<=Pe){const Ve=K.length>0&&A===K[K.length-1].ref.current;u.style.bottom="0px";const Ce=f.clientHeight-E.offsetTop-E.offsetHeight,tt=Math.max(nt,Ie+(Ve?be:0)+Ce+te),St=Be+tt;u.style.height=St+"px"}else{const Ve=K.length>0&&A===K[0].ref.current;u.style.top="0px";const tt=Math.max(Pe,Y+E.offsetTop+(Ve?ue:0)+Ie)+Te;u.style.height=tt+"px",E.scrollTop=Be-Pe+E.offsetTop}u.style.margin=`${wa}px 0`,u.style.minHeight=me+"px",u.style.maxHeight=W+"px",n?.(),requestAnimationFrame(()=>T.current=!0)}},[_,s.trigger,s.valueNode,u,f,E,A,M,s.dir,n]);ri(()=>I(),[I]);const[D,L]=j.useState();ri(()=>{f&&L(window.getComputedStyle(f).zIndex)},[f]);const $=j.useCallback(B=>{B&&N.current===!0&&(I(),R?.(),N.current=!1)},[I,R]);return m.jsx(dxe,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:T,onScrollButtonChange:$,children:m.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:D},children:m.jsx(Ct.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});kU.displayName=cxe;var uxe="SelectPopperPosition",iC=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=wa,...s}=t,o=Vv(r);return m.jsx(zC,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iC.displayName=uxe;var[dxe,RN]=eh(yu,{}),sC="SelectViewport",MU=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=lc(sC,r),o=RN(sC,r),u=dr(e,s.onViewportChange),d=j.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),m.jsx($v.Slot,{scope:r,children:m.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:et(i.onScroll,f=>{const g=f.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:_}=o;if(_?.current&&x){const T=Math.abs(d.current-g.scrollTop);if(T>0){const N=window.innerHeight-wa*2,E=parseFloat(x.style.minHeight),A=parseFloat(x.style.height),M=Math.max(E,A);if(M<N){const R=M+T,I=Math.min(N,R),D=R-I;x.style.height=I+"px",x.style.bottom==="0px"&&(g.scrollTop=D>0?D:0,x.style.justifyContent="flex-end")}}}d.current=g.scrollTop})})})]})});MU.displayName=sC;var DU="SelectGroup",[fxe,hxe]=eh(DU),pxe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Qa();return m.jsx(fxe,{scope:r,id:i,children:m.jsx(Ct.div,{role:"group","aria-labelledby":i,...n,ref:e})})});pxe.displayName=DU;var LU="SelectLabel",BU=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=hxe(LU,r);return m.jsx(Ct.div,{id:i.id,...n,ref:e})});BU.displayName=LU;var b1="SelectItem",[mxe,FU]=eh(b1),$U=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,u=oc(b1,r),d=lc(b1,r),f=u.value===n,[g,x]=j.useState(s??""),[_,T]=j.useState(!1),N=dr(e,R=>d.itemRefCallback?.(R,n,i)),E=Qa(),A=j.useRef("touch"),M=()=>{i||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(mxe,{scope:r,value:n,disabled:i,textId:E,isSelected:f,onItemTextChange:j.useCallback(R=>{x(I=>I||(R?.textContent??"").trim())},[]),children:m.jsx($v.ItemSlot,{scope:r,value:n,disabled:i,textValue:g,children:m.jsx(Ct.div,{role:"option","aria-labelledby":E,"data-highlighted":_?"":void 0,"aria-selected":f&&_,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:N,onFocus:et(o.onFocus,()=>T(!0)),onBlur:et(o.onBlur,()=>T(!1)),onClick:et(o.onClick,()=>{A.current!=="mouse"&&M()}),onPointerUp:et(o.onPointerUp,()=>{A.current==="mouse"&&M()}),onPointerDown:et(o.onPointerDown,R=>{A.current=R.pointerType}),onPointerMove:et(o.onPointerMove,R=>{A.current=R.pointerType,i?d.onItemLeave?.():A.current==="mouse"&&R.currentTarget.focus({preventScroll:!0})}),onPointerLeave:et(o.onPointerLeave,R=>{R.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:et(o.onKeyDown,R=>{d.searchRef?.current!==""&&R.key===" "||(exe.includes(R.key)&&M(),R.key===" "&&R.preventDefault())})})})})});$U.displayName=b1;var pp="SelectItemText",UU=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=oc(pp,r),u=lc(pp,r),d=FU(pp,r),f=ixe(pp,r),[g,x]=j.useState(null),_=dr(e,M=>x(M),d.onItemTextChange,M=>u.itemTextRefCallback?.(M,d.value,d.disabled)),T=g?.textContent,N=j.useMemo(()=>m.jsx("option",{value:d.value,disabled:d.disabled,children:T},d.value),[d.disabled,d.value,T]),{onNativeOptionAdd:E,onNativeOptionRemove:A}=f;return ri(()=>(E(N),()=>A(N)),[E,A,N]),m.jsxs(m.Fragment,{children:[m.jsx(Ct.span,{id:d.textId,...s,ref:_}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Df.createPortal(s.children,o.valueNode):null]})});UU.displayName=pp;var VU="SelectItemIndicator",qU=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return FU(VU,r).isSelected?m.jsx(Ct.span,{"aria-hidden":!0,...n,ref:e}):null});qU.displayName=VU;var aC="SelectScrollUpButton",zU=j.forwardRef((t,e)=>{const r=lc(aC,t.__scopeSelect),n=RN(aC,t.__scopeSelect),[i,s]=j.useState(!1),o=dr(e,n.onScrollButtonChange);return ri(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollTop>0;s(f)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?m.jsx(HU,{...t,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});zU.displayName=aC;var oC="SelectScrollDownButton",WU=j.forwardRef((t,e)=>{const r=lc(oC,t.__scopeSelect),n=RN(oC,t.__scopeSelect),[i,s]=j.useState(!1),o=dr(e,n.onScrollButtonChange);return ri(()=>{if(r.viewport&&r.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<f;s(g)};const d=r.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),i?m.jsx(HU,{...t,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=r;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});WU.displayName=oC;var HU=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=lc("SelectScrollButton",r),o=j.useRef(null),u=Uv(r),d=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>d(),[d]),ri(()=>{u().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),m.jsx(Ct.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:et(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:et(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:et(i.onPointerLeave,()=>{d()})})}),gxe="SelectSeparator",GU=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return m.jsx(Ct.div,{"aria-hidden":!0,...n,ref:e})});GU.displayName=gxe;var lC="SelectArrow",yxe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Vv(r),s=oc(lC,r),o=lc(lC,r);return s.open&&o.position==="popper"?m.jsx(WC,{...i,...n,ref:e}):null});yxe.displayName=lC;function KU(t){return t===""||t===void 0}var XU=j.forwardRef((t,e)=>{const{value:r,...n}=t,i=j.useRef(null),s=dr(e,i),o=SU(r);return j.useEffect(()=>{const u=i.current,d=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&g){const x=new Event("change",{bubbles:!0});g.call(u,r),u.dispatchEvent(x)}},[o,r]),m.jsx(Fm,{asChild:!0,children:m.jsx("select",{...n,ref:s,defaultValue:r})})});XU.displayName="BubbleSelect";function YU(t){const e=Ni(t),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(o=>{const u=r.current+o;e(u),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(u)},[e]),s=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function ZU(t,e,r){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=vxe(t,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==r));const d=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==r?d:void 0}function vxe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var xxe=EU,QU=CU,wxe=NU,bxe=OU,_xe=IU,JU=PU,Sxe=MU,eV=BU,tV=$U,Exe=UU,Axe=qU,rV=zU,nV=WU,iV=GU;const di=xxe,fi=wxe,ei=j.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(QU,{ref:n,className:Ze("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,m.jsx(bxe,{asChild:!0,children:m.jsx(NC,{className:"h-4 w-4 opacity-50"})})]}));ei.displayName=QU.displayName;const sV=j.forwardRef(({className:t,...e},r)=>m.jsx(rV,{ref:r,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(pH,{className:"h-4 w-4"})}));sV.displayName=rV.displayName;const aV=j.forwardRef(({className:t,...e},r)=>m.jsx(nV,{ref:r,className:Ze("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(NC,{className:"h-4 w-4"})}));aV.displayName=nV.displayName;const ti=j.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>m.jsx(_xe,{children:m.jsxs(JU,{ref:i,className:Ze("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[m.jsx(sV,{}),m.jsx(Sxe,{className:Ze("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(aV,{})]})}));ti.displayName=JU.displayName;const Cxe=j.forwardRef(({className:t,...e},r)=>m.jsx(eV,{ref:r,className:Ze("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Cxe.displayName=eV.displayName;const or=j.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(tV,{ref:n,className:Ze("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(Axe,{children:m.jsx(TC,{className:"h-4 w-4"})})}),m.jsx(Exe,{children:e})]}));or.displayName=tV.displayName;const Txe=j.forwardRef(({className:t,...e},r)=>m.jsx(iV,{ref:r,className:Ze("-mx-1 my-1 h-px bg-muted",t),...e}));Txe.displayName=iV.displayName;const Me=Symbol.for("drizzle:entityKind");function Ti(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,Me))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(t).constructor;if(r)for(;r;){if(Me in r&&r[Me]===e[Me])return!0;r=Object.getPrototypeOf(r)}return!1}class Lm{constructor(e,r){this.table=e,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}static[Me]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class Nxe{static[Me]="ColumnBuilder";config;constructor(e,r,n){this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}const zd=Symbol.for("drizzle:Name");class Oxe{static[Me]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,r){this.reference=()=>{const{name:n,columns:i,foreignColumns:s}=e();return{name:n,columns:i,foreignTable:s[0].table,foreignColumns:s}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new Ixe(e,this)}}class Ixe{constructor(e,r){this.table=e,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}static[Me]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:e,columns:r,foreignColumns:n}=this.reference(),i=r.map(u=>u.name),s=n.map(u=>u.name),o=[this.table[zd],...i,n[0].table[zd],...s];return e??`${o.join("_")}_fk`}}function Pxe(t,...e){return t(...e)}function jxe(t,e){return`${t[zd]}_${e.join("_")}_unique`}function AD(t,e,r){for(let n=e;n<t.length;n++){const i=t[n];if(i==="\\"){n++;continue}if(i==='"')return[t.slice(e,n).replace(/\\/g,""),n+1];if(!r&&(i===","||i==="}"))return[t.slice(e,n).replace(/\\/g,""),n]}return[t.slice(e).replace(/\\/g,""),t.length]}function oV(t,e=0){const r=[];let n=e,i=!1;for(;n<t.length;){const s=t[n];if(s===","){(i||n===e)&&r.push(""),i=!0,n++;continue}if(i=!1,s==="\\"){n+=2;continue}if(s==='"'){const[d,f]=AD(t,n+1,!0);r.push(d),n=f;continue}if(s==="}")return[r,n+1];if(s==="{"){const[d,f]=oV(t,n+1);r.push(d),n=f;continue}const[o,u]=AD(t,n,!1);r.push(o),n=u}return[r,n]}function Rxe(t){const[e]=oV(t,1);return e}function lV(t){return`{${t.map(e=>Array.isArray(e)?lV(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}class gr extends Nxe{foreignKeyConfigs=[];static[Me]="PgColumnBuilder";array(e){return new Mxe(this.config.name,this,e)}references(e,r={}){return this.foreignKeyConfigs.push({ref:e,actions:r}),this}unique(e,r){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=r?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,r){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>Pxe((s,o)=>{const u=new Oxe(()=>{const d=s();return{columns:[e],foreignColumns:[d]}});return o.onUpdate&&u.onUpdate(o.onUpdate),o.onDelete&&u.onDelete(o.onDelete),u.build(r)},n,i))}buildExtraConfigColumn(e){return new kxe(e,this.config)}}class Jt extends Lm{constructor(e,r){r.uniqueName||(r.uniqueName=jxe(e,[r.name])),super(e,r),this.table=e}static[Me]="PgColumn"}class kxe extends Jt{static[Me]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class Mxe extends gr{static[Me]="PgArrayBuilder";constructor(e,r,n){super(e,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(e){const r=this.config.baseBuilder.build(e);return new kN(e,this.config,r)}}class kN extends Jt{constructor(e,r,n,i){super(e,r),this.baseColumn=n,this.range=i,this.size=r.size}size;static[Me]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(e){return typeof e=="string"&&(e=Rxe(e)),e.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(e,r=!1){const n=e.map(i=>i===null?null:Ti(this.baseColumn,kN)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return r?n:lV(n)}}const CD=Symbol.for("drizzle:isPgEnum");function Dxe(t){return!!t&&typeof t=="function"&&CD in t&&t[CD]===!0}class cV{static[Me]="Subquery";constructor(e,r,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:r,alias:n,isWith:i}}}const Lxe={startActiveSpan(t,e){return e()}},Wd=Symbol.for("drizzle:ViewBaseConfig"),ZS=Symbol.for("drizzle:Schema"),TD=Symbol.for("drizzle:Columns"),ND=Symbol.for("drizzle:ExtraConfigColumns"),QS=Symbol.for("drizzle:OriginalName"),JS=Symbol.for("drizzle:BaseName"),_1=Symbol.for("drizzle:IsAlias"),OD=Symbol.for("drizzle:ExtraConfigBuilder"),uV=Symbol.for("drizzle:IsDrizzleTable");let Ps=class{static[Me]="Table";static Symbol={Name:zd,Schema:ZS,OriginalName:QS,Columns:TD,ExtraConfigColumns:ND,BaseName:JS,IsAlias:_1,ExtraConfigBuilder:OD};[zd];[QS];[ZS];[TD];[ND];[JS];[_1]=!1;[uV]=!0;[OD]=void 0;constructor(e,r,n){this[zd]=this[QS]=e,this[ZS]=r,this[JS]=n}};function dV(t){return typeof t=="object"&&t!==null&&uV in t}function Bxe(t){return t!=null&&typeof t.getSQL=="function"}function Fxe(t){const e={sql:"",params:[]};for(const r of t)e.sql+=r.sql,e.params.push(...r.params),r.typings?.length&&(e.typings||(e.typings=[]),e.typings.push(...r.typings));return e}class _a{static[Me]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new Cn([this])}}class Cn{constructor(e){this.queryChunks=e}static[Me]="SQL";decoder=fV;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Lxe.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,e);return r?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:o,prepareTyping:u,inlineParams:d,paramStartIndex:f}=n;return Fxe(e.map(g=>{if(Ti(g,_a))return{sql:g.value.join(""),params:[]};if(Ti(g,cC))return{sql:s(g.value),params:[]};if(g===void 0)return{sql:"",params:[]};if(Array.isArray(g)){const x=[new _a("(")];for(const[_,T]of g.entries())x.push(T),_<g.length-1&&x.push(new _a(", "));return x.push(new _a(")")),this.buildQueryFromSourceParams(x,n)}if(Ti(g,Cn))return this.buildQueryFromSourceParams(g.queryChunks,{...n,inlineParams:d||g.shouldInlineParams});if(Ti(g,Ps)){const x=g[Ps.Symbol.Schema],_=g[Ps.Symbol.Name];return{sql:x===void 0||g[_1]?s(_):s(x)+"."+s(_),params:[]}}if(Ti(g,Lm)){const x=i.getColumnCasing(g);if(r.invokeSource==="indexes")return{sql:s(x),params:[]};const _=g.table[Ps.Symbol.Schema];return{sql:g.table[_1]||_===void 0?s(g.table[Ps.Symbol.Name])+"."+s(x):s(_)+"."+s(g.table[Ps.Symbol.Name])+"."+s(x),params:[]}}if(Ti(g,$xe)){const x=g[Wd].schema,_=g[Wd].name;return{sql:x===void 0||g[Wd].isAlias?s(_):s(x)+"."+s(_),params:[]}}if(Ti(g,pV)){if(Ti(g.value,uC))return{sql:o(f.value++,g),params:[g],typings:["none"]};const x=g.value===null?null:g.encoder.mapToDriverValue(g.value);if(Ti(x,Cn))return this.buildQueryFromSourceParams([x],n);if(d)return{sql:this.mapInlineParam(x,n),params:[]};let _=["none"];return u&&(_=[u(g.encoder)]),{sql:o(f.value++,x),params:[x],typings:_}}return Ti(g,uC)?{sql:o(f.value++,g),params:[g],typings:["none"]}:Ti(g,Cn.Aliased)&&g.fieldAlias!==void 0?{sql:s(g.fieldAlias),params:[]}:Ti(g,cV)?g._.isWith?{sql:s(g._.alias),params:[]}:this.buildQueryFromSourceParams([new _a("("),g._.sql,new _a(") "),new cC(g._.alias)],n):Dxe(g)?g.schema?{sql:s(g.schema)+"."+s(g.enumName),params:[]}:{sql:s(g.enumName),params:[]}:Bxe(g)?g.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([g.getSQL()],n):this.buildQueryFromSourceParams([new _a("("),g.getSQL(),new _a(")")],n):d?{sql:this.mapInlineParam(g,n),params:[]}:{sql:o(f.value++,g),params:[g],typings:["none"]}}))}mapInlineParam(e,{escapeString:r}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return r(e);if(typeof e=="object"){const n=e.toString();return r(n==="[object Object]"?JSON.stringify(e):n)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new Cn.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class cC{constructor(e){this.value=e}static[Me]="Name";brand;getSQL(){return new Cn([this])}}const fV={mapFromDriverValue:t=>t},hV={mapToDriverValue:t=>t};({...fV,...hV});class pV{constructor(e,r=hV){this.value=e,this.encoder=r}static[Me]="Param";brand;getSQL(){return new Cn([this])}}function S1(t,...e){const r=[];(e.length>0||t.length>0&&t[0]!=="")&&r.push(new _a(t[0]));for(const[n,i]of e.entries())r.push(i,new _a(t[n+1]));return new Cn(r)}(t=>{function e(){return new Cn([])}t.empty=e;function r(d){return new Cn(d)}t.fromList=r;function n(d){return new Cn([new _a(d)])}t.raw=n;function i(d,f){const g=[];for(const[x,_]of d.entries())x>0&&f!==void 0&&g.push(f),g.push(_);return new Cn(g)}t.join=i;function s(d){return new cC(d)}t.identifier=s;function o(d){return new uC(d)}t.placeholder=o;function u(d,f){return new pV(d,f)}t.param=u})(S1||(S1={}));(t=>{class e{constructor(n,i){this.sql=n,this.fieldAlias=i}static[Me]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new e(this.sql,this.fieldAlias)}}t.Aliased=e})(Cn||(Cn={}));class uC{constructor(e){this.name=e}static[Me]="Placeholder";getSQL(){return new Cn([this])}}const mV=Symbol.for("drizzle:IsDrizzleView");class $xe{static[Me]="View";[Wd];[mV]=!0;constructor({name:e,schema:r,selectedFields:n,query:i}){this[Wd]={name:e,originalName:e,schema:r,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Cn([this])}}function Uxe(t){return typeof t=="object"&&t!==null&&mV in t}Lm.prototype.getSQL=function(){return new Cn([this])};Ps.prototype.getSQL=function(){return new Cn([this])};cV.prototype.getSQL=function(){return new Cn([this])};function Vxe(t){return t[Ps.Symbol.Columns]}function qxe(t){return t[Wd].selectedFields}function mi(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}class qv extends gr{static[Me]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:r,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class zxe extends qv{static[Me]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new Wxe(e,this.config)}}class Wxe extends Jt{static[Me]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class Hxe extends qv{static[Me]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new Gxe(e,this.config)}}class Gxe extends Jt{static[Me]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function Kxe(t,e){const{name:r,config:n}=mi(t,e);return n.mode==="number"?new zxe(r):new Hxe(r)}class Xxe extends gr{static[Me]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new Yxe(e,this.config)}}class Yxe extends Jt{static[Me]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}class Zxe extends gr{static[Me]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new Qxe(e,this.config)}}class Qxe extends Jt{static[Me]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function Jxe(t,e){const{name:r,config:n}=mi(t,e);return n.mode==="number"?new Xxe(r):new Zxe(r)}class ewe extends gr{static[Me]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new twe(e,this.config)}}class twe extends Jt{static[Me]="PgBoolean";getSQLType(){return"boolean"}}function gV(t){return new ewe(t??"")}class rwe extends gr{static[Me]="PgCharBuilder";constructor(e,r){super(e,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new nwe(e,this.config)}}class nwe extends Jt{static[Me]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function iwe(t,e={}){const{name:r,config:n}=mi(t,e);return new rwe(r,n)}class swe extends gr{static[Me]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new awe(e,this.config)}}class awe extends Jt{static[Me]="PgCidr";getSQLType(){return"cidr"}}function owe(t){return new swe(t??"")}class lwe extends gr{static[Me]="PgCustomColumnBuilder";constructor(e,r,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(e){return new cwe(e,this.config)}}class cwe extends Jt{static[Me]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,r){super(e,r),this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return typeof this.mapFrom=="function"?this.mapFrom(e):e}mapToDriverValue(e){return typeof this.mapTo=="function"?this.mapTo(e):e}}function uwe(t){return(e,r)=>{const{name:n,config:i}=mi(e,r);return new lwe(n,i,t)}}class ng extends gr{static[Me]="PgDateColumnBaseBuilder";defaultNow(){return this.default(S1`now()`)}}class dwe extends ng{static[Me]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new fwe(e,this.config)}}class fwe extends Jt{static[Me]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class hwe extends ng{static[Me]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new pwe(e,this.config)}}class pwe extends Jt{static[Me]="PgDateString";getSQLType(){return"date"}}function yV(t,e){const{name:r,config:n}=mi(t,e);return n?.mode==="date"?new dwe(r):new hwe(r)}class mwe extends gr{static[Me]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new gwe(e,this.config)}}class gwe extends Jt{static[Me]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}function ywe(t){return new mwe(t??"")}class vwe extends gr{static[Me]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new xwe(e,this.config)}}class xwe extends Jt{static[Me]="PgInet";getSQLType(){return"inet"}}function wwe(t){return new vwe(t??"")}class bwe extends qv{static[Me]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new _we(e,this.config)}}class _we extends Jt{static[Me]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}function Zo(t){return new bwe(t??"")}class Swe extends gr{static[Me]="PgIntervalBuilder";constructor(e,r){super(e,"string","PgInterval"),this.config.intervalConfig=r}build(e){return new Ewe(e,this.config)}}class Ewe extends Jt{static[Me]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const e=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${e}${r}`}}function Awe(t,e={}){const{name:r,config:n}=mi(t,e);return new Swe(r,n)}class Cwe extends gr{static[Me]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new Twe(e,this.config)}}class Twe extends Jt{static[Me]="PgJson";constructor(e,r){super(e,r)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Nwe(t){return new Cwe(t??"")}class Owe extends gr{static[Me]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new Iwe(e,this.config)}}class Iwe extends Jt{static[Me]="PgJsonb";constructor(e,r){super(e,r)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}function Pwe(t){return new Owe(t??"")}class jwe extends gr{static[Me]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new Rwe(e,this.config)}}class Rwe extends Jt{static[Me]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class kwe extends gr{static[Me]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new Mwe(e,this.config)}}class Mwe extends Jt{static[Me]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){const[r,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function Dwe(t,e){const{name:r,config:n}=mi(t,e);return!n?.mode||n.mode==="tuple"?new jwe(r):new kwe(r)}class Lwe extends gr{static[Me]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new Bwe(e,this.config)}}class Bwe extends Jt{static[Me]="PgMacaddr";getSQLType(){return"macaddr"}}function Fwe(t){return new Lwe(t??"")}class $we extends gr{static[Me]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new Uwe(e,this.config)}}class Uwe extends Jt{static[Me]="PgMacaddr8";getSQLType(){return"macaddr8"}}function Vwe(t){return new $we(t??"")}class qwe extends gr{static[Me]="PgNumericBuilder";constructor(e,r,n){super(e,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(e){return new zwe(e,this.config)}}class zwe extends Jt{static[Me]="PgNumeric";precision;scale;constructor(e,r){super(e,r),this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function Wwe(t,e){const{name:r,config:n}=mi(t,e);return new qwe(r,n?.precision,n?.scale)}class Hwe extends gr{static[Me]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new Gwe(e,this.config)}}class Gwe extends Jt{static[Me]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class Kwe extends gr{static[Me]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new Xwe(e,this.config)}}class Xwe extends Jt{static[Me]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[r,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function Ywe(t,e){const{name:r,config:n}=mi(t,e);return!n?.mode||n.mode==="tuple"?new Hwe(r):new Kwe(r)}function Zwe(t){const e=[];for(let r=0;r<t.length;r+=2)e.push(Number.parseInt(t.slice(r,r+2),16));return new Uint8Array(e)}function ID(t,e){const r=new ArrayBuffer(8),n=new DataView(r);for(let i=0;i<8;i++)n.setUint8(i,t[e+i]);return n.getFloat64(0,!0)}function vV(t){const e=Zwe(t);let r=0;const n=e[r];r+=1;const i=new DataView(e.buffer),s=i.getUint32(r,n===1);if(r+=4,s&536870912&&(i.getUint32(r,n===1),r+=4),(s&65535)===1){const o=ID(e,r);r+=8;const u=ID(e,r);return r+=8,[o,u]}throw new Error("Unsupported geometry type")}class Qwe extends gr{static[Me]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new Jwe(e,this.config)}}class Jwe extends Jt{static[Me]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return vV(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class ebe extends gr{static[Me]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new tbe(e,this.config)}}class tbe extends Jt{static[Me]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const r=vV(e);return{x:r[0],y:r[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function rbe(t,e){const{name:r,config:n}=mi(t,e);return!n?.mode||n.mode==="tuple"?new Qwe(r):new ebe(r)}class nbe extends gr{static[Me]="PgRealBuilder";constructor(e,r){super(e,"number","PgReal"),this.config.length=r}build(e){return new ibe(e,this.config)}}class ibe extends Jt{static[Me]="PgReal";constructor(e,r){super(e,r)}getSQLType(){return"real"}mapFromDriverValue=e=>typeof e=="string"?Number.parseFloat(e):e}function sbe(t){return new nbe(t??"")}class abe extends gr{static[Me]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new obe(e,this.config)}}class obe extends Jt{static[Me]="PgSerial";getSQLType(){return"serial"}}function sl(t){return new abe(t??"")}class lbe extends qv{static[Me]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new cbe(e,this.config)}}class cbe extends Jt{static[Me]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>typeof e=="string"?Number(e):e}function ube(t){return new lbe(t??"")}class dbe extends gr{static[Me]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new fbe(e,this.config)}}class fbe extends Jt{static[Me]="PgSmallSerial";getSQLType(){return"smallserial"}}function hbe(t){return new dbe(t??"")}class pbe extends gr{static[Me]="PgTextBuilder";constructor(e,r){super(e,"string","PgText"),this.config.enumValues=r.enum}build(e){return new mbe(e,this.config)}}class mbe extends Jt{static[Me]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Bn(t,e={}){const{name:r,config:n}=mi(t,e);return new pbe(r,n)}class gbe extends ng{constructor(e,r,n){super(e,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}static[Me]="PgTimeBuilder";build(e){return new ybe(e,this.config)}}class ybe extends Jt{static[Me]="PgTime";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function vbe(t,e={}){const{name:r,config:n}=mi(t,e);return new gbe(r,n.withTimezone??!1,n.precision)}class xbe extends ng{static[Me]="PgTimestampBuilder";constructor(e,r,n){super(e,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(e){return new wbe(e,this.config)}}class wbe extends Jt{static[Me]="PgTimestamp";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class bbe extends ng{static[Me]="PgTimestampStringBuilder";constructor(e,r,n){super(e,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(e){return new _be(e,this.config)}}class _be extends Jt{static[Me]="PgTimestampString";withTimezone;precision;constructor(e,r){super(e,r),this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function qo(t,e={}){const{name:r,config:n}=mi(t,e);return n?.mode==="string"?new bbe(r,n.withTimezone??!1,n.precision):new xbe(r,n?.withTimezone??!1,n?.precision)}class Sbe extends gr{static[Me]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(S1`gen_random_uuid()`)}build(e){return new Ebe(e,this.config)}}class Ebe extends Jt{static[Me]="PgUUID";getSQLType(){return"uuid"}}function Abe(t){return new Sbe(t??"")}class Cbe extends gr{static[Me]="PgVarcharBuilder";constructor(e,r){super(e,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(e){return new Tbe(e,this.config)}}class Tbe extends Jt{static[Me]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function Nbe(t,e={}){const{name:r,config:n}=mi(t,e);return new Cbe(r,n)}class Obe extends gr{static[Me]="PgBinaryVectorBuilder";constructor(e,r){super(e,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(e){return new Ibe(e,this.config)}}class Ibe extends Jt{static[Me]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function Pbe(t,e){const{name:r,config:n}=mi(t,e);return new Obe(r,n)}class jbe extends gr{static[Me]="PgHalfVectorBuilder";constructor(e,r){super(e,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(e){return new Rbe(e,this.config)}}class Rbe extends Jt{static[Me]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function kbe(t,e){const{name:r,config:n}=mi(t,e);return new jbe(r,n)}class Mbe extends gr{static[Me]="PgSparseVectorBuilder";constructor(e,r){super(e,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(e){return new Dbe(e,this.config)}}class Dbe extends Jt{static[Me]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function Lbe(t,e){const{name:r,config:n}=mi(t,e);return new Mbe(r,n)}class Bbe extends gr{static[Me]="PgVectorBuilder";constructor(e,r){super(e,"array","PgVector"),this.config.dimensions=r.dimensions}build(e){return new Fbe(e,this.config)}}class Fbe extends Jt{static[Me]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}function $be(t,e){const{name:r,config:n}=mi(t,e);return new Bbe(r,n)}function Ube(){return{bigint:Kxe,bigserial:Jxe,boolean:gV,char:iwe,cidr:owe,customType:uwe,date:yV,doublePrecision:ywe,inet:wwe,integer:Zo,interval:Awe,json:Nwe,jsonb:Pwe,line:Dwe,macaddr:Fwe,macaddr8:Vwe,numeric:Wwe,point:Ywe,geometry:rbe,real:sbe,serial:sl,smallint:ube,smallserial:hbe,text:Bn,time:vbe,timestamp:qo,uuid:Abe,varchar:Nbe,bit:Pbe,halfvec:kbe,sparsevec:Lbe,vector:$be}}const dC=Symbol.for("drizzle:PgInlineForeignKeys"),PD=Symbol.for("drizzle:EnableRLS");class jD extends Ps{static[Me]="PgTable";static Symbol=Object.assign({},Ps.Symbol,{InlineForeignKeys:dC,EnableRLS:PD});[dC]=[];[PD]=!1;[Ps.Symbol.ExtraConfigBuilder]=void 0}function Vbe(t,e,r,n,i=t){const s=new jD(t,n,i),o=typeof e=="function"?e(Ube()):e,u=Object.fromEntries(Object.entries(o).map(([g,x])=>{const _=x;_.setName(g);const T=_.build(s);return s[dC].push(..._.buildForeignKeys(T,s)),[g,T]})),d=Object.fromEntries(Object.entries(o).map(([g,x])=>{const _=x;_.setName(g);const T=_.buildExtraConfigColumn(s);return[g,T]})),f=Object.assign(s,u);return f[Ps.Symbol.Columns]=u,f[Ps.Symbol.ExtraConfigColumns]=d,Object.assign(f,{enableRLS:()=>(f[jD.Symbol.EnableRLS]=!0,f)})}const cc=(t,e,r)=>Vbe(t,e,r,void 0),mn={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Pn(t,e){return e.includes(t.columnType)}function qbe(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const zbe=lr.union([lr.string(),lr.number(),lr.boolean(),lr.null()]),Wbe=lr.union([zbe,lr.record(lr.any()),lr.array(lr.any())]),Hbe=lr.custom(t=>t instanceof Buffer);function xV(t,e){const r=e?.zodInstance??lr,n=e?.coerce??{};let i;return qbe(t)&&(i=t.enumValues.length?r.enum(t.enumValues):r.string()),i||(Pn(t,["PgGeometry","PgPointTuple"])?i=r.tuple([r.number(),r.number()]):Pn(t,["PgGeometryObject","PgPointObject"])?i=r.object({x:r.number(),y:r.number()}):Pn(t,["PgHalfVector","PgVector"])?(i=r.array(r.number()),i=t.dimensions?i.length(t.dimensions):i):Pn(t,["PgLine"])?i=r.tuple([r.number(),r.number(),r.number()]):Pn(t,["PgLineABC"])?i=r.object({a:r.number(),b:r.number(),c:r.number()}):Pn(t,["PgArray"])?(i=r.array(xV(t.baseColumn,r)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=r.array(r.any()):t.dataType==="number"?i=Gbe(t,r,n):t.dataType==="bigint"?i=Kbe(t,r,n):t.dataType==="boolean"?i=n===!0||n.boolean?r.coerce.boolean():r.boolean():t.dataType==="date"?i=n===!0||n.date?r.coerce.date():r.date():t.dataType==="string"?i=Xbe(t,r,n):t.dataType==="json"?i=Wbe:t.dataType==="custom"?i=r.any():t.dataType==="buffer"&&(i=Hbe)),i||(i=r.any()),i}function Gbe(t,e,r){let n=t.getSQLType().includes("unsigned"),i,s,o=!1;Pn(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=n?0:mn.INT8_MIN,s=n?mn.INT8_UNSIGNED_MAX:mn.INT8_MAX,o=!0):Pn(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=n?0:mn.INT16_MIN,s=n?mn.INT16_UNSIGNED_MAX:mn.INT16_MAX,o=!0):Pn(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=n?0:mn.INT24_MIN,s=n?mn.INT24_UNSIGNED_MAX:mn.INT24_MAX,o=Pn(t,["MySqlMediumInt","SingleStoreMediumInt"])):Pn(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=n?0:mn.INT32_MIN,s=n?mn.INT32_UNSIGNED_MAX:mn.INT32_MAX,o=!0):Pn(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=n?0:mn.INT48_MIN,s=n?mn.INT48_UNSIGNED_MAX:mn.INT48_MAX):Pn(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||Pn(t,["MySqlSerial","SingleStoreSerial"]),i=n?0:Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,o=!0):Pn(t,["MySqlYear","SingleStoreYear"])?(i=1901,s=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER);let u=r===!0||r?.number?e.coerce.number():e.number();return u=u.min(i).max(s),o?u.int():u}function Kbe(t,e,r){const n=t.getSQLType().includes("unsigned"),i=n?0n:mn.INT64_MIN,s=n?mn.INT64_UNSIGNED_MAX:mn.INT64_MAX;return(r===!0||r?.bigint?e.coerce.bigint():e.bigint()).min(i).max(s)}function Xbe(t,e,r){if(Pn(t,["PgUUID"]))return e.string().uuid();let n,i,s=!1;Pn(t,["PgVarchar","SQLiteText"])?n=t.length:Pn(t,["MySqlVarChar","SingleStoreVarChar"])?n=t.length??mn.INT16_UNSIGNED_MAX:Pn(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?n=mn.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?n=mn.INT24_UNSIGNED_MAX:t.textType==="text"?n=mn.INT16_UNSIGNED_MAX:n=mn.INT8_UNSIGNED_MAX),Pn(t,["PgChar","MySqlChar","SingleStoreChar"])&&(n=t.length,s=!0),Pn(t,["PgBinaryVector"])&&(i=/^[01]+$/,n=t.dimensions);let o=r===!0||r?.string?e.coerce.string():e.string();return o=i?o.regex(i):o,n&&s?o.length(n):n?o.max(n):o}function wV(t){return dV(t)?Vxe(t):qxe(t)}function bV(t,e,r,n){const i={};for(const[s,o]of Object.entries(t)){if(!Ti(o,Lm)&&!Ti(o,Cn)&&!Ti(o,Cn.Aliased)&&typeof o=="object"){const x=dV(o)||Uxe(o)?wV(o):o;i[s]=bV(x,e[s]??{},r,n);continue}const u=e[s];if(u!==void 0&&typeof u!="function"){i[s]=u;continue}const d=Ti(o,Lm)?o:void 0,f=d?xV(d,n):lr.any(),g=typeof u=="function"?u(f):f;r.never(d)||(i[s]=g,d&&(r.nullable(d)&&(i[s]=i[s].nullable()),r.optional(d)&&(i[s]=i[s].optional())))}return lr.object(i)}const Ybe={never:t=>t?.generated?.type==="always"||t?.generatedIdentity?.type==="always",optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},th=(t,e)=>{const r=wV(t);return bV(r,{},Ybe)},ig=cc("users",{id:sl("id").primaryKey(),idNumber:Bn("id_number").notNull().unique(),email:Bn("email").notNull().unique(),password:Bn("password").notNull(),fullName:Bn("full_name").notNull(),role:Bn("role",{enum:["student","teacher","superadmin"]}).notNull(),profilePicture:Bn("profile_picture"),createdAt:qo("created_at").defaultNow()}),sg=cc("subjects",{id:sl("id").primaryKey(),name:Bn("name").notNull(),code:Bn("code").notNull().unique(),teacherId:Zo("teacher_id").references(()=>ig.id),description:Bn("description")}),Zbe=cc("enrollments",{id:sl("id").primaryKey(),studentId:Zo("student_id").references(()=>ig.id).notNull(),subjectId:Zo("subject_id").references(()=>sg.id).notNull(),enrolledAt:qo("enrolled_at").defaultNow()}),Qbe=cc("attendance",{id:sl("id").primaryKey(),studentId:Zo("student_id").references(()=>ig.id).notNull(),subjectId:Zo("subject_id").references(()=>sg.id).notNull(),date:yV("date").notNull(),status:Bn("status",{enum:["present","late","absent","excused"]}).notNull(),timeIn:qo("time_in").defaultNow(),remarks:Bn("remarks")}),Jbe=cc("qr_codes",{id:sl("id").primaryKey(),subjectId:Zo("subject_id").references(()=>sg.id).notNull(),code:Bn("code").notNull(),active:gV("active").default(!0),createdAt:qo("created_at").defaultNow()}),e2e=cc("schedules",{id:sl("id").primaryKey(),subjectId:Zo("subject_id").references(()=>sg.id).notNull(),dayOfWeek:Bn("day_of_week",{enum:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"]}).notNull(),startTime:Bn("start_time").notNull(),endTime:Bn("end_time").notNull(),room:Bn("room").notNull()});cc("password_reset_tokens",{id:sl("id").primaryKey(),userId:Zo("user_id").references(()=>ig.id).notNull(),token:Bn("token").notNull().unique(),expiresAt:qo("expires_at").notNull(),usedAt:qo("used_at"),createdAt:qo("created_at").defaultNow()});cc("system_settings",{id:sl("id").primaryKey(),key:Bn("key").notNull().unique(),value:Bn("value").notNull(),updatedAt:qo("updated_at").defaultNow()});const _V=th(ig).omit({id:!0,createdAt:!0}),t2e=th(sg).omit({id:!0});th(Zbe).omit({id:!0,enrolledAt:!0});th(Qbe).omit({id:!0,timeIn:!0});th(Jbe).omit({id:!0,createdAt:!0});th(e2e).omit({id:!0});const lo=j.forwardRef(({className:t,...e},r)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:r,className:Ze("w-full caption-bottom text-sm",t),...e})}));lo.displayName="Table";const co=j.forwardRef(({className:t,...e},r)=>m.jsx("thead",{ref:r,className:Ze("[&_tr]:border-b",t),...e}));co.displayName="TableHeader";const uo=j.forwardRef(({className:t,...e},r)=>m.jsx("tbody",{ref:r,className:Ze("[&_tr:last-child]:border-0",t),...e}));uo.displayName="TableBody";const r2e=j.forwardRef(({className:t,...e},r)=>m.jsx("tfoot",{ref:r,className:Ze("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));r2e.displayName="TableFooter";const ln=j.forwardRef(({className:t,...e},r)=>m.jsx("tr",{ref:r,className:Ze("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ln.displayName="TableRow";const Ht=j.forwardRef(({className:t,...e},r)=>m.jsx("th",{ref:r,className:Ze("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ht.displayName="TableHead";const Dt=j.forwardRef(({className:t,...e},r)=>m.jsx("td",{ref:r,className:Ze("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Dt.displayName="TableCell";const n2e=j.forwardRef(({className:t,...e},r)=>m.jsx("caption",{ref:r,className:Ze("mt-4 text-sm text-muted-foreground",t),...e}));n2e.displayName="TableCaption";var MN="Avatar",[i2e]=es(MN),[s2e,SV]=i2e(MN),EV=j.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=j.useState("idle");return m.jsx(s2e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:m.jsx(Ct.span,{...n,ref:e})})});EV.displayName=MN;var AV="AvatarImage",CV=j.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=SV(AV,r),u=a2e(n,s),d=Ni(f=>{i(f),o.onImageLoadingStatusChange(f)});return ri(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?m.jsx(Ct.img,{...s,ref:e,src:n}):null});CV.displayName=AV;var TV="AvatarFallback",NV=j.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=SV(TV,r),[o,u]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&s.imageLoadingStatus!=="loaded"?m.jsx(Ct.span,{...i,ref:e}):null});NV.displayName=TV;function RD(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function a2e(t,{referrerPolicy:e,crossOrigin:r}){const n=l2e(),i=j.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,u]=j.useState(()=>RD(s,t));return ri(()=>{u(RD(s,t))},[s,t]),ri(()=>{const d=x=>()=>{u(x)};if(!s)return;const f=d("loaded"),g=d("error");return s.addEventListener("load",f),s.addEventListener("error",g),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",f),s.removeEventListener("error",g)}},[s,r,e]),o}function o2e(){return()=>{}}function l2e(){return j.useSyncExternalStore(o2e,()=>!0,()=>!1)}var OV=EV,IV=CV,PV=NV;const zv=j.forwardRef(({className:t,...e},r)=>m.jsx(OV,{ref:r,className:Ze(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));zv.displayName=OV.displayName;const jV=j.forwardRef(({className:t,...e},r)=>m.jsx(IV,{ref:r,className:Ze("aspect-square h-full w-full",t),...e}));jV.displayName=IV.displayName;const Wv=j.forwardRef(({className:t,...e},r)=>m.jsx(PV,{ref:r,className:Ze("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Wv.displayName=PV.displayName;function kD({value:t,onChange:e,className:r}){const[n,i]=t?t.split(":"):["09","00"],s=parseInt(n),o=isNaN(s)?9:s,u=parseInt(i)||0,d=o>=12,f=o%12||12,g=E=>{let A=parseInt(E);d&&A!==12&&(A+=12),!d&&A===12&&(A=0);const M=`${A.toString().padStart(2,"0")}:${i}`;e(M)},x=E=>{const A=`${n}:${E}`;e(A)},_=E=>{let A=parseInt(n);E==="PM"&&A<12&&(A+=12),E==="AM"&&A>=12&&(A-=12);const M=`${A.toString().padStart(2,"0")}:${i}`;e(M)},T=Array.from({length:12},(E,A)=>(A+1).toString().padStart(2,"0")),N=Array.from({length:12},(E,A)=>(A*5).toString().padStart(2,"0"));return m.jsxs("div",{className:`flex items-center gap-1 w-full ${r}`,children:[m.jsxs(di,{value:f.toString().padStart(2,"0"),onValueChange:g,children:[m.jsx(ei,{className:"flex-1 h-9 px-2",children:m.jsx(fi,{placeholder:"HH"})}),m.jsx(ti,{children:T.map(E=>m.jsx(or,{value:E,children:E},E))})]}),m.jsx("span",{className:"text-muted-foreground font-bold",children:":"}),m.jsxs(di,{value:u.toString().padStart(2,"0"),onValueChange:x,children:[m.jsx(ei,{className:"flex-1 h-9 px-2",children:m.jsx(fi,{placeholder:"MM"})}),m.jsx(ti,{children:N.map(E=>m.jsx(or,{value:E,children:E},E))})]}),m.jsxs(di,{value:d?"PM":"AM",onValueChange:_,children:[m.jsx(ei,{className:"flex-1 h-9 px-2",children:m.jsx(fi,{})}),m.jsxs(ti,{children:[m.jsx(or,{value:"AM",children:"AM"}),m.jsx(or,{value:"PM",children:"PM"})]})]})]})}function c2e(){const{user:t}=Ui(),{data:e,isLoading:r}=Wf(),{data:n,isLoading:i}=pT(t?.role==="student"?t?.id:void 0),s=t?.role==="student"?n:e,o=t?.role==="student"?i:r,[u,d]=j.useState(""),[f,g]=j.useState(null),[x,_]=j.useState(null),[T,N]=j.useState(null),[E,A]=xu();j.useEffect(()=>{if(s&&s.length>0){const D=new URLSearchParams(window.location.search).get("viewStudents");if(D){const L=s.find($=>$.id===parseInt(D));L&&(g(L),A("/subjects",{replace:!0}))}}},[s,A]);const M=s?.filter(I=>I.name.toLowerCase().includes(u.toLowerCase())||I.code.toLowerCase().includes(u.toLowerCase())),R=I=>{g(I)};return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:t?.role==="teacher"?"My Classes":t?.role==="student"?"My Subjects":"Subjects"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:t?.role==="student"?"View your enrolled subjects and class details.":"Manage your academic courses and view details."})]}),t?.role==="teacher"&&m.jsx(d2e,{})]}),m.jsxs("div",{className:"relative",children:[m.jsx(Kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{placeholder:"Search subjects...",className:"pl-9 max-w-md",value:u,onChange:I=>d(I.target.value)})]}),o?m.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(I=>m.jsx("div",{className:"h-48 bg-gray-100 rounded-xl animate-pulse"},I))}):m.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[M?.map(I=>m.jsxs($t,{className:"group cursor-pointer hover:border-primary/50 hover:shadow-lg transition-all duration-300",onClick:()=>R(I),children:[m.jsxs(Rr,{children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsx("div",{className:"px-2.5 py-1 rounded-md bg-secondary text-secondary-foreground text-xs font-semibold font-mono",children:I.code}),t?.role==="teacher"&&m.jsxs(Rve,{children:[m.jsx(kve,{asChild:!0,children:m.jsx(yt,{variant:"ghost",size:"icon",className:"h-8 w-8 -mt-2 -mr-2 text-muted-foreground",onClick:D=>D.stopPropagation(),children:m.jsx(mH,{className:"h-4 w-4"})})}),m.jsxs(tU,{align:"end",onClick:D=>D.stopPropagation(),children:[m.jsxs(nC,{className:"cursor-pointer focus:text-white hover:!text-white",onClick:()=>_(I),children:[m.jsx(Hd,{className:"w-4 h-4 mr-2"}),"Edit Schedule"]}),m.jsx(rU,{}),m.jsxs(nC,{className:"text-destructive cursor-pointer focus:text-white hover:!text-white hover:!bg-destructive focus:!bg-destructive",onClick:()=>N(I),children:[m.jsx(PC,{className:"w-4 h-4 mr-2"}),"Delete Subject"]})]})]})]}),m.jsx(kr,{className:"mt-2 text-xl",children:I.name}),m.jsx(on,{className:"line-clamp-2 min-h-[40px]",children:I.description||"No description provided."})]}),m.jsx(Wt,{children:m.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground border-t pt-4",children:[m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Qo,{className:"w-4 h-4"}),m.jsx("span",{children:"View Students"})]}),m.jsxs("div",{className:"flex items-center gap-1.5",children:[m.jsx(Ra,{className:"w-4 h-4"}),m.jsx("span",{children:"Active"})]})]})})]},I.id)),M?.length===0&&m.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-16 text-center bg-gray-50 border border-dashed rounded-xl",children:[m.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:m.jsx(Kd,{className:"w-6 h-6 text-gray-400"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No subjects found"}),m.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search terms."})]})]}),m.jsx(u2e,{subject:f,open:!!f,onClose:()=>g(null)}),m.jsx(f2e,{subject:x,open:!!x,onClose:()=>_(null)}),m.jsx(h2e,{subject:T,open:!!T,onClose:()=>N(null)})]})}function u2e({subject:t,open:e,onClose:r}){const{data:n,isLoading:i}=H1(t?.id||0);return t?m.jsx(Nu,{open:e,onOpenChange:s=>!s&&r(),children:m.jsxs(ic,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[m.jsx(sc,{children:m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx(ac,{className:"text-xl",children:t.name}),m.jsxs(Jf,{className:"flex items-center gap-2 mt-1",children:[m.jsx("span",{className:"font-mono text-xs bg-secondary px-2 py-0.5 rounded",children:t.code}),m.jsx("span",{children:""}),m.jsxs("span",{children:[n?.length||0," Students Enrolled"]})]})]})})}),m.jsx("div",{className:"flex-1 overflow-auto",children:i?m.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(s=>m.jsx("div",{className:"h-12 bg-gray-100 rounded animate-pulse"},s))}):n&&n.length>0?m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(ln,{children:[m.jsx(Ht,{className:"w-12",children:"#"}),m.jsx(Ht,{children:"Student"}),m.jsx(Ht,{children:"Student Number"})]})}),m.jsx(uo,{children:n.map((s,o)=>m.jsxs(ln,{children:[m.jsx(Dt,{className:"text-muted-foreground",children:o+1}),m.jsx(Dt,{children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(zv,{className:"h-8 w-8",children:m.jsx(Wv,{className:"bg-primary/10 text-primary text-xs",children:s.fullName.split(" ").map(u=>u[0]).join("").toUpperCase()})}),m.jsx("span",{className:"font-medium",children:s.fullName})]})}),m.jsx(Dt,{className:"font-mono text-muted-foreground",children:String(s.id).padStart(6,"0")})]},s.id))})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[m.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:m.jsx(Qo,{className:"w-8 h-8 text-gray-400"})}),m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No students enrolled"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"Students will appear here once they enroll in this subject."})]})}),m.jsx(Ou,{children:m.jsx(yt,{variant:"outline",onClick:r,children:"Close"})})]})}):null}function d2e(){const[t,e]=j.useState(!1),{mutate:r,isPending:n}=UJ(),{user:i}=Ui(),s=wu({resolver:bu(t2e),defaultValues:{name:"",code:"",description:"",teacherId:i?.id}}),o=u=>{r(u,{onSuccess:()=>{e(!1),s.reset()}})};return m.jsxs(Nu,{open:t,onOpenChange:e,children:[m.jsx(a$,{asChild:!0,children:m.jsxs(yt,{className:"shadow-lg shadow-primary/20 hover:shadow-primary/30",children:[m.jsx(X6,{className:"w-4 h-4 mr-2"}),"New Subject"]})}),m.jsxs(ic,{children:[m.jsxs(sc,{children:[m.jsx(ac,{children:"Create New Subject"}),m.jsx(Jf,{children:"Add a new course to your teaching catalog."})]}),m.jsx(_u,{...s,children:m.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[m.jsx(nn,{control:s.control,name:"name",render:({field:u})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Subject Name"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g. Advanced Calculus",...u})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:s.control,name:"code",render:({field:u})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Course Code"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g. MATH101",...u})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:s.control,name:"description",render:({field:u})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Description (Optional)"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"Brief overview of the course...",...u,value:u.value||""})}),m.jsx(Yr,{})]})}),m.jsxs(Ou,{children:[m.jsx(yt,{type:"button",variant:"ghost",onClick:()=>e(!1),children:"Cancel"}),m.jsx(yt,{type:"submit",disabled:n,children:n?"Creating...":"Create Subject"})]})]})})]})]})}function f2e({subject:t,open:e,onClose:r}){const{data:n,isLoading:i}=zJ(t?.id||0),{mutate:s,isPending:o}=WJ(),{mutate:u}=HJ(),[d,f]=j.useState(!1),[g,x]=j.useState({dayOfWeek:"Monday",startTime:"09:00",endTime:"10:30",room:""}),_=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],T=D=>{const[L,$]=D.split(":"),B=parseInt(L),z=B>=12?"PM":"AM";return`${B%12||12}:${$} ${z}`},N=D=>{const[L,$]=D.split(":").map(Number);return L*60+$},E=(D,L,$,B)=>{const z=N(D),H=N(L),ce=N($),K=N(B);return z<K&&ce<H},A=n?.find(D=>D.dayOfWeek===g.dayOfWeek&&E(D.startTime,D.endTime,g.startTime,g.endTime)),M=!!A,R=()=>{!t||!g.room||M||s({subjectId:t.id,dayOfWeek:g.dayOfWeek,startTime:g.startTime,endTime:g.endTime,room:g.room},{onSuccess:()=>{f(!1),x({dayOfWeek:"Monday",startTime:"09:00",endTime:"10:30",room:""})}})},I=D=>{u(D)};return t?m.jsx(Nu,{open:e,onOpenChange:D=>!D&&r(),children:m.jsxs(ic,{className:"max-w-lg max-h-[85vh] flex flex-col",children:[m.jsxs(sc,{children:[m.jsx(ac,{children:"Edit Schedule"}),m.jsxs(Jf,{children:["Manage the schedule for ",t.name," (",t.code,")"]})]}),m.jsxs("div",{className:"space-y-4 overflow-y-auto flex-1 pr-1",children:[i?m.jsx("div",{className:"space-y-2",children:[1,2,3].map(D=>m.jsx("div",{className:"h-12 bg-gray-100 rounded animate-pulse"},D))}):n&&n.length>0?m.jsx("div",{className:"space-y-2",children:n.sort((D,L)=>_.indexOf(D.dayOfWeek)-_.indexOf(L.dayOfWeek)).map(D=>m.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex items-center gap-2 min-w-[100px]",children:[m.jsx(Hd,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"font-medium text-sm",children:D.dayOfWeek})]}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[m.jsx(Hl,{className:"h-3.5 w-3.5"}),m.jsxs("span",{children:[T(D.startTime)," - ",T(D.endTime)]})]}),m.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[m.jsx(fE,{className:"h-3.5 w-3.5"}),m.jsx("span",{children:D.room})]})]}),m.jsx(yt,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>I(D.id),children:m.jsx(PC,{className:"h-4 w-4"})})]},D.id))}):m.jsx("div",{className:"text-center py-6 text-muted-foreground bg-gray-50 rounded-lg border border-dashed",children:"No schedules set. Add one below."}),d?m.jsxs("div",{className:"p-4 border rounded-lg space-y-4 bg-gray-50",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium",children:"Day"}),m.jsxs(di,{value:g.dayOfWeek,onValueChange:D=>x({...g,dayOfWeek:D}),children:[m.jsx(ei,{children:m.jsx(fi,{})}),m.jsx(ti,{children:_.map(D=>m.jsx(or,{value:D,children:D},D))})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium",children:"Room"}),m.jsx(Mr,{placeholder:"e.g. Q3212",value:g.room,onChange:D=>x({...g,room:D.target.value})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium",children:"Start Time"}),m.jsx(kD,{value:g.startTime,onChange:D=>x({...g,startTime:D})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"text-sm font-medium",children:"End Time"}),m.jsx(kD,{value:g.endTime,onChange:D=>x({...g,endTime:D})})]})]}),M&&A&&m.jsxs("p",{className:"text-sm text-destructive bg-destructive/10 p-2 rounded-md border border-destructive/20",children:["Schedule conflict: This time overlaps with an existing schedule on ",A.dayOfWeek," (",T(A.startTime)," - ",T(A.endTime),"). Please choose a different time."]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx(yt,{variant:"ghost",size:"sm",onClick:()=>f(!1),children:"Cancel"}),m.jsx(yt,{size:"sm",onClick:R,disabled:o||!g.room||M,children:o?"Adding...":"Add Schedule"})]})]}):m.jsxs(yt,{variant:"outline",className:"w-full",onClick:()=>f(!0),children:[m.jsx(X6,{className:"w-4 h-4 mr-2"}),"Add Schedule"]})]}),m.jsx(Ou,{children:m.jsx(yt,{variant:"outline",onClick:r,children:"Done"})})]})}):null}function h2e({subject:t,open:e,onClose:r}){const{toast:n}=hi(),i=Ji(),{mutate:s,isPending:o}=Bs({mutationFn:async u=>{const{error:d}=await Et.from("subjects").delete().eq("id",u);if(d)throw new Error("Failed to delete subject")},onSuccess:()=>{i.invalidateQueries({queryKey:["subjects"]}),n({title:"Subject Deleted",description:"The subject has been removed."}),r()},onError:()=>{n({title:"Error",description:"Failed to delete subject.",variant:"destructive"})}});return t?m.jsx(Dm,{open:e,onOpenChange:u=>!u&&r(),children:m.jsxs(Tf,{children:[m.jsxs(Nf,{children:[m.jsx(If,{children:"Delete Subject"}),m.jsxs(Pf,{children:["Are you sure you want to delete ",m.jsx("strong",{children:t.name})," (",t.code,")? This action cannot be undone. All schedules and enrollment data for this subject will also be removed."]})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(jf,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:u=>{u.preventDefault(),s(t.id)},disabled:o,children:o?"Deleting...":"Delete Subject"})]})]})}):null}function p2e(t){return{id:t.id,idNumber:t.id_number,email:t.email,password:"",fullName:t.full_name,role:t.role,profilePicture:t.profile_picture,createdAt:t.created_at?new Date(t.created_at):null}}function RV(t){return Ba({queryKey:["users",t],queryFn:async()=>{let r=Et.from("users").select("id, id_number, email, full_name, role, profile_picture, created_at");t&&(r=r.eq("role",t));const{data:n,error:i}=await r;if(i)throw new Error("Failed to fetch users");return(n||[]).map(p2e)}})}function m2e(){const t=Ji(),{toast:e}=hi();return Bs({mutationFn:async r=>{const n=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(r)});if(!n.ok){const i=await n.json().catch(()=>({}));throw new Error(i.message||"Failed to create user")}return await n.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),e({title:"User Created",description:"New user account has been successfully created."})},onError:r=>{e({title:"Error",description:r.message,variant:"destructive"})}})}function g2e(){const t=Ji(),{toast:e}=hi();return Bs({mutationFn:async r=>{const n=await fetch(`/api/users/${r}`,{method:"DELETE",credentials:"include"});if(!n.ok&&n.status!==204){const i=await n.json().catch(()=>({}));throw new Error(i.message||"Failed to delete user")}},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),e({title:"User Deleted",description:"The user account has been removed from all systems."})},onError:r=>{e({title:"Error",description:r.message,variant:"destructive"})}})}function y2e(){const t=Ji(),{toast:e}=hi();return Bs({mutationFn:async({id:r,data:n})=>{const i=await fetch(`/api/users/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(n)});if(!i.ok){const s=await i.json().catch(()=>({}));throw new Error(s.message||"Failed to update user")}return await i.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["users"]}),e({title:"User Updated",description:"User account has been successfully updated."})},onError:r=>{e({title:"Error",description:r.message,variant:"destructive"})}})}function v2e(){const[t,e]=j.useState(void 0),{data:r,isLoading:n}=RV(t),{mutate:i}=g2e(),[s,o]=j.useState(""),[u,d]=j.useState(null),[f,g]=j.useState(!1),x=r?.filter(_=>_.fullName.toLowerCase().includes(s.toLowerCase())||_.idNumber.toLowerCase().includes(s.toLowerCase())||(_.email||"").toLowerCase().includes(s.toLowerCase()));return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:"User Management"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"Create, manage, and remove system users."})]}),m.jsx(x2e,{})]}),m.jsxs("div",{className:"flex gap-4 items-center",children:[m.jsxs("div",{className:"relative flex-1 max-w-sm",children:[m.jsx(Kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{placeholder:"Search by name, ID number, or email...",className:"pl-9",value:s,onChange:_=>o(_.target.value)})]}),m.jsxs(di,{value:t||"all",onValueChange:_=>e(_==="all"?void 0:_),children:[m.jsx(ei,{className:"w-[180px]",children:m.jsx(fi,{placeholder:"Filter by Role"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Roles"}),m.jsx(or,{value:"student",children:"Student"}),m.jsx(or,{value:"teacher",children:"Teacher"}),m.jsx(or,{value:"superadmin",children:"Superadmin"})]})]})]}),m.jsx("div",{className:"border rounded-xl bg-white shadow-sm overflow-hidden",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(ln,{className:"bg-gray-50/50",children:[m.jsx(Ht,{children:"Full Name"}),m.jsx(Ht,{children:"ID Number"}),m.jsx(Ht,{children:"Email"}),m.jsx(Ht,{children:"Role"}),m.jsx(Ht,{className:"text-right",children:"Actions"})]})}),m.jsxs(uo,{children:[n?m.jsx(ln,{children:m.jsx(Dt,{colSpan:5,className:"h-24 text-center",children:"Loading..."})}):x?.map(_=>m.jsxs(ln,{children:[m.jsx(Dt,{className:"font-medium",children:_.fullName}),m.jsx(Dt,{className:"font-mono text-xs text-muted-foreground",children:_.idNumber}),m.jsx(Dt,{className:"text-sm text-muted-foreground",children:_.email}),m.jsx(Dt,{children:m.jsx("span",{className:Ze("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium capitalize",_.role==="student"&&"bg-blue-50 text-blue-700 ring-1 ring-blue-700/10",_.role==="teacher"&&"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-700/10",_.role==="superadmin"&&"bg-purple-50 text-purple-700 ring-1 ring-purple-700/10"),children:_.role})}),m.jsxs(Dt,{className:"text-right",children:[m.jsx(yt,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-primary",onClick:()=>{d(_),g(!0)},children:m.jsx(TH,{className:"w-4 h-4"})}),m.jsxs(Dm,{children:[m.jsx(w1,{asChild:!0,children:m.jsx(yt,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-destructive",children:m.jsx(PC,{className:"w-4 h-4"})})}),m.jsxs(Tf,{children:[m.jsxs(Nf,{children:[m.jsx(If,{children:"Delete User?"}),m.jsxs(Pf,{children:["This action cannot be undone. This will permanently delete the user account for ",_.fullName,"."]})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(jf,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>i(_.id),children:"Delete"})]})]})]})]})]},_.id)),x?.length===0&&m.jsx(ln,{children:m.jsx(Dt,{colSpan:5,className:"h-24 text-center text-muted-foreground",children:"No users found matching your criteria."})})]})]})}),m.jsx(w2e,{user:u,open:f,onOpenChange:_=>{g(_),_||d(null)}})]})}function x2e(){const[t,e]=j.useState(!1),{mutate:r,isPending:n}=m2e(),i=wu({resolver:bu(_V),defaultValues:{fullName:"",idNumber:"",email:"",password:"",role:"student"}}),s=o=>{r(o,{onSuccess:()=>{e(!1),i.reset()}})};return m.jsxs(Nu,{open:t,onOpenChange:e,children:[m.jsx(a$,{asChild:!0,children:m.jsxs(yt,{className:"shadow-lg shadow-primary/20 hover:shadow-primary/30",children:[m.jsx(Q0,{className:"w-4 h-4 mr-2"}),"Add User"]})}),m.jsxs(ic,{children:[m.jsxs(sc,{children:[m.jsx(ac,{children:"Add New User"}),m.jsx(Jf,{children:"Create a new account for a student, teacher, or administrator."})]}),m.jsx(_u,{...i,children:m.jsxs("form",{onSubmit:i.handleSubmit(s),className:"space-y-4",children:[m.jsx(nn,{control:i.control,name:"fullName",render:({field:o})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Full Name"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g. Juan Dela Cruz",...o})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:i.control,name:"idNumber",render:({field:o})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"ID Number"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g. 12345678",...o})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:i.control,name:"email",render:({field:o})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Email"}),m.jsx(Xr,{children:m.jsx(Mr,{type:"email",placeholder:"e.g. user@example.com",...o})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:i.control,name:"password",render:({field:o})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Password"}),m.jsx(Xr,{children:m.jsx(Mr,{type:"password",placeholder:"",...o})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:i.control,name:"role",render:({field:o})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Role"}),m.jsxs(di,{onValueChange:o.onChange,defaultValue:o.value,children:[m.jsx(Xr,{children:m.jsx(ei,{children:m.jsx(fi,{placeholder:"Select a role"})})}),m.jsxs(ti,{children:[m.jsx(or,{value:"student",children:"Student"}),m.jsx(or,{value:"teacher",children:"Teacher"}),m.jsx(or,{value:"superadmin",children:"Superadmin"})]})]}),m.jsx(Yr,{})]})}),m.jsxs(Ou,{children:[m.jsx(yt,{type:"button",variant:"ghost",onClick:()=>e(!1),children:"Cancel"}),m.jsx(yt,{type:"submit",disabled:n,children:n?"Creating...":"Create Account"})]})]})})]})]})}function w2e({user:t,open:e,onOpenChange:r}){const{mutate:n,isPending:i}=y2e(),s=wu({resolver:bu(_V.partial().extend({fullName:lr.string().min(1,"Full name is required"),idNumber:lr.string().min(1,"ID Number is required"),email:lr.string().email("Invalid email address"),role:lr.enum(["student","teacher","superadmin"])})),defaultValues:{fullName:"",idNumber:"",email:"",password:"",role:"student"}});j.useEffect(()=>{t&&s.reset({fullName:t.fullName||"",idNumber:t.idNumber||"",email:t.email||"",password:"",role:t.role||"student"})},[t?.id,s]);const o=u=>{if(!t)return;const d={fullName:u.fullName,idNumber:u.idNumber,email:u.email,role:u.role};u.password&&u.password.trim()!==""&&(d.password=u.password),n({id:t.id,data:d},{onSuccess:()=>{r(!1),s.reset()}})};return m.jsx(Nu,{open:e,onOpenChange:r,children:m.jsxs(ic,{children:[m.jsxs(sc,{children:[m.jsx(ac,{children:"Edit User"}),m.jsx(Jf,{children:"Update the user's account information. Leave password blank to keep the current password."})]}),m.jsx(_u,{...s,children:m.jsxs("form",{onSubmit:s.handleSubmit(o),className:"space-y-4",children:[m.jsx(nn,{control:s.control,name:"fullName",render:({field:u})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Full Name"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g. Juan Dela Cruz",...u})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:s.control,name:"idNumber",render:({field:u})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"ID Number"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g. 12345678",...u})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:s.control,name:"email",render:({field:u})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Email"}),m.jsx(Xr,{children:m.jsx(Mr,{type:"email",placeholder:"e.g. user@example.com",...u})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:s.control,name:"password",render:({field:u})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Password"}),m.jsx(Xr,{children:m.jsx(Mr,{type:"password",placeholder:"Leave blank to keep current",...u})}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:s.control,name:"role",render:({field:u})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Role"}),m.jsxs(di,{onValueChange:u.onChange,value:u.value,children:[m.jsx(Xr,{children:m.jsx(ei,{children:m.jsx(fi,{placeholder:"Select a role"})})}),m.jsxs(ti,{children:[m.jsx(or,{value:"student",children:"Student"}),m.jsx(or,{value:"teacher",children:"Teacher"}),m.jsx(or,{value:"superadmin",children:"Superadmin"})]})]}),m.jsx(Yr,{})]})}),m.jsxs(Ou,{children:[m.jsx(yt,{type:"button",variant:"ghost",onClick:()=>r(!1),children:"Cancel"}),m.jsx(yt,{type:"submit",disabled:i,children:i?"Saving...":"Save Changes"})]})]})})]})})}const b2e=$m("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Fn({className:t,variant:e,...r}){return m.jsx("div",{className:Ze(b2e({variant:e}),t),...r})}function _2e(){const[t,e]=j.useState(null),[r,n]=j.useState(""),{data:i=[],isLoading:s}=Wf(),{data:o=[],isLoading:u}=H1(t||0),{data:d=[],isLoading:f}=RV("student"),g=VJ(),x=qJ(),_=new Set(o.map(I=>I.id)),T=d.filter(I=>!_.has(I.id)),N=T.filter(I=>I.fullName.toLowerCase().includes(r.toLowerCase())||I.idNumber.toLowerCase().includes(r.toLowerCase())||I.email.toLowerCase().includes(r.toLowerCase())),E=o.filter(I=>I.fullName.toLowerCase().includes(r.toLowerCase())||I.idNumber.toLowerCase().includes(r.toLowerCase())||I.email.toLowerCase().includes(r.toLowerCase())),A=I=>{t&&g.mutate({subjectId:t,studentId:I})},M=I=>{t&&x.mutate({subjectId:t,studentId:I})},R=i.find(I=>I.id===t);return m.jsxs("div",{className:"space-y-6 overflow-x-hidden",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Enrollment Management"}),m.jsx("p",{className:"text-muted-foreground",children:"Enroll or remove students from subjects"})]}),m.jsxs($t,{className:"border-2 border-primary/20",children:[m.jsxs(Rr,{children:[m.jsxs(kr,{className:"flex items-center gap-2",children:[m.jsx(Ra,{className:"h-5 w-5"}),"Select Subject"]}),m.jsx(on,{children:"Choose a subject to manage student enrollments"})]}),m.jsx(Wt,{children:m.jsxs(di,{value:t?.toString()||"",onValueChange:I=>e(Number(I)),disabled:s,children:[m.jsx(ei,{className:"w-full md:w-[400px]",children:m.jsx(fi,{placeholder:"Select a subject..."})}),m.jsx(ti,{children:i.map(I=>m.jsxs(or,{value:I.id.toString(),children:[I.code," - ",I.name]},I.id))})]})})]}),t&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative",children:[m.jsx(Kd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{placeholder:"Search students by name, ID number, or email...",value:r,onChange:I=>n(I.target.value),className:"pl-10"})]}),m.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[m.jsxs($t,{className:"border-2 border-primary/20 min-w-0 overflow-hidden",children:[m.jsxs(Rr,{children:[m.jsxs(kr,{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(Qo,{className:"h-5 w-5"}),"Enrolled Students"]}),m.jsx(Fn,{variant:"secondary",children:o.length})]}),m.jsxs(on,{children:["Students currently enrolled in ",R?.code]})]}),m.jsx(Wt,{className:"p-0 sm:p-6",children:u?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx(Zi,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):E.length===0?m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r?"No matching enrolled students":"No students enrolled yet"}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(ln,{children:[m.jsx(Ht,{children:"ID Number"}),m.jsx(Ht,{children:"Name"}),m.jsx(Ht,{className:"text-right",children:"Action"})]})}),m.jsx(uo,{children:E.map(I=>m.jsxs(ln,{children:[m.jsx(Dt,{className:"font-mono text-sm",children:I.idNumber}),m.jsx(Dt,{children:I.fullName}),m.jsx(Dt,{className:"text-right",children:m.jsxs(Dm,{children:[m.jsx(w1,{asChild:!0,children:m.jsxs(yt,{variant:"ghost",size:"sm",className:"text-destructive hover:text-destructive hover:bg-destructive/10",disabled:x.isPending,children:[m.jsx(MH,{className:"h-4 w-4 mr-1"}),"Remove"]})}),m.jsxs(Tf,{children:[m.jsxs(Nf,{children:[m.jsx(If,{children:"Remove Student"}),m.jsxs(Pf,{children:["Are you sure you want to remove ",m.jsx("strong",{children:I.fullName})," from"," ",m.jsx("strong",{children:R?.code}),"? This will remove their enrollment but keep their attendance records."]})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(jf,{onClick:()=>M(I.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})]})})]},I.id))})]})})})]}),m.jsxs($t,{className:"border-2 border-primary/20 min-w-0 overflow-hidden",children:[m.jsxs(Rr,{children:[m.jsxs(kr,{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx(Q0,{className:"h-5 w-5"}),"Available Students"]}),m.jsx(Fn,{variant:"outline",children:T.length})]}),m.jsxs(on,{children:["Students not enrolled in ",R?.code]})]}),m.jsx(Wt,{className:"p-0 sm:p-6",children:f?m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx(Zi,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):N.length===0?m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r?"No matching available students":"All students are enrolled"}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(ln,{children:[m.jsx(Ht,{children:"ID Number"}),m.jsx(Ht,{children:"Name"}),m.jsx(Ht,{className:"text-right",children:"Action"})]})}),m.jsx(uo,{children:N.map(I=>m.jsxs(ln,{children:[m.jsx(Dt,{className:"font-mono text-sm",children:I.idNumber}),m.jsx(Dt,{children:I.fullName}),m.jsx(Dt,{className:"text-right",children:m.jsxs(yt,{variant:"ghost",size:"sm",className:"text-primary hover:text-primary hover:bg-primary/10",onClick:()=>A(I.id),disabled:g.isPending,children:[m.jsx(Q0,{className:"h-4 w-4 mr-1"}),"Enroll"]})})]},I.id))})]})})})]})]})]})]})}var S2e="Separator",MD="horizontal",E2e=["horizontal","vertical"],kV=j.forwardRef((t,e)=>{const{decorative:r,orientation:n=MD,...i}=t,s=A2e(n)?n:MD,u=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return m.jsx(Ct.div,{"data-orientation":s,...u,...i,ref:e})});kV.displayName=S2e;function A2e(t){return E2e.includes(t)}var MV=kV;const DV=j.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>m.jsx(MV,{ref:i,decorative:r,orientation:e,className:Ze("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));DV.displayName=MV.displayName;var DN="Radio",[C2e,LV]=es(DN),[T2e,N2e]=C2e(DN),BV=j.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:o,value:u="on",onCheck:d,form:f,...g}=t,[x,_]=j.useState(null),T=dr(e,A=>_(A)),N=j.useRef(!1),E=x?f||!!x.closest("form"):!0;return m.jsxs(T2e,{scope:r,checked:i,disabled:o,children:[m.jsx(Ct.button,{type:"button",role:"radio","aria-checked":i,"data-state":UV(i),"data-disabled":o?"":void 0,disabled:o,value:u,...g,ref:T,onClick:et(t.onClick,A=>{i||d?.(),E&&(N.current=A.isPropagationStopped(),N.current||A.stopPropagation())})}),E&&m.jsx(O2e,{control:x,bubbles:!N.current,name:n,value:u,checked:i,required:s,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});BV.displayName=DN;var FV="RadioIndicator",$V=j.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,s=N2e(FV,r);return m.jsx(oa,{present:n||s.checked,children:m.jsx(Ct.span,{"data-state":UV(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});$V.displayName=FV;var O2e=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=j.useRef(null),o=SU(r),u=w5(e);return j.useEffect(()=>{const d=s.current,f=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(f,"checked").set;if(o!==r&&x){const _=new Event("click",{bubbles:n});x.call(d,r),d.dispatchEvent(_)}},[o,r,n]),m.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function UV(t){return t?"checked":"unchecked"}var I2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],LN="RadioGroup",[P2e]=es(LN,[zf,LV]),VV=zf(),qV=LV(),[j2e,R2e]=P2e(LN),zV=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:o=!1,disabled:u=!1,orientation:d,dir:f,loop:g=!0,onValueChange:x,..._}=t,T=VV(r),N=Wm(f),[E,A]=Wl({prop:s,defaultProp:i,onChange:x});return m.jsx(j2e,{scope:r,name:n,required:o,disabled:u,value:E,onValueChange:A,children:m.jsx(iT,{asChild:!0,...T,orientation:d,dir:N,loop:g,children:m.jsx(Ct.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":u?"":void 0,dir:N,..._,ref:e})})})});zV.displayName=LN;var WV="RadioGroupItem",HV=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,s=R2e(WV,r),o=s.disabled||n,u=VV(r),d=qV(r),f=j.useRef(null),g=dr(e,f),x=s.value===i.value,_=j.useRef(!1);return j.useEffect(()=>{const T=E=>{I2e.includes(E.key)&&(_.current=!0)},N=()=>_.current=!1;return document.addEventListener("keydown",T),document.addEventListener("keyup",N),()=>{document.removeEventListener("keydown",T),document.removeEventListener("keyup",N)}},[]),m.jsx(sT,{asChild:!0,...u,focusable:!o,active:x,children:m.jsx(BV,{disabled:o,required:s.required,checked:x,...d,...i,name:s.name,ref:g,onCheck:()=>s.onValueChange(i.value),onKeyDown:et(T=>{T.key==="Enter"&&T.preventDefault()}),onFocus:et(i.onFocus,()=>{_.current&&f.current?.click()})})})});HV.displayName=WV;var k2e="RadioGroupIndicator",GV=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=qV(r);return m.jsx($V,{...i,...n,ref:e})});GV.displayName=k2e;var KV=zV,XV=HV,M2e=GV;const fC=j.forwardRef(({className:t,...e},r)=>m.jsx(KV,{className:Ze("grid gap-2",t),...e,ref:r}));fC.displayName=KV.displayName;const mp=j.forwardRef(({className:t,...e},r)=>m.jsx(XV,{ref:r,className:Ze("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(M2e,{className:"flex items-center justify-center",children:m.jsx(K6,{className:"h-2.5 w-2.5 fill-current text-current"})})}));mp.displayName=XV.displayName;const DD=[{name:"Green",primary:"#006937",secondary:"#004d29"},{name:"Royal Blue",primary:"#1e40af",secondary:"#1e3a8a"},{name:"Crimson Red",primary:"#dc2626",secondary:"#b91c1c"},{name:"Purple",primary:"#7c3aed",secondary:"#6d28d9"},{name:"Teal",primary:"#0d9488",secondary:"#0f766e"},{name:"Orange",primary:"#ea580c",secondary:"#c2410c"},{name:"Pink",primary:"#db2777",secondary:"#be185d"},{name:"Indigo",primary:"#4f46e5",secondary:"#4338ca"}],D2e=lr.object({schoolName:lr.string().min(1,"School name is required"),systemTitle:lr.string().min(1,"System title is required"),tagline:lr.string().optional(),primaryColor:lr.string().min(1,"Primary color is required"),secondaryColor:lr.string().min(1,"Secondary color is required"),logoUrl:lr.string().optional(),faviconUrl:lr.string().optional(),theme:lr.enum(["light","dark","system"]),fontFamily:lr.enum(["inter","roboto","poppins","open-sans"])});function L2e(){const{toast:t}=hi(),{settings:e,updateSettings:r,resetSettings:n}=qf(),[i,s]=j.useState(null),[o,u]=j.useState(null),[d,f]=j.useState(null),g=wu({resolver:bu(D2e),defaultValues:{schoolName:e.schoolName,systemTitle:e.systemTitle,tagline:e.tagline,primaryColor:e.primaryColor,secondaryColor:e.secondaryColor,logoUrl:e.logoUrl,faviconUrl:e.faviconUrl,theme:e.theme,fontFamily:e.fontFamily}});j.useEffect(()=>{g.reset({schoolName:e.schoolName,systemTitle:e.systemTitle,tagline:e.tagline,primaryColor:e.primaryColor,secondaryColor:e.secondaryColor,logoUrl:e.logoUrl,faviconUrl:e.faviconUrl,theme:e.theme,fontFamily:e.fontFamily}),s(e.logoUrl||null),u(e.faviconUrl||null);const B=DD.find(z=>z.primary===e.primaryColor&&z.secondary===e.secondaryColor);f(B?.name||null)},[e]);const x=B=>{const z=B.target.files?.[0];if(z){const H=new FileReader;H.onloadend=()=>{const ce=H.result;s(ce),g.setValue("logoUrl",ce)},H.readAsDataURL(z)}},_=B=>{const z=B.target.files?.[0];if(z){const H=new FileReader;H.onloadend=()=>{const ce=H.result;u(ce),g.setValue("faviconUrl",ce)},H.readAsDataURL(z)}},T=B=>{f(B.name),g.setValue("primaryColor",B.primary),g.setValue("secondaryColor",B.secondary)},N=async B=>{try{await r({schoolName:B.schoolName,systemTitle:B.systemTitle,tagline:B.tagline||"",primaryColor:B.primaryColor,secondaryColor:B.secondaryColor,logoUrl:B.logoUrl||"",faviconUrl:B.faviconUrl||"",theme:B.theme,fontFamily:B.fontFamily}),t({title:"Settings saved",description:"Your system settings have been saved to the database."})}catch{t({title:"Error",description:"Failed to save settings. Please try again.",variant:"destructive"})}},E=async()=>{try{await n(),f("DLSU Green"),s(null),u(null),t({title:"Settings reset",description:"All settings have been restored to defaults."})}catch{t({title:"Error",description:"Failed to reset settings. Please try again.",variant:"destructive"})}},A=g.watch("primaryColor");g.watch("secondaryColor");const M=g.watch("theme"),R=g.watch("schoolName"),I=g.watch("systemTitle"),D=g.watch("tagline"),L=()=>M==="dark"?"bg-gray-900":M==="light"?"bg-gray-50":typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"bg-gray-900":"bg-gray-50",$=()=>M==="dark"?"text-white":M==="light"?"text-gray-900":typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"text-white":"text-gray-900";return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:m.jsx(Y6,{className:"w-6 h-6 text-primary"})}),m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"System Settings"})]}),m.jsx("p",{className:"text-muted-foreground",children:"Customize the appearance and branding of your attendance system"})]}),m.jsxs("div",{className:"flex gap-3",children:[m.jsxs(yt,{variant:"outline",onClick:E,children:[m.jsx(OH,{className:"w-4 h-4 mr-2"}),"Reset to Defaults"]}),m.jsxs(yt,{onClick:g.handleSubmit(N),children:[m.jsx(IH,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]}),m.jsx(_u,{...g,children:m.jsx("form",{onSubmit:g.handleSubmit(N),className:"space-y-8",children:m.jsxs(lT,{defaultValue:"branding",className:"w-full",children:[m.jsxs(cT,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[m.jsxs(eu,{value:"branding",className:"flex items-center gap-2",children:[m.jsx(fH,{className:"w-4 h-4"}),"Branding"]}),m.jsxs(eu,{value:"colors",className:"flex items-center gap-2",children:[m.jsx(AH,{className:"w-4 h-4"}),"Colors"]}),m.jsxs(eu,{value:"design",className:"flex items-center gap-2",children:[m.jsx(xH,{className:"w-4 h-4"}),"Design"]})]}),m.jsxs(z0,{value:"branding",className:"space-y-6 mt-6",children:[m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Organization Details"}),m.jsx(on,{children:"Configure your school or organization information"})]}),m.jsxs(Wt,{className:"space-y-6",children:[m.jsx(nn,{control:g.control,name:"schoolName",render:({field:B})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"School / Organization Name"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g., De La Salle University",className:"max-w-md",...B})}),m.jsx(_d,{children:"This will be displayed throughout the system"}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:g.control,name:"systemTitle",render:({field:B})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"System Title"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g., AttendED",className:"max-w-md",...B})}),m.jsx(_d,{children:"The name of your attendance system"}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:g.control,name:"tagline",render:({field:B})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Tagline (Optional)"}),m.jsx(Xr,{children:m.jsx(Mr,{placeholder:"e.g., Streamlining Academic Attendance",className:"max-w-md",...B})}),m.jsx(_d,{children:"A short description shown on the login page"}),m.jsx(Yr,{})]})})]})]}),m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Logo & Favicon"}),m.jsx(on,{children:"Upload your organization's logo and favicon"})]}),m.jsx(Wt,{className:"space-y-6",children:m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsx(Gi,{children:"Logo"}),m.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:i?m.jsxs("div",{className:"space-y-4",children:[m.jsx("img",{src:i,alt:"Logo preview",className:"max-h-24 mx-auto object-contain"}),m.jsx(yt,{type:"button",variant:"outline",size:"sm",onClick:()=>{s(null),g.setValue("logoUrl","")},children:"Remove"})]}):m.jsxs("label",{className:"cursor-pointer block",children:[m.jsx(pP,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),m.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to upload logo"}),m.jsx("span",{className:"block text-xs text-muted-foreground mt-1",children:"PNG, JPG, SVG (max 2MB)"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:x})]})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Gi,{children:"Favicon"}),m.jsx("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:border-primary/50 transition-colors",children:o?m.jsxs("div",{className:"space-y-4",children:[m.jsx("img",{src:o,alt:"Favicon preview",className:"w-16 h-16 mx-auto object-contain"}),m.jsx(yt,{type:"button",variant:"outline",size:"sm",onClick:()=>{u(null),g.setValue("faviconUrl","")},children:"Remove"})]}):m.jsxs("label",{className:"cursor-pointer block",children:[m.jsx(pP,{className:"w-8 h-8 mx-auto text-muted-foreground mb-2"}),m.jsx("span",{className:"text-sm text-muted-foreground",children:"Click to upload favicon"}),m.jsx("span",{className:"block text-xs text-muted-foreground mt-1",children:"ICO, PNG (32x32 or 64x64)"}),m.jsx("input",{type:"file",className:"hidden",accept:"image/*,.ico",onChange:_})]})})]})]})})]})]}),m.jsxs(z0,{value:"colors",className:"space-y-6 mt-6",children:[m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Color Presets"}),m.jsx(on,{children:"Choose a preset color scheme or customize your own"})]}),m.jsx(Wt,{children:m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:DD.map(B=>m.jsxs("button",{type:"button",onClick:()=>T(B),className:`relative p-4 rounded-lg border-2 transition-all ${d===B.name?"border-primary ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"}`,children:[d===B.name&&m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(TC,{className:"w-4 h-4 text-primary"})}),m.jsxs("div",{className:"flex gap-2 mb-3",children:[m.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm",style:{backgroundColor:B.primary}}),m.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm",style:{backgroundColor:B.secondary}})]}),m.jsx("p",{className:"text-sm font-medium text-left",children:B.name})]},B.name))})})]}),m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Custom Colors"}),m.jsx(on,{children:"Fine-tune your color scheme with custom hex values"})]}),m.jsxs(Wt,{className:"space-y-6",children:[m.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[m.jsx(nn,{control:g.control,name:"primaryColor",render:({field:B})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Primary Color"}),m.jsx(Xr,{children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("input",{type:"color",value:B.value,onChange:z=>{B.onChange(z.target.value),f(null)},className:"w-12 h-10 rounded border cursor-pointer"}),m.jsx(Mr,{...B,onChange:z=>{B.onChange(z.target.value),f(null)},placeholder:"#006937",className:"font-mono"})]})}),m.jsx(_d,{children:"Used for buttons, links, and accents"}),m.jsx(Yr,{})]})}),m.jsx(nn,{control:g.control,name:"secondaryColor",render:({field:B})=>m.jsxs(Kr,{children:[m.jsx(cn,{children:"Secondary Color"}),m.jsx(Xr,{children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("input",{type:"color",value:B.value,onChange:z=>{B.onChange(z.target.value),f(null)},className:"w-12 h-10 rounded border cursor-pointer"}),m.jsx(Mr,{...B,onChange:z=>{B.onChange(z.target.value),f(null)},placeholder:"#004d29",className:"font-mono"})]})}),m.jsx(_d,{children:"Used for hover states and secondary elements"}),m.jsx(Yr,{})]})})]}),m.jsx(DV,{}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(Gi,{children:"Live Preview"}),m.jsxs("div",{className:"p-6 bg-white rounded-lg border space-y-4",children:[m.jsxs("div",{className:"flex gap-3 flex-wrap",children:[m.jsx(yt,{type:"button",style:{backgroundColor:A,borderColor:A},className:"hover:opacity-90 text-white",children:"Primary Button"}),m.jsx(yt,{type:"button",variant:"outline",style:{borderColor:A,color:A},children:"Outline Button"})]}),m.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[m.jsx("a",{href:"#",onClick:B=>B.preventDefault(),style:{color:A},className:"text-sm hover:underline",children:"Sample Link"}),m.jsx("span",{className:"px-3 py-1 rounded-full text-white text-sm",style:{backgroundColor:A},children:"Badge"}),m.jsx("div",{className:"w-full max-w-[200px] h-2 rounded-full",style:{backgroundColor:`${A}30`},children:m.jsx("div",{className:"w-3/4 h-full rounded-full",style:{backgroundColor:A}})})]})]})]})]})]})]}),m.jsxs(z0,{value:"design",className:"space-y-6 mt-6",children:[m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Theme Mode"}),m.jsx(on,{children:"Choose the default appearance mode for the system"})]}),m.jsx(Wt,{children:m.jsx(nn,{control:g.control,name:"theme",render:({field:B})=>m.jsxs(Kr,{children:[m.jsx(Xr,{children:m.jsxs(fC,{onValueChange:B.onChange,value:B.value,className:"grid grid-cols-3 gap-4 max-w-lg",children:[m.jsxs(Gi,{htmlFor:"light",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer transition-all ${B.value==="light"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,children:[m.jsx(mp,{value:"light",id:"light",className:"sr-only"}),m.jsx(kH,{className:"w-6 h-6 mb-2"}),m.jsx("span",{className:"text-sm font-medium",children:"Light"})]}),m.jsxs(Gi,{htmlFor:"dark",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer transition-all ${B.value==="dark"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,children:[m.jsx(mp,{value:"dark",id:"dark",className:"sr-only"}),m.jsx(EH,{className:"w-6 h-6 mb-2"}),m.jsx("span",{className:"text-sm font-medium",children:"Dark"})]}),m.jsxs(Gi,{htmlFor:"system",className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer transition-all ${B.value==="system"?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,children:[m.jsx(mp,{value:"system",id:"system",className:"sr-only"}),m.jsx(SH,{className:"w-6 h-6 mb-2"}),m.jsx("span",{className:"text-sm font-medium",children:"System"})]})]})}),m.jsx(Yr,{})]})})})]}),m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Typography"}),m.jsx(on,{children:"Select the font family for the system interface"})]}),m.jsx(Wt,{children:m.jsx(nn,{control:g.control,name:"fontFamily",render:({field:B})=>m.jsxs(Kr,{children:[m.jsx(Xr,{children:m.jsx(fC,{onValueChange:B.onChange,value:B.value,className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{value:"inter",label:"Inter",sample:"Aa Bb Cc"},{value:"roboto",label:"Roboto",sample:"Aa Bb Cc"},{value:"poppins",label:"Poppins",sample:"Aa Bb Cc"},{value:"open-sans",label:"Open Sans",sample:"Aa Bb Cc"}].map(z=>m.jsxs(Gi,{htmlFor:z.value,className:`flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer transition-all ${B.value===z.value?"border-primary bg-primary/5":"border-gray-200 hover:border-gray-300"}`,children:[m.jsx(mp,{value:z.value,id:z.value,className:"sr-only"}),m.jsx("span",{className:"text-2xl mb-2",style:{fontFamily:z.label},children:z.sample}),m.jsx("span",{className:"text-sm font-medium",children:z.label})]},z.value))})}),m.jsx(Yr,{})]})})})]}),m.jsxs($t,{children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Login Page Preview"}),m.jsx(on,{children:"See how your settings will look on the login page"})]}),m.jsx(Wt,{children:m.jsx("div",{className:"border rounded-lg overflow-hidden",children:m.jsxs("div",{className:"grid md:grid-cols-2 min-h-[300px]",children:[m.jsx("div",{className:`p-6 flex items-center justify-center ${L()}`,children:m.jsxs("div",{className:"text-center space-y-3",children:[m.jsx("div",{className:"w-12 h-12 rounded-xl mx-auto flex items-center justify-center text-white shadow-lg",style:{backgroundColor:A},children:i?m.jsx("img",{src:i,alt:"Logo",className:"w-8 h-8 object-contain"}):m.jsx(Gd,{className:"w-6 h-6"})}),m.jsx("h3",{className:`font-bold text-lg ${$()}`,children:I||"AttendED"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Sign in to continue"})]})}),m.jsx("div",{className:"p-6 flex items-center justify-center text-white",style:{backgroundColor:A},children:m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("h3",{className:"font-bold text-lg",children:R||"Your School Name"}),m.jsx("p",{className:"text-sm opacity-80",children:D||"Your tagline here"})]})})]})})})]})]})]})})})]})}var B2e=Object.defineProperty,E1=Object.getOwnPropertySymbols,YV=Object.prototype.hasOwnProperty,ZV=Object.prototype.propertyIsEnumerable,LD=(t,e,r)=>e in t?B2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hC=(t,e)=>{for(var r in e||(e={}))YV.call(e,r)&&LD(t,r,e[r]);if(E1)for(var r of E1(e))ZV.call(e,r)&&LD(t,r,e[r]);return t},pC=(t,e)=>{var r={};for(var n in t)YV.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&E1)for(var n of E1(t))e.indexOf(n)<0&&ZV.call(t,n)&&(r[n]=t[n]);return r};var vu;(t=>{const e=class ar{constructor(d,f,g,x){if(this.version=d,this.errorCorrectionLevel=f,this.modules=[],this.isFunction=[],d<ar.MIN_VERSION||d>ar.MAX_VERSION)throw new RangeError("Version value out of range");if(x<-1||x>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let _=[];for(let N=0;N<this.size;N++)_.push(!1);for(let N=0;N<this.size;N++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(g);if(this.drawCodewords(T),x==-1){let N=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const A=this.getPenaltyScore();A<N&&(x=E,N=A),this.applyMask(E)}}i(0<=x&&x<=7),this.mask=x,this.applyMask(x),this.drawFormatBits(x),this.isFunction=[]}static encodeText(d,f){const g=t.QrSegment.makeSegments(d);return ar.encodeSegments(g,f)}static encodeBinary(d,f){const g=t.QrSegment.makeBytes(d);return ar.encodeSegments([g],f)}static encodeSegments(d,f,g=1,x=40,_=-1,T=!0){if(!(ar.MIN_VERSION<=g&&g<=x&&x<=ar.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");let N,E;for(N=g;;N++){const I=ar.getNumDataCodewords(N,f)*8,D=o.getTotalBits(d,N);if(D<=I){E=D;break}if(N>=x)throw new RangeError("Data too long")}for(const I of[ar.Ecc.MEDIUM,ar.Ecc.QUARTILE,ar.Ecc.HIGH])T&&E<=ar.getNumDataCodewords(N,I)*8&&(f=I);let A=[];for(const I of d){r(I.mode.modeBits,4,A),r(I.numChars,I.mode.numCharCountBits(N),A);for(const D of I.getData())A.push(D)}i(A.length==E);const M=ar.getNumDataCodewords(N,f)*8;i(A.length<=M),r(0,Math.min(4,M-A.length),A),r(0,(8-A.length%8)%8,A),i(A.length%8==0);for(let I=236;A.length<M;I^=253)r(I,8,A);let R=[];for(;R.length*8<A.length;)R.push(0);return A.forEach((I,D)=>R[D>>>3]|=I<<7-(D&7)),new ar(N,f,R,_)}getModule(d,f){return 0<=d&&d<this.size&&0<=f&&f<this.size&&this.modules[f][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let g=0;g<this.size;g++)this.setFunctionModule(6,g,g%2==0),this.setFunctionModule(g,6,g%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),f=d.length;for(let g=0;g<f;g++)for(let x=0;x<f;x++)g==0&&x==0||g==0&&x==f-1||g==f-1&&x==0||this.drawAlignmentPattern(d[g],d[x]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const f=this.errorCorrectionLevel.formatBits<<3|d;let g=f;for(let _=0;_<10;_++)g=g<<1^(g>>>9)*1335;const x=(f<<10|g)^21522;i(x>>>15==0);for(let _=0;_<=5;_++)this.setFunctionModule(8,_,n(x,_));this.setFunctionModule(8,7,n(x,6)),this.setFunctionModule(8,8,n(x,7)),this.setFunctionModule(7,8,n(x,8));for(let _=9;_<15;_++)this.setFunctionModule(14-_,8,n(x,_));for(let _=0;_<8;_++)this.setFunctionModule(this.size-1-_,8,n(x,_));for(let _=8;_<15;_++)this.setFunctionModule(8,this.size-15+_,n(x,_));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let g=0;g<12;g++)d=d<<1^(d>>>11)*7973;const f=this.version<<12|d;i(f>>>18==0);for(let g=0;g<18;g++){const x=n(f,g),_=this.size-11+g%3,T=Math.floor(g/3);this.setFunctionModule(_,T,x),this.setFunctionModule(T,_,x)}}drawFinderPattern(d,f){for(let g=-4;g<=4;g++)for(let x=-4;x<=4;x++){const _=Math.max(Math.abs(x),Math.abs(g)),T=d+x,N=f+g;0<=T&&T<this.size&&0<=N&&N<this.size&&this.setFunctionModule(T,N,_!=2&&_!=4)}}drawAlignmentPattern(d,f){for(let g=-2;g<=2;g++)for(let x=-2;x<=2;x++)this.setFunctionModule(d+x,f+g,Math.max(Math.abs(x),Math.abs(g))!=1)}setFunctionModule(d,f,g){this.modules[f][d]=g,this.isFunction[f][d]=!0}addEccAndInterleave(d){const f=this.version,g=this.errorCorrectionLevel;if(d.length!=ar.getNumDataCodewords(f,g))throw new RangeError("Invalid argument");const x=ar.NUM_ERROR_CORRECTION_BLOCKS[g.ordinal][f],_=ar.ECC_CODEWORDS_PER_BLOCK[g.ordinal][f],T=Math.floor(ar.getNumRawDataModules(f)/8),N=x-T%x,E=Math.floor(T/x);let A=[];const M=ar.reedSolomonComputeDivisor(_);for(let I=0,D=0;I<x;I++){let L=d.slice(D,D+E-_+(I<N?0:1));D+=L.length;const $=ar.reedSolomonComputeRemainder(L,M);I<N&&L.push(0),A.push(L.concat($))}let R=[];for(let I=0;I<A[0].length;I++)A.forEach((D,L)=>{(I!=E-_||L>=N)&&R.push(D[I])});return i(R.length==T),R}drawCodewords(d){if(d.length!=Math.floor(ar.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let f=0;for(let g=this.size-1;g>=1;g-=2){g==6&&(g=5);for(let x=0;x<this.size;x++)for(let _=0;_<2;_++){const T=g-_,E=(g+1&2)==0?this.size-1-x:x;!this.isFunction[E][T]&&f<d.length*8&&(this.modules[E][T]=n(d[f>>>3],7-(f&7)),f++)}}i(f==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let f=0;f<this.size;f++)for(let g=0;g<this.size;g++){let x;switch(d){case 0:x=(g+f)%2==0;break;case 1:x=f%2==0;break;case 2:x=g%3==0;break;case 3:x=(g+f)%3==0;break;case 4:x=(Math.floor(g/3)+Math.floor(f/2))%2==0;break;case 5:x=g*f%2+g*f%3==0;break;case 6:x=(g*f%2+g*f%3)%2==0;break;case 7:x=((g+f)%2+g*f%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[f][g]&&x&&(this.modules[f][g]=!this.modules[f][g])}}getPenaltyScore(){let d=0;for(let _=0;_<this.size;_++){let T=!1,N=0,E=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[_][A]==T?(N++,N==5?d+=ar.PENALTY_N1:N>5&&d++):(this.finderPenaltyAddHistory(N,E),T||(d+=this.finderPenaltyCountPatterns(E)*ar.PENALTY_N3),T=this.modules[_][A],N=1);d+=this.finderPenaltyTerminateAndCount(T,N,E)*ar.PENALTY_N3}for(let _=0;_<this.size;_++){let T=!1,N=0,E=[0,0,0,0,0,0,0];for(let A=0;A<this.size;A++)this.modules[A][_]==T?(N++,N==5?d+=ar.PENALTY_N1:N>5&&d++):(this.finderPenaltyAddHistory(N,E),T||(d+=this.finderPenaltyCountPatterns(E)*ar.PENALTY_N3),T=this.modules[A][_],N=1);d+=this.finderPenaltyTerminateAndCount(T,N,E)*ar.PENALTY_N3}for(let _=0;_<this.size-1;_++)for(let T=0;T<this.size-1;T++){const N=this.modules[_][T];N==this.modules[_][T+1]&&N==this.modules[_+1][T]&&N==this.modules[_+1][T+1]&&(d+=ar.PENALTY_N2)}let f=0;for(const _ of this.modules)f=_.reduce((T,N)=>T+(N?1:0),f);const g=this.size*this.size,x=Math.ceil(Math.abs(f*20-g*10)/g)-1;return i(0<=x&&x<=9),d+=x*ar.PENALTY_N4,i(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,f=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let g=[6];for(let x=this.size-7;g.length<d;x-=f)g.splice(1,0,x);return g}}static getNumRawDataModules(d){if(d<ar.MIN_VERSION||d>ar.MAX_VERSION)throw new RangeError("Version number out of range");let f=(16*d+128)*d+64;if(d>=2){const g=Math.floor(d/7)+2;f-=(25*g-10)*g-55,d>=7&&(f-=36)}return i(208<=f&&f<=29648),f}static getNumDataCodewords(d,f){return Math.floor(ar.getNumRawDataModules(d)/8)-ar.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d]*ar.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let f=[];for(let x=0;x<d-1;x++)f.push(0);f.push(1);let g=1;for(let x=0;x<d;x++){for(let _=0;_<f.length;_++)f[_]=ar.reedSolomonMultiply(f[_],g),_+1<f.length&&(f[_]^=f[_+1]);g=ar.reedSolomonMultiply(g,2)}return f}static reedSolomonComputeRemainder(d,f){let g=f.map(x=>0);for(const x of d){const _=x^g.shift();g.push(0),f.forEach((T,N)=>g[N]^=ar.reedSolomonMultiply(T,_))}return g}static reedSolomonMultiply(d,f){if(d>>>8||f>>>8)throw new RangeError("Byte out of range");let g=0;for(let x=7;x>=0;x--)g=g<<1^(g>>>7)*285,g^=(f>>>x&1)*d;return i(g>>>8==0),g}finderPenaltyCountPatterns(d){const f=d[1];i(f<=this.size*3);const g=f>0&&d[2]==f&&d[3]==f*3&&d[4]==f&&d[5]==f;return(g&&d[0]>=f*4&&d[6]>=f?1:0)+(g&&d[6]>=f*4&&d[0]>=f?1:0)}finderPenaltyTerminateAndCount(d,f,g){return d&&(this.finderPenaltyAddHistory(f,g),f=0),f+=this.size,this.finderPenaltyAddHistory(f,g),this.finderPenaltyCountPatterns(g)}finderPenaltyAddHistory(d,f){f[0]==0&&(d+=this.size),f.pop(),f.unshift(d)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(u,d,f){if(d<0||d>31||u>>>d)throw new RangeError("Value out of range");for(let g=d-1;g>=0;g--)f.push(u>>>g&1)}function n(u,d){return(u>>>d&1)!=0}function i(u){if(!u)throw new Error("Assertion error")}const s=class _n{constructor(d,f,g){if(this.mode=d,this.numChars=f,this.bitData=g,f<0)throw new RangeError("Invalid argument");this.bitData=g.slice()}static makeBytes(d){let f=[];for(const g of d)r(g,8,f);return new _n(_n.Mode.BYTE,d.length,f)}static makeNumeric(d){if(!_n.isNumeric(d))throw new RangeError("String contains non-numeric characters");let f=[];for(let g=0;g<d.length;){const x=Math.min(d.length-g,3);r(parseInt(d.substring(g,g+x),10),x*3+1,f),g+=x}return new _n(_n.Mode.NUMERIC,d.length,f)}static makeAlphanumeric(d){if(!_n.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let f=[],g;for(g=0;g+2<=d.length;g+=2){let x=_n.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g))*45;x+=_n.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g+1)),r(x,11,f)}return g<d.length&&r(_n.ALPHANUMERIC_CHARSET.indexOf(d.charAt(g)),6,f),new _n(_n.Mode.ALPHANUMERIC,d.length,f)}static makeSegments(d){return d==""?[]:_n.isNumeric(d)?[_n.makeNumeric(d)]:_n.isAlphanumeric(d)?[_n.makeAlphanumeric(d)]:[_n.makeBytes(_n.toUtf8ByteArray(d))]}static makeEci(d){let f=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,f);else if(d<16384)r(2,2,f),r(d,14,f);else if(d<1e6)r(6,3,f),r(d,21,f);else throw new RangeError("ECI assignment value out of range");return new _n(_n.Mode.ECI,0,f)}static isNumeric(d){return _n.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return _n.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,f){let g=0;for(const x of d){const _=x.mode.numCharCountBits(f);if(x.numChars>=1<<_)return 1/0;g+=4+_+x.bitData.length}return g}static toUtf8ByteArray(d){d=encodeURI(d);let f=[];for(let g=0;g<d.length;g++)d.charAt(g)!="%"?f.push(d.charCodeAt(g)):(f.push(parseInt(d.substring(g+1,g+3),16)),g+=2);return f}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=s;t.QrSegment=s})(vu||(vu={}));(t=>{(e=>{const r=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(vu||(vu={}));(t=>{(e=>{const r=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(vu||(vu={}));var Pd=vu;var F2e={L:Pd.QrCode.Ecc.LOW,M:Pd.QrCode.Ecc.MEDIUM,Q:Pd.QrCode.Ecc.QUARTILE,H:Pd.QrCode.Ecc.HIGH},QV=128,JV="L",eq="#FFFFFF",tq="#000000",rq=!1,nq=1,$2e=4,U2e=0,V2e=.1;function iq(t,e=0){const r=[];return t.forEach(function(n,i){let s=null;n.forEach(function(o,u){if(!o&&s!==null){r.push(`M${s+e} ${i+e}h${u-s}v1H${s+e}z`),s=null;return}if(u===n.length-1){if(!o)return;s===null?r.push(`M${u+e},${i+e} h1v1H${u+e}z`):r.push(`M${s+e},${i+e} h${u+1-s}v1H${s+e}z`);return}o&&s===null&&(s=u)})}),r.join("")}function sq(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function q2e(t,e,r,n){if(n==null)return null;const i=t.length+r*2,s=Math.floor(e*V2e),o=i/e,u=(n.width||s)*o,d=(n.height||s)*o,f=n.x==null?t.length/2-u/2:n.x*o,g=n.y==null?t.length/2-d/2:n.y*o,x=n.opacity==null?1:n.opacity;let _=null;if(n.excavate){let N=Math.floor(f),E=Math.floor(g),A=Math.ceil(u+f-N),M=Math.ceil(d+g-E);_={x:N,y:E,w:A,h:M}}const T=n.crossOrigin;return{x:f,y:g,h:d,w:u,excavation:_,opacity:x,crossOrigin:T}}function z2e(t,e){return e!=null?Math.max(Math.floor(e),0):t?$2e:U2e}function aq({value:t,level:e,minVersion:r,includeMargin:n,marginSize:i,imageSettings:s,size:o,boostLevel:u}){let d=oe.useMemo(()=>{const N=(Array.isArray(t)?t:[t]).reduce((E,A)=>(E.push(...Pd.QrSegment.makeSegments(A)),E),[]);return Pd.QrCode.encodeSegments(N,F2e[e],r,void 0,void 0,u)},[t,e,r,u]);const{cells:f,margin:g,numCells:x,calculatedImageSettings:_}=oe.useMemo(()=>{let T=d.getModules();const N=z2e(n,i),E=T.length+N*2,A=q2e(T,o,N,s);return{cells:T,margin:N,numCells:E,calculatedImageSettings:A}},[d,o,s,n,i]);return{qrcode:d,margin:g,cells:f,numCells:x,calculatedImageSettings:_}}var W2e=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),H2e=oe.forwardRef(function(e,r){const n=e,{value:i,size:s=QV,level:o=JV,bgColor:u=eq,fgColor:d=tq,includeMargin:f=rq,minVersion:g=nq,boostLevel:x,marginSize:_,imageSettings:T}=n,E=pC(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:A}=E,M=pC(E,["style"]),R=T?.src,I=oe.useRef(null),D=oe.useRef(null),L=oe.useCallback(Q=>{I.current=Q,typeof r=="function"?r(Q):r&&(r.current=Q)},[r]),[$,B]=oe.useState(!1),{margin:z,cells:H,numCells:ce,calculatedImageSettings:K}=aq({value:i,level:o,minVersion:g,boostLevel:x,includeMargin:f,marginSize:_,imageSettings:T,size:s});oe.useEffect(()=>{if(I.current!=null){const Q=I.current,Y=Q.getContext("2d");if(!Y)return;let J=H;const te=D.current,ie=K!=null&&te!==null&&te.complete&&te.naturalHeight!==0&&te.naturalWidth!==0;ie&&K.excavation!=null&&(J=sq(H,K.excavation));const se=window.devicePixelRatio||1;Q.height=Q.width=s*se;const me=s/ce*se;Y.scale(me,me),Y.fillStyle=u,Y.fillRect(0,0,ce,ce),Y.fillStyle=d,W2e?Y.fill(new Path2D(iq(J,z))):H.forEach(function(ne,ue){ne.forEach(function(be,Pe){be&&Y.fillRect(Pe+z,ue+z,1,1)})}),K&&(Y.globalAlpha=K.opacity),ie&&Y.drawImage(te,K.x+z,K.y+z,K.w,K.h)}}),oe.useEffect(()=>{B(!1)},[R]);const W=hC({height:s,width:s},A);let Z=null;return R!=null&&(Z=oe.createElement("img",{src:R,key:R,style:{display:"none"},onLoad:()=>{B(!0)},ref:D,crossOrigin:K?.crossOrigin})),oe.createElement(oe.Fragment,null,oe.createElement("canvas",hC({style:W,height:s,width:s,ref:L,role:"img"},M)),Z)});H2e.displayName="QRCodeCanvas";var oq=oe.forwardRef(function(e,r){const n=e,{value:i,size:s=QV,level:o=JV,bgColor:u=eq,fgColor:d=tq,includeMargin:f=rq,minVersion:g=nq,boostLevel:x,title:_,marginSize:T,imageSettings:N}=n,E=pC(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:A,cells:M,numCells:R,calculatedImageSettings:I}=aq({value:i,level:o,minVersion:g,boostLevel:x,includeMargin:f,marginSize:T,imageSettings:N,size:s});let D=M,L=null;N!=null&&I!=null&&(I.excavation!=null&&(D=sq(M,I.excavation)),L=oe.createElement("image",{href:N.src,height:I.h,width:I.w,x:I.x+A,y:I.y+A,preserveAspectRatio:"none",opacity:I.opacity,crossOrigin:I.crossOrigin}));const $=iq(D,A);return oe.createElement("svg",hC({height:s,width:s,viewBox:`0 0 ${R} ${R}`,ref:r,role:"img"},E),!!_&&oe.createElement("title",null,_),oe.createElement("path",{fill:u,d:`M0,0 h${R}v${R}H0z`,shapeRendering:"crispEdges"}),oe.createElement("path",{fill:d,d:$,shapeRendering:"crispEdges"}),L)});oq.displayName="QRCodeSVG";const Si=[];for(let t=0;t<256;++t)Si.push((t+256).toString(16).slice(1));function G2e(t,e=0){return(Si[t[e+0]]+Si[t[e+1]]+Si[t[e+2]]+Si[t[e+3]]+"-"+Si[t[e+4]]+Si[t[e+5]]+"-"+Si[t[e+6]]+Si[t[e+7]]+"-"+Si[t[e+8]]+Si[t[e+9]]+"-"+Si[t[e+10]]+Si[t[e+11]]+Si[t[e+12]]+Si[t[e+13]]+Si[t[e+14]]+Si[t[e+15]]).toLowerCase()}let eE;const K2e=new Uint8Array(16);function X2e(){if(!eE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");eE=crypto.getRandomValues.bind(crypto)}return eE(K2e)}const Y2e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),BD={randomUUID:Y2e};function Z2e(t,e,r){t=t||{};const n=t.random??t.rng?.()??X2e();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,G2e(n)}function Q2e(t,e,r){return BD.randomUUID&&!t?BD.randomUUID():Z2e(t)}function J2e(){Ui();const{data:t}=Wf(),{data:e}=r7(),{toast:r}=hi(),n=Ji(),[i,s]=j.useState(""),[o,u]=j.useState(""),[d,f]=j.useState(!1),[g,x]=j.useState(!1),[_,T]=j.useState(!1),[N,E]=j.useState("inactive"),[A,M]=j.useState(!1),[R,I]=j.useState(new Date),[D,L]=j.useState([]),[$,B]=j.useState(!1),[z,H]=j.useState(""),[ce,K]=j.useState(0),[W,Z]=j.useState(0),[Q,Y]=j.useState(!1);j.useEffect(()=>{const Oe=localStorage.getItem("attendanceSession");if(Oe)try{const Ke=JSON.parse(Oe),ot=Ke.date,Qe=vn(new Date,"yyyy-MM-dd");ot===Qe?(s(Ke.subjectId||""),E(Ke.sessionState||"inactive"),M(Ke.wasResumed||!1),H(Ke.qrToken||""),K(Ke.scanCount||0),Y(Ke.sessionEnded||!1),Ke.attendanceRecords&&Ke.attendanceRecords.length>0&&L(Ke.attendanceRecords)):localStorage.removeItem("attendanceSession")}catch(Ke){console.error("Failed to restore session:",Ke),localStorage.removeItem("attendanceSession")}B(!0)},[]),j.useEffect(()=>{if(!$)return;const Oe={date:vn(new Date,"yyyy-MM-dd"),subjectId:i,sessionState:N,wasResumed:A,qrToken:z,scanCount:ce,sessionEnded:Q,attendanceRecords:D};localStorage.setItem("attendanceSession",JSON.stringify(Oe))},[N,i,A,z,ce,D,$]);const{data:J}=H1(i?parseInt(i):0),te=vn(new Date,"yyyy-MM-dd"),{data:ie,refetch:se}=fT({subjectId:i?parseInt(i):void 0,date:te});j.useEffect(()=>{if(N==="active"&&i){const Oe=setInterval(()=>{se()},3e3);return()=>clearInterval(Oe)}},[N,i,se]),j.useEffect(()=>{!ie||!J||J.length===0||$&&L(Oe=>{const Ke=Oe.map(Qe=>{const dt=ie.find(Bt=>Bt.studentId===Qe.studentId);return dt&&dt.status&&(!Qe.status||Qe.status!==dt.status&&dt.status!=="absent")?{...Qe,status:dt.status,timeIn:dt.timeIn?new Date(dt.timeIn).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}):Qe.timeIn}:Qe});return Ke.some((Qe,dt)=>Qe.status!==Oe[dt]?.status||Qe.timeIn!==Oe[dt]?.timeIn)?Ke:Oe})},[ie,J,$]),j.useEffect(()=>{if(!$||!J||J.length===0)return;if(D.length>0&&D[0]?.studentId){const Ke=new Set(D.map(Qe=>Qe.studentId));if(new Set(J.map(Qe=>Qe.id)),J.every(Qe=>Ke.has(Qe.id)))return}const Oe=J.map(Ke=>{const ot=ie?.find(Qe=>Qe.studentId===Ke.id);return ot?{studentId:Ke.id,studentName:Ke.fullName,timeIn:ot.timeIn?new Date(ot.timeIn).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}):null,status:ot.status}:{studentId:Ke.id,studentName:Ke.fullName,timeIn:null,status:null}});L(Oe)},[J,ie,$]),j.useEffect(()=>{const Oe=setInterval(()=>I(new Date),1e3);return()=>clearInterval(Oe)},[]);const me=j.useMemo(()=>{if(!e||!t)return null;const Oe=new Date,Ke=Oe.toLocaleDateString("en-US",{weekday:"long"}),ot=vn(Oe,"HH:mm"),Qe=e.filter(Fe=>Fe.dayOfWeek===Ke).sort((Fe,le)=>Fe.startTime.localeCompare(le.startTime)),dt=Qe.find(Fe=>ot>=Fe.startTime&&ot<=Fe.endTime);if(dt)return t.find(Fe=>Fe.id===dt.subjectId);const Bt=Qe.find(Fe=>ot<Fe.startTime);return Bt?t.find(Fe=>Fe.id===Bt.subjectId):null},[e,t]),ne=D.filter(Oe=>Oe.studentName.toLowerCase().includes(o.toLowerCase())),ue=j.useMemo(()=>{const Oe=D.length,Ke=D.filter(Bt=>Bt.status==="present").length,ot=D.filter(Bt=>Bt.status==="late").length,Qe=D.filter(Bt=>Bt.status==="absent").length,dt=D.filter(Bt=>Bt.status==="excused").length;return{total:Oe,present:Ke,late:ot,absent:Qe,excused:dt}},[D]),be=j.useCallback(async(Oe=!1)=>{const Ke=Q2e(),ot=Oe?`${Ke}_LATE`:Ke;if(i)try{await Et.from("qr_codes").update({active:!1}).eq("subject_id",parseInt(i)),await Et.from("qr_codes").insert({subject_id:parseInt(i),code:ot,active:!0})}catch(Qe){console.error("Failed to persist QR code:",Qe)}return H(ot),ot},[i]);j.useEffect(()=>{if(N==="active"&&ie){const Oe=ie.length;Oe>W&&(be(A||Q),K(Ke=>Ke+1),r({title:"Student Checked In",description:"QR code regenerated automatically."})),Z(Oe)}},[ie,N,W,A,Q,be,r]);const Pe=j.useMemo(()=>{if(!z||!i)return"";const Oe=window.location.origin,Ke=new URLSearchParams({token:z,subjectId:i,ts:Date.now().toString(),scan:"attendance"});return`${Oe}/login?${Ke.toString()}`},[z,i]);j.useCallback((Oe,Ke)=>Ke!==z?(console.log("Invalid or expired QR code!"),!1):N!=="active"?(console.log("Session is not active!"),!1):(Te(Oe,A?"absent":"present"),be(),K(Qe=>Qe+1),!0),[z,N,A,be]);const nt=async()=>{E("active"),M(!1),K(0),Z(ie?.length||0);const Oe=Q;await be(Oe),Oe?(M(!0),r({title:"Session Resumed",description:"Students scanning now will be marked as late."})):r({title:"Session Started",description:"Students can now scan the QR code to check in."})},Ie=async()=>{E("paused"),i&&await Et.from("qr_codes").update({active:!1}).eq("subject_id",parseInt(i)),H(""),r({title:"Session Paused",description:"QR code scanning is temporarily disabled."})},je=async()=>{E("active"),M(!0),await be(!0),r({title:"Session Resumed",description:"Students scanning now will be marked as late.",variant:"default"})},Be=async()=>{T(!0),i&&await Et.from("qr_codes").update({active:!1}).eq("subject_id",parseInt(i)),H(""),await se();const{data:Oe}=await Et.from("attendance").select("student_id, status").eq("subject_id",parseInt(i)).eq("date",te),Ke=new Set((Oe||[]).map(Bt=>Bt.student_id)),ot=D.filter(Bt=>!Ke.has(Bt.studentId)).map(Bt=>({student_id:Bt.studentId,subject_id:parseInt(i),date:te,status:"absent",time_in:null,remarks:"Did not scan QR"}));let Qe=0;if(ot.length>0){const{error:Bt}=await Et.from("attendance").insert(ot);Bt?console.error("Failed to mark absent:",Bt):Qe=ot.length}const dt=D.map(Bt=>{const Fe=(Oe||[]).find(le=>le.student_id===Bt.studentId);return{...Bt,status:Fe?.status||"absent"}});L(dt),E("inactive"),M(!1),Y(!1),se(),n.invalidateQueries({queryKey:["teacher-attendance"]}),localStorage.removeItem("attendanceSession"),T(!1),r({title:"Session Ended",description:`${Qe} students marked as absent.`})},Te=async(Oe,Ke)=>{!d&&Ke==="excused"||L(ot=>ot.map(Qe=>Qe.studentId===Oe?{...Qe,status:Ke,timeIn:Ke==="present"||Ke==="late"||Ke==="absent"?Qe.timeIn||new Date().toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0,timeZone:"Asia/Manila"}):Qe.timeIn}:Qe))},Ue=async()=>{N==="active"&&(await be(A),K(Oe=>Oe+1),r({title:"QR Code Regenerated",description:"Previous QR code is now invalid."}))},Ve=async()=>{if(d){if(x(!0),i){let Oe=0,Ke=0;const{data:ot}=await Et.from("attendance").select("id, student_id, status").eq("subject_id",parseInt(i)).eq("date",te),Qe=new Map((ot||[]).map(le=>[le.student_id,{id:le.id,status:le.status}])),dt=[],Bt=[],Fe=J0();for(const le of D)if(le.status){const xe=Qe.get(le.studentId),Ae=le.status==="present"||le.status==="late";xe?xe.status!==le.status&&dt.push({id:xe.id,status:le.status,time_in:Ae?Fe:null,remarks:"Manually edited"}):Bt.push({student_id:le.studentId,subject_id:parseInt(i),date:te,status:le.status,time_in:Ae?Fe:null})}if(Bt.length>0){const{error:le}=await Et.from("attendance").insert(Bt);le?(console.error("Failed to insert attendance records:",le),Ke+=Bt.length):Oe+=Bt.length}if(dt.length>0){const le=dt.map(Ae=>Et.from("attendance").update({status:Ae.status,time_in:Ae.time_in,remarks:Ae.remarks}).eq("id",Ae.id));(await Promise.all(le)).forEach(({error:Ae})=>{Ae?(console.error("Failed to update attendance:",Ae),Ke++):Oe++})}await se(),n.invalidateQueries({queryKey:["teacher-attendance"]}),Ke>0?r({title:"Partial Save",description:`${Oe} records saved, ${Ke} failed.`,variant:"destructive"}):Oe>0?r({title:"Changes Saved",description:`${Oe} attendance records have been updated.`}):r({title:"No Changes",description:"All records are already up to date."})}x(!1),f(!1)}else f(!0)},Ce=async()=>{if(!i){r({title:"No Subject Selected",description:"Please select a subject first.",variant:"destructive"});return}try{const{error:Oe}=await Et.from("attendance").delete().eq("subject_id",parseInt(i)).eq("date",te);if(Oe){console.error("Failed to delete attendance records:",Oe),r({title:"Error",description:"Failed to reset attendance records.",variant:"destructive"});return}}catch(Oe){console.error("Error deleting attendance:",Oe)}if(await Et.from("qr_codes").update({active:!1}).eq("subject_id",parseInt(i)),localStorage.removeItem("attendanceSession"),L([]),E("inactive"),H(""),K(0),M(!1),Y(!1),await se(),n.invalidateQueries({queryKey:["teacher-attendance"]}),J){const Oe=J.map(Ke=>({studentId:Ke.id,studentName:Ke.fullName||"Unknown",status:void 0,timeIn:null}));L(Oe)}r({title:"Session Reset",description:"Today's attendance records have been cleared. Ready to start a new session."})},tt=t?.find(Oe=>Oe.id.toString()===i),St=()=>m.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[N==="active"&&Pe?m.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-inner relative",children:[m.jsx(oq,{value:Pe,size:192,level:"M",includeMargin:!0}),m.jsxs("div",{className:"absolute -top-2 -right-2 bg-primary text-white text-xs font-bold px-2 py-1 rounded-full",children:["#",ce+1]})]}):N==="paused"?m.jsxs("div",{className:"w-48 h-48 bg-yellow-50 rounded-lg flex flex-col items-center justify-center border-2 border-dashed border-yellow-400",children:[m.jsx(fP,{className:"w-16 h-16 text-yellow-500"}),m.jsx("span",{className:"text-yellow-600 font-medium mt-2",children:"Paused"})]}):m.jsx("div",{className:"w-48 h-48 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:m.jsx(IC,{className:"w-16 h-16 text-gray-400"})}),N==="active"&&m.jsxs(yt,{variant:"ghost",size:"sm",className:"mt-2 text-xs text-muted-foreground hover:text-primary",onClick:Ue,children:[m.jsx(hP,{className:"w-3 h-3 mr-1"}),"Regenerate QR"]}),N==="active"&&z&&m.jsxs("p",{className:"text-xs text-muted-foreground mt-1 font-mono",children:["Token: ",z.slice(0,8),"..."]})]});return m.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold font-display text-gray-900",children:"Take Attendance"}),m.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mt-1",children:"Record and manage class attendance"})]}),m.jsxs("div",{className:"grid lg:grid-cols-[350px_1fr] gap-4 lg:gap-6",children:[m.jsx($t,{className:"shadow-sm w-full",children:m.jsxs(Wt,{className:"p-4 sm:p-6",children:[m.jsxs(di,{value:i,onValueChange:s,disabled:N!=="inactive",children:[m.jsx(ei,{className:`w-full mb-4 sm:mb-6 ${N!=="inactive"?"opacity-50 cursor-not-allowed":""}`,children:m.jsx(fi,{placeholder:"Select a subject"})}),m.jsx(ti,{children:t?.map(Oe=>m.jsxs(or,{value:Oe.id.toString(),children:[Oe.code," - ",Oe.name,me?.id===Oe.id&&m.jsx("span",{className:"ml-2 text-xs text-primary",children:"(Current)"})]},Oe.id))})]}),m.jsx(St,{}),m.jsxs("div",{className:"text-center mt-3 sm:mt-4 mb-4 sm:mb-6",children:[m.jsx("p",{className:"text-base sm:text-lg font-medium text-gray-900",children:vn(R,"MMMM d, yyyy")}),m.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:vn(R,"h:mm a")})]}),m.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[N==="inactive"?Q?m.jsxs(yt,{className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white",size:"lg",onClick:nt,disabled:!i,children:[m.jsx(Ew,{className:"w-4 h-4 mr-2"}),"Resume"]}):m.jsxs(yt,{className:"w-full bg-primary hover:bg-primary/90 text-white",size:"lg",onClick:nt,disabled:!i,children:[m.jsx(Ew,{className:"w-4 h-4 mr-2"}),"Start"]}):N==="active"?m.jsxs(yt,{className:"w-full bg-yellow-500 hover:bg-yellow-600 text-white",size:"lg",onClick:Ie,children:[m.jsx(fP,{className:"w-4 h-4 mr-2"}),"Pause"]}):m.jsxs(yt,{className:"w-full bg-primary hover:bg-primary/90 text-white",size:"lg",onClick:je,children:[m.jsx(Ew,{className:"w-4 h-4 mr-2"}),"Resume"]}),m.jsxs(Dm,{children:[m.jsx(w1,{asChild:!0,children:m.jsx(yt,{className:"w-full bg-red-600 hover:bg-red-700 text-white",size:"lg",disabled:N==="inactive"||_,children:_?m.jsxs(m.Fragment,{children:[m.jsx(Zi,{className:"w-4 h-4 mr-2 animate-spin"}),"Ending..."]}):m.jsxs(m.Fragment,{children:[m.jsx(RH,{className:"w-4 h-4 mr-2"}),"End"]})})}),m.jsxs(Tf,{children:[m.jsxs(Nf,{children:[m.jsx(If,{children:"End Attendance Session?"}),m.jsx(Pf,{children:"This will end the current session and mark all students who haven't scanned as absent. This action cannot be undone."})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(jf,{onClick:Be,className:"bg-red-600 hover:bg-red-700",children:"End Session"})]})]})]}),m.jsxs(Dm,{children:[m.jsx(w1,{asChild:!0,children:m.jsxs(yt,{variant:"outline",className:"w-full",size:"lg",children:[m.jsx(hP,{className:"w-4 h-4 mr-2"}),"New Session"]})}),m.jsxs(Tf,{children:[m.jsxs(Nf,{children:[m.jsx(If,{children:"Start New Session?"}),m.jsx(Pf,{children:"This will delete all attendance records for today's session and reset everything. This action cannot be undone."})]}),m.jsxs(Of,{children:[m.jsx(Rf,{children:"Cancel"}),m.jsx(jf,{onClick:Ce,className:"bg-destructive hover:bg-destructive/90",children:"Reset Session"})]})]})]})]}),N!=="inactive"&&m.jsx("p",{className:"text-center text-sm text-muted-foreground mt-4",children:N==="paused"?m.jsxs(m.Fragment,{children:["Session paused for ",m.jsx("strong",{children:tt?.name})]}):A||Q?m.jsxs(m.Fragment,{children:["Session resumed for ",m.jsx("strong",{children:tt?.name})," ",m.jsx("span",{className:"text-yellow-600",children:"(Scans  Late)"})]}):m.jsxs(m.Fragment,{children:["Session active for ",m.jsx("strong",{children:tt?.name})]})})]})}),m.jsx($t,{className:"shadow-sm w-full overflow-hidden",children:m.jsxs(Wt,{className:"p-3 sm:p-6",children:[m.jsxs("div",{className:"flex gap-2 sm:gap-4 mb-3 sm:mb-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(Kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{placeholder:"Search students...",className:"pl-9",value:o,onChange:Oe=>u(Oe.target.value)})]}),m.jsx(yt,{variant:d?"default":"outline",onClick:Ve,disabled:g,children:g?m.jsxs(m.Fragment,{children:[m.jsx(Zi,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):d?"Save":"Edit"})]}),m.jsx("div",{className:"rounded-md border max-h-[400px] sm:max-h-[500px] overflow-auto",children:m.jsxs(lo,{children:[m.jsx(co,{className:"sticky top-0 bg-white z-10",children:m.jsxs(ln,{children:[m.jsx(Ht,{className:"text-xs sm:text-sm whitespace-nowrap",children:"Name"}),m.jsx(Ht,{className:"text-center w-[60px] sm:w-[100px] text-xs sm:text-sm whitespace-nowrap",children:"Time-in"}),m.jsx(Ht,{className:"text-center w-[50px] sm:w-[80px] text-xs sm:text-sm px-1 sm:px-4",children:"Present"}),m.jsx(Ht,{className:"text-center w-[50px] sm:w-[80px] text-xs sm:text-sm px-1 sm:px-4",children:"Late"}),m.jsx(Ht,{className:"text-center w-[50px] sm:w-[80px] text-xs sm:text-sm px-1 sm:px-4",children:"Absent"}),m.jsx(Ht,{className:"text-center w-[50px] sm:w-[80px] text-xs sm:text-sm px-1 sm:px-4",children:"Excused"})]})}),m.jsx(uo,{children:ne.length>0?ne.map(Oe=>m.jsxs(ln,{children:[m.jsx(Dt,{className:"p-2 sm:p-4",children:m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[m.jsx(zv,{className:"h-6 w-6 sm:h-8 sm:w-8 flex-shrink-0",children:m.jsx(Wv,{className:"bg-gray-200 text-gray-600 text-[10px] sm:text-xs",children:Oe.studentName.split(" ").map(Ke=>Ke[0]).join("").slice(0,2)})}),m.jsx("span",{className:"font-medium text-xs sm:text-sm whitespace-nowrap",children:Oe.studentName})]})}),m.jsx(Dt,{className:"text-center text-muted-foreground text-xs sm:text-sm p-2 sm:p-4",children:Oe.timeIn||"-"}),m.jsx(Dt,{className:"p-1 sm:p-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:()=>Te(Oe.studentId,"present"),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center transition-colors ${Oe.status==="present"?"bg-green-500 border-green-500":"border-gray-300 hover:border-green-400"} ${d?"":"opacity-50 cursor-not-allowed"}`,disabled:!d,children:Oe.status==="present"&&m.jsx(Os,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})})})}),m.jsx(Dt,{className:"p-1 sm:p-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:()=>Te(Oe.studentId,"late"),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center transition-colors ${Oe.status==="late"?"bg-yellow-500 border-yellow-500":"border-gray-300 hover:border-yellow-400"} ${d?"":"opacity-50 cursor-not-allowed"}`,disabled:!d,children:Oe.status==="late"&&m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-white"})})})}),m.jsx(Dt,{className:"p-1 sm:p-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:()=>Te(Oe.studentId,"absent"),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center transition-colors ${Oe.status==="absent"?"bg-red-500 border-red-500":"border-gray-300 hover:border-red-400"} ${d?"":"opacity-50 cursor-not-allowed"}`,disabled:!d,children:Oe.status==="absent"&&m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-white"})})})}),m.jsx(Dt,{className:"p-1 sm:p-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx("button",{onClick:()=>Te(Oe.studentId,"excused"),className:`w-5 h-5 sm:w-6 sm:h-6 rounded-full border-2 flex items-center justify-center transition-colors ${Oe.status==="excused"?"bg-blue-500 border-blue-500":"border-gray-300 hover:border-blue-400"} ${d?"":"opacity-50 cursor-not-allowed"}`,disabled:!d,children:Oe.status==="excused"&&m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-white"})})})})]},Oe.studentId)):m.jsx(ln,{children:m.jsx(Dt,{colSpan:6,className:"text-center py-6 sm:py-8 text-muted-foreground text-sm",children:i?"No students enrolled in this subject":"Select a subject to view students"})})})]})}),m.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-between items-center gap-2 sm:gap-4 mt-3 sm:mt-4 pt-3 sm:pt-4 border-t bg-gray-50 -mx-3 sm:-mx-6 -mb-3 sm:-mb-6 px-3 sm:px-6 py-3 sm:py-4 rounded-b-lg",children:[m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx(Qo,{className:"w-3 h-3 sm:w-4 sm:h-4 text-gray-600"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Students"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.total})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-green-500"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Present"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.present})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-yellow-500"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Late"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.late})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-red-500"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Absent"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.absent})]}),m.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[m.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full bg-blue-500"}),m.jsx("span",{className:"font-medium text-xs sm:text-sm",children:"Excused"}),m.jsx("span",{className:"text-gray-600 text-xs sm:text-sm",children:ue.excused})]})]})]})})]})]})}const lq=j.forwardRef(({className:t,...e},r)=>m.jsx("textarea",{className:Ze("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));lq.displayName="Textarea";const FD=t=>{if(!t)return"-";try{let e;if(typeof t=="string"){const r=t.replace("Z","");e=new Date(r)}else e=t;return e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"-"}};function e_e(){Ui();const{data:t}=Wf(),{toast:e}=hi(),r=Ji(),[n,i]=j.useState("all"),[s,o]=j.useState(vn(new Date,"yyyy-MM")),[u,d]=j.useState("all"),[f,g]=j.useState(""),[x,_]=j.useState(null),[T,N]=j.useState(""),[E,A]=j.useState(""),M=Bs({mutationFn:async({id:W,status:Z,remarks:Q,originalStatus:Y})=>{const J=Z==="present"||Z==="late",te=Z!==Y,ie={status:Z,remarks:te?"Manually edited":Q,time_in:te?J?J0():null:void 0};te||delete ie.time_in;const{data:se,error:me}=await Et.from("attendance").update(ie).eq("id",W).select().single();if(me)throw new Error(me.message);return se},onSuccess:()=>{r.invalidateQueries({queryKey:["teacher-attendance"]}),r.invalidateQueries({queryKey:["attendance"]}),e({title:"Success",description:"Attendance record updated"}),_(null)},onError:W=>{console.error("Update error:",W),e({title:"Error",description:"Failed to update attendance",variant:"destructive"})}}),R=W=>{_(W),N(W.status),A(W.remarks||"")},I=()=>{x&&M.mutate({id:x.id,status:T,remarks:E,originalStatus:x.status})},{data:D,isLoading:L,refetch:$}=Ba({queryKey:["teacher-attendance"],refetchInterval:5e3,refetchIntervalInBackground:!1,queryFn:async()=>{const{data:W,error:Z}=await Et.from("attendance").select("*");if(console.log("Raw attendance data count:",W?.length,"Error:",Z),Z)throw new Error("Failed to fetch attendance records");if(!W||W.length===0)return[];const Q=Array.from(new Set(W.map(be=>be.student_id))),Y=Array.from(new Set(W.map(be=>be.subject_id))),{data:J,error:te}=await Et.from("users").select("id, full_name").in("id",Q);console.log("Students data:",J,"Error:",te);const{data:ie,error:se}=await Et.from("subjects").select("id, name").in("id",Y);console.log("Subjects data:",ie,"Error:",se);const me=new Map(J?.map(be=>[be.id,be.full_name])||[]),ne=new Map(ie?.map(be=>[be.id,be.name])||[]),ue=W.map(be=>({id:be.id,studentId:be.student_id,subjectId:be.subject_id,date:be.date,status:be.status,timeIn:be.time_in,remarks:be.remarks,studentName:me.get(be.student_id)||"Unknown",subjectName:ne.get(be.subject_id)||"Unknown"}));return console.log("Final mapped data:",ue),ue},enabled:!0}),B=j.useMemo(()=>{if(!D)return[];let W=[...D];if(n!=="all"&&(W=W.filter(Z=>Z.subjectId.toString()===n)),s){const Z=T9(Ia(s+"-01")),Q=C9(Ia(s+"-01"));W=W.filter(Y=>{const J=Ia(Y.date);return I9(J,{start:Z,end:Q})})}return u!=="all"&&(W=W.filter(Z=>Z.status?.toLowerCase()===u.toLowerCase())),f&&(W=W.filter(Z=>Z.studentName.toLowerCase().includes(f.toLowerCase()))),W.sort((Z,Q)=>new Date(Q.date).getTime()-new Date(Z.date).getTime()),W},[D,n,s,u,f]),z=j.useMemo(()=>{const W={};return B.forEach(Z=>{W[Z.date]||(W[Z.date]=[]),W[Z.date].push(Z)}),W},[B]),H=j.useMemo(()=>{const W=B.length,Z=B.filter(te=>te.status?.toLowerCase()==="present").length,Q=B.filter(te=>te.status?.toLowerCase()==="late").length,Y=B.filter(te=>te.status?.toLowerCase()==="absent").length,J=B.filter(te=>te.status?.toLowerCase()==="excused").length;return{total:W,present:Z,late:Q,absent:Y,excused:J}},[B]),ce=j.useMemo(()=>{const W=[],Z=new Date;for(let Q=0;Q<12;Q++){const Y=new Date(Z.getFullYear(),Z.getMonth()-Q,1);W.push({value:vn(Y,"yyyy-MM"),label:vn(Y,"MMMM yyyy")})}return W},[]),K=W=>{switch(W?.toLowerCase()){case"present":return m.jsxs(Fn,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[m.jsx(Os,{className:"w-3 h-3 mr-1"}),"Present"]});case"late":return m.jsxs(Fn,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[m.jsx(Hl,{className:"w-3 h-3 mr-1"}),"Late"]});case"absent":return m.jsxs(Fn,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:[m.jsx(Op,{className:"w-3 h-3 mr-1"}),"Absent"]});case"excused":return m.jsxs(Fn,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:[m.jsx(no,{className:"w-3 h-3 mr-1"}),"Excused"]});default:return m.jsx(Fn,{variant:"secondary",children:W})}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:"Attendance History"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"View past attendance records for your classes"})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:m.jsx(Qo,{className:"w-5 h-5 text-gray-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold",children:H.total}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Records"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:m.jsx(Os,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-green-600",children:H.present}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Present"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:m.jsx(Hl,{className:"w-5 h-5 text-yellow-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:H.late}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Late"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:m.jsx(Op,{className:"w-5 h-5 text-red-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-red-600",children:H.absent}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Absent"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:m.jsx(no,{className:"w-5 h-5 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-blue-600",children:H.excused}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Excused"})]})]})})})]}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-3 sm:gap-4 sm:items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(gH,{className:"w-4 h-4 text-muted-foreground"}),m.jsx("span",{className:"font-medium",children:"Filters:"})]}),m.jsxs(di,{value:n,onValueChange:i,children:[m.jsx(ei,{className:"w-full sm:w-[200px]",children:m.jsx(fi,{placeholder:"All Subjects"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Subjects"}),t?.map(W=>m.jsxs(or,{value:W.id.toString(),children:[W.code," - ",W.name]},W.id))]})]}),m.jsxs(di,{value:s,onValueChange:o,children:[m.jsx(ei,{className:"w-full sm:w-[180px]",children:m.jsx(fi,{placeholder:"Select Month"})}),m.jsx(ti,{children:ce.map(W=>m.jsx(or,{value:W.value,children:W.label},W.value))})]}),m.jsxs(di,{value:u,onValueChange:d,children:[m.jsx(ei,{className:"w-full sm:w-[150px]",children:m.jsx(fi,{placeholder:"All Status"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Status"}),m.jsx(or,{value:"present",children:"Present"}),m.jsx(or,{value:"late",children:"Late"}),m.jsx(or,{value:"absent",children:"Absent"}),m.jsx(or,{value:"excused",children:"Excused"})]})]}),m.jsxs("div",{className:"relative w-full sm:flex-1 sm:min-w-[200px]",children:[m.jsx(Kd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),m.jsx(Mr,{placeholder:"Search by student name...",className:"pl-9",value:f,onChange:W=>g(W.target.value)})]})]})})}),m.jsxs($t,{children:[m.jsx(Rr,{children:m.jsxs(kr,{className:"flex items-center gap-2",children:[m.jsx(Hd,{className:"w-5 h-5"}),"Attendance Records"]})}),m.jsx(Wt,{children:L?m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[m.jsx(Zi,{className:"w-8 h-8 animate-spin text-primary mb-4"}),m.jsx("p",{children:"Loading attendance records..."})]}):Object.keys(z).length>0?m.jsx("div",{className:"space-y-6",children:Object.entries(z).map(([W,Z])=>m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx(Hd,{className:"w-4 h-4 text-primary"}),m.jsx("h3",{className:"font-semibold text-gray-900",children:vn(Ia(W),"EEEE, MMMM d, yyyy")}),m.jsxs(Fn,{variant:"secondary",className:"ml-2",children:[Z.length," record",Z.length!==1?"s":""]})]}),m.jsx("div",{className:"rounded-md border",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(ln,{children:[m.jsx(Ht,{children:"Student"}),m.jsx(Ht,{children:"Subject"}),m.jsx(Ht,{className:"whitespace-nowrap",children:"Time In"}),m.jsx(Ht,{children:"Status"}),m.jsx(Ht,{children:"Remarks"}),m.jsx(Ht,{className:"w-[80px]",children:"Actions"})]})}),m.jsx(uo,{children:Z.map(Q=>m.jsxs(ln,{children:[m.jsx(Dt,{className:"font-medium",children:Q.studentName}),m.jsx(Dt,{className:"text-muted-foreground",children:Q.subjectName}),m.jsx(Dt,{className:"whitespace-nowrap",children:FD(Q.timeIn)}),m.jsx(Dt,{children:K(Q.status)}),m.jsx(Dt,{className:"text-muted-foreground",children:Q.remarks||"-"}),m.jsx(Dt,{children:m.jsx(yt,{variant:"ghost",size:"sm",onClick:()=>R(Q),children:m.jsx(CH,{className:"w-4 h-4"})})})]},Q.id))})]})})]},W))}):m.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No attendance records found for the selected filters."})})]}),m.jsx(Nu,{open:!!x,onOpenChange:W=>!W&&_(null),children:m.jsxs(ic,{children:[m.jsx(sc,{children:m.jsx(ac,{children:"Edit Attendance Record"})}),x&&m.jsxs("div",{className:"space-y-4 py-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground",children:"Student:"}),m.jsx("p",{className:"font-medium",children:x.studentName})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground",children:"Subject:"}),m.jsx("p",{className:"font-medium",children:x.subjectName})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground",children:"Date:"}),m.jsx("p",{className:"font-medium",children:vn(Ia(x.date),"MMMM d, yyyy")})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-muted-foreground",children:"Time In:"}),m.jsx("p",{className:"font-medium",children:FD(x.timeIn)})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Gi,{htmlFor:"status",children:"Status"}),m.jsxs(di,{value:T,onValueChange:N,children:[m.jsx(ei,{children:m.jsx(fi,{})}),m.jsxs(ti,{children:[m.jsx(or,{value:"present",children:"Present"}),m.jsx(or,{value:"late",children:"Late"}),m.jsx(or,{value:"absent",children:"Absent"}),m.jsx(or,{value:"excused",children:"Excused"})]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Gi,{htmlFor:"remarks",children:"Remarks"}),m.jsx(lq,{id:"remarks",value:E,onChange:W=>A(W.target.value),placeholder:"Add any notes or remarks...",rows:3})]})]}),m.jsxs(Ou,{children:[m.jsx(yt,{variant:"outline",onClick:()=>_(null),children:"Cancel"}),m.jsxs(yt,{onClick:I,disabled:M.isPending,children:[M.isPending&&m.jsx(Zi,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})})]})}var ft;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ft||(ft={}));var $D=new Map([[ft.QR_CODE,"QR_CODE"],[ft.AZTEC,"AZTEC"],[ft.CODABAR,"CODABAR"],[ft.CODE_39,"CODE_39"],[ft.CODE_93,"CODE_93"],[ft.CODE_128,"CODE_128"],[ft.DATA_MATRIX,"DATA_MATRIX"],[ft.MAXICODE,"MAXICODE"],[ft.ITF,"ITF"],[ft.EAN_13,"EAN_13"],[ft.EAN_8,"EAN_8"],[ft.PDF_417,"PDF_417"],[ft.RSS_14,"RSS_14"],[ft.RSS_EXPANDED,"RSS_EXPANDED"],[ft.UPC_A,"UPC_A"],[ft.UPC_E,"UPC_E"],[ft.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),UD;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(UD||(UD={}));function t_e(t){return Object.values(ft).includes(t)}var A1;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(A1||(A1={}));var r_e=(function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[A1.SCAN_TYPE_CAMERA,A1.SCAN_TYPE_FILE],t})(),cq=(function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!$D.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,$D.get(e))},t})(),VD=(function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t})(),mC;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(mC||(mC={}));var n_e=(function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:mC.UNKWOWN_ERROR}},t})(),i_e=(function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t})();function Ro(t){return typeof t>"u"||t===null}var jd=(function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t})(),uq=(function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(e),u=0,d=o;u<d.length;u++){var f=d[u];if(s.has(f))return r.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},t})(),gp={exports:{}},s_e=gp.exports,qD;function a_e(){return qD||(qD=1,(function(t,e){(function(r,n){n(e)})(s_e,(function(r){function n(V){return V==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,a){V.__proto__=a}||function(V,a){for(var c in a)a.hasOwnProperty(c)&&(V[c]=a[c])};function s(V,a){i(V,a);function c(){this.constructor=V}V.prototype=a===null?Object.create(a):(c.prototype=a.prototype,new c)}function o(V,a){var c=Object.setPrototypeOf;c?c(V,a):V.__proto__=a}function u(V,a){a===void 0&&(a=V.constructor);var c=Error.captureStackTrace;c&&c(V,a)}var d=(function(V){s(a,V);function a(c){var h=this.constructor,y=V.call(this,c)||this;return Object.defineProperty(y,"name",{value:h.name,enumerable:!1}),o(y,h.prototype),u(y),y}return a})(Error);class f extends d{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}f.kind="Exception";class g extends f{}g.kind="ArgumentException";class x extends f{}x.kind="IllegalArgumentException";class _{constructor(a){if(this.binarizer=a,a===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,c){return this.binarizer.getBlackRow(a,c)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,c,h,y){const v=this.binarizer.getLuminanceSource().crop(a,c,h,y);return new _(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class T extends f{static getChecksumInstance(){return new T}}T.kind="ChecksumException";class N{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class E{static arraycopy(a,c,h,y,v){for(;v--;)h[y++]=a[c++]}static currentTimeMillis(){return Date.now()}}class A extends f{}A.kind="IndexOutOfBoundsException";class M extends A{constructor(a=void 0,c=void 0){super(c),this.index=a,this.message=c}}M.kind="ArrayIndexOutOfBoundsException";class R{static fill(a,c){for(let h=0,y=a.length;h<y;h++)a[h]=c}static fillWithin(a,c,h,y){R.rangeCheck(a.length,c,h);for(let v=c;v<h;v++)a[v]=y}static rangeCheck(a,c,h){if(c>h)throw new x("fromIndex("+c+") > toIndex("+h+")");if(c<0)throw new M(c);if(h>a)throw new M(h)}static asList(...a){return a}static create(a,c,h){return Array.from({length:a}).map(v=>Array.from({length:c}).fill(h))}static createInt32Array(a,c,h){return Array.from({length:a}).map(v=>Int32Array.from({length:c}).fill(h))}static equals(a,c){if(!a||!c||!a.length||!c.length||a.length!==c.length)return!1;for(let h=0,y=a.length;h<y;h++)if(a[h]!==c[h])return!1;return!0}static hashCode(a){if(a===null)return 0;let c=1;for(const h of a)c=31*c+h;return c}static fillUint8Array(a,c){for(let h=0;h!==a.length;h++)a[h]=c}static copyOf(a,c){return a.slice(0,c)}static copyOfUint8Array(a,c){if(a.length<=c){const h=new Uint8Array(c);return h.set(a),h}return a.slice(0,c)}static copyOfRange(a,c,h){const y=h-c,v=new Int32Array(y);return E.arraycopy(a,c,v,0,y),v}static binarySearch(a,c,h){h===void 0&&(h=R.numberComparator);let y=0,v=a.length-1;for(;y<=v;){const w=v+y>>1,S=h(c,a[w]);if(S>0)y=w+1;else if(S<0)v=w-1;else return w}return-y-1}static numberComparator(a,c){return a-c}}class I{static numberOfTrailingZeros(a){let c;if(a===0)return 32;let h=31;return c=a<<16,c!==0&&(h-=16,a=c),c=a<<8,c!==0&&(h-=8,a=c),c=a<<4,c!==0&&(h-=4,a=c),c=a<<2,c!==0&&(h-=2,a=c),h-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let c=1;return a>>>16||(c+=16,a<<=16),a>>>24||(c+=8,a<<=8),a>>>28||(c+=4,a<<=4),a>>>30||(c+=2,a<<=2),c-=a>>>31,c}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,c){return Math.trunc(a/c)}static parseInt(a,c=void 0){return parseInt(a,c)}}I.MIN_VALUE_32_BITS=-2147483648,I.MAX_VALUE=Number.MAX_SAFE_INTEGER;class D{constructor(a,c){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,c==null?this.bits=D.makeArray(a):this.bits=c)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const c=D.makeArray(a);E.arraycopy(this.bits,0,c,0,this.bits.length),this.bits=c}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const c=this.size;if(a>=c)return c;const h=this.bits;let y=Math.floor(a/32),v=h[y];v&=~((1<<(a&31))-1);const w=h.length;for(;v===0;){if(++y===w)return c;v=h[y]}const S=y*32+I.numberOfTrailingZeros(v);return S>c?c:S}getNextUnset(a){const c=this.size;if(a>=c)return c;const h=this.bits;let y=Math.floor(a/32),v=~h[y];v&=~((1<<(a&31))-1);const w=h.length;for(;v===0;){if(++y===w)return c;v=~h[y]}const S=y*32+I.numberOfTrailingZeros(v);return S>c?c:S}setBulk(a,c){this.bits[Math.floor(a/32)]=c}setRange(a,c){if(c<a||a<0||c>this.size)throw new x;if(c===a)return;c--;const h=Math.floor(a/32),y=Math.floor(c/32),v=this.bits;for(let w=h;w<=y;w++){const S=w>h?0:a&31,P=(2<<(w<y?31:c&31))-(1<<S);v[w]|=P}}clear(){const a=this.bits.length,c=this.bits;for(let h=0;h<a;h++)c[h]=0}isRange(a,c,h){if(c<a||a<0||c>this.size)throw new x;if(c===a)return!0;c--;const y=Math.floor(a/32),v=Math.floor(c/32),w=this.bits;for(let S=y;S<=v;S++){const O=S>y?0:a&31,U=(2<<(S<v?31:c&31))-(1<<O)&4294967295;if((w[S]&U)!==(h?U:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,c){if(c<0||c>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+c);for(let h=c;h>0;h--)this.appendBit((a>>h-1&1)===1)}appendBitArray(a){const c=a.size;this.ensureCapacity(this.size+c);for(let h=0;h<c;h++)this.appendBit(a.get(h))}xor(a){if(this.size!==a.size)throw new x("Sizes don't match");const c=this.bits;for(let h=0,y=c.length;h<y;h++)c[h]^=a.bits[h]}toBytes(a,c,h,y){for(let v=0;v<y;v++){let w=0;for(let S=0;S<8;S++)this.get(a)&&(w|=1<<7-S),a++;c[h+v]=w}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),c=Math.floor((this.size-1)/32),h=c+1,y=this.bits;for(let v=0;v<h;v++){let w=y[v];w=w>>1&1431655765|(w&1431655765)<<1,w=w>>2&858993459|(w&858993459)<<2,w=w>>4&252645135|(w&252645135)<<4,w=w>>8&16711935|(w&16711935)<<8,w=w>>16&65535|(w&65535)<<16,a[c-v]=w}if(this.size!==h*32){const v=h*32-this.size;let w=a[0]>>>v;for(let S=1;S<h;S++){const O=a[S];w|=O<<32-v,a[S-1]=w,w=O>>>v}a[h-1]=w}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof D))return!1;const c=a;return this.size===c.size&&R.equals(this.bits,c.bits)}hashCode(){return 31*this.size+R.hashCode(this.bits)}toString(){let a="";for(let c=0,h=this.size;c<h;c++)(c&7)===0&&(a+=" "),a+=this.get(c)?"X":".";return a}clone(){return new D(this.size,this.bits.slice())}}var L;(function(V){V[V.OTHER=0]="OTHER",V[V.PURE_BARCODE=1]="PURE_BARCODE",V[V.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",V[V.TRY_HARDER=3]="TRY_HARDER",V[V.CHARACTER_SET=4]="CHARACTER_SET",V[V.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",V[V.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",V[V.ASSUME_GS1=7]="ASSUME_GS1",V[V.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",V[V.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",V[V.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(L||(L={}));var $=L;class B extends f{static getFormatInstance(){return new B}}B.kind="FormatException";var z;(function(V){V[V.Cp437=0]="Cp437",V[V.ISO8859_1=1]="ISO8859_1",V[V.ISO8859_2=2]="ISO8859_2",V[V.ISO8859_3=3]="ISO8859_3",V[V.ISO8859_4=4]="ISO8859_4",V[V.ISO8859_5=5]="ISO8859_5",V[V.ISO8859_6=6]="ISO8859_6",V[V.ISO8859_7=7]="ISO8859_7",V[V.ISO8859_8=8]="ISO8859_8",V[V.ISO8859_9=9]="ISO8859_9",V[V.ISO8859_10=10]="ISO8859_10",V[V.ISO8859_11=11]="ISO8859_11",V[V.ISO8859_13=12]="ISO8859_13",V[V.ISO8859_14=13]="ISO8859_14",V[V.ISO8859_15=14]="ISO8859_15",V[V.ISO8859_16=15]="ISO8859_16",V[V.SJIS=16]="SJIS",V[V.Cp1250=17]="Cp1250",V[V.Cp1251=18]="Cp1251",V[V.Cp1252=19]="Cp1252",V[V.Cp1256=20]="Cp1256",V[V.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",V[V.UTF8=22]="UTF8",V[V.ASCII=23]="ASCII",V[V.Big5=24]="Big5",V[V.GB18030=25]="GB18030",V[V.EUC_KR=26]="EUC_KR"})(z||(z={}));class H{constructor(a,c,h,...y){this.valueIdentifier=a,this.name=h,typeof c=="number"?this.values=Int32Array.from([c]):this.values=c,this.otherEncodingNames=y,H.VALUE_IDENTIFIER_TO_ECI.set(a,this),H.NAME_TO_ECI.set(h,this);const v=this.values;for(let w=0,S=v.length;w!==S;w++){const O=v[w];H.VALUES_TO_ECI.set(O,this)}for(const w of y)H.NAME_TO_ECI.set(w,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new B("incorect value");const c=H.VALUES_TO_ECI.get(a);if(c===void 0)throw new B("incorect value");return c}static getCharacterSetECIByName(a){const c=H.NAME_TO_ECI.get(a);if(c===void 0)throw new B("incorect value");return c}equals(a){if(!(a instanceof H))return!1;const c=a;return this.getName()===c.getName()}}H.VALUE_IDENTIFIER_TO_ECI=new Map,H.VALUES_TO_ECI=new Map,H.NAME_TO_ECI=new Map,H.Cp437=new H(z.Cp437,Int32Array.from([0,2]),"Cp437"),H.ISO8859_1=new H(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),H.ISO8859_2=new H(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),H.ISO8859_3=new H(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),H.ISO8859_4=new H(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),H.ISO8859_5=new H(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),H.ISO8859_6=new H(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),H.ISO8859_7=new H(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),H.ISO8859_8=new H(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),H.ISO8859_9=new H(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),H.ISO8859_10=new H(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),H.ISO8859_11=new H(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),H.ISO8859_13=new H(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),H.ISO8859_14=new H(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),H.ISO8859_15=new H(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),H.ISO8859_16=new H(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),H.SJIS=new H(z.SJIS,20,"SJIS","Shift_JIS"),H.Cp1250=new H(z.Cp1250,21,"Cp1250","windows-1250"),H.Cp1251=new H(z.Cp1251,22,"Cp1251","windows-1251"),H.Cp1252=new H(z.Cp1252,23,"Cp1252","windows-1252"),H.Cp1256=new H(z.Cp1256,24,"Cp1256","windows-1256"),H.UnicodeBigUnmarked=new H(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),H.UTF8=new H(z.UTF8,26,"UTF8","UTF-8"),H.ASCII=new H(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),H.Big5=new H(z.Big5,28,"Big5"),H.GB18030=new H(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),H.EUC_KR=new H(z.EUC_KR,30,"EUC_KR","EUC-KR");class ce extends f{}ce.kind="UnsupportedOperationException";class K{static decode(a,c){const h=this.encodingName(c);return this.customDecoder?this.customDecoder(a,h):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(h)?this.decodeFallback(a,h):new TextDecoder(h).decode(a)}static shouldDecodeOnFallback(a){return!K.isBrowser()&&a==="ISO-8859-1"}static encode(a,c){const h=this.encodingName(c);return this.customEncoder?this.customEncoder(a,h):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof H?a:H.getCharacterSetECIByName(a)}static decodeFallback(a,c){const h=this.encodingCharacterSet(c);if(K.isDecodeFallbackSupported(h)){let y="";for(let v=0,w=a.length;v<w;v++){let S=a[v].toString(16);S.length<2&&(S="0"+S),y+="%"+S}return decodeURIComponent(y)}if(h.equals(H.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new ce(`Encoding ${this.encodingName(c)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(H.UTF8)||a.equals(H.ISO8859_1)||a.equals(H.ASCII)}static encodeFallback(a){const h=btoa(unescape(encodeURIComponent(a))).split(""),y=[];for(let v=0;v<h.length;v++)y.push(h[v].charCodeAt(0));return new Uint8Array(y)}}class W{static castAsNonUtf8Char(a,c=null){const h=c?c.getName():this.ISO88591;return K.decode(new Uint8Array([a]),h)}static guessEncoding(a,c){if(c!=null&&c.get($.CHARACTER_SET)!==void 0)return c.get($.CHARACTER_SET).toString();const h=a.length;let y=!0,v=!0,w=!0,S=0,O=0,P=0,U=0,q=0,X=0,re=0,de=0,he=0,ge=0,_e=0;const qe=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let He=0;He<h&&(y||v||w);He++){const De=a[He]&255;w&&(S>0?(De&128)===0?w=!1:S--:(De&128)!==0&&((De&64)===0?w=!1:(S++,(De&32)===0?O++:(S++,(De&16)===0?P++:(S++,(De&8)===0?U++:w=!1))))),y&&(De>127&&De<160?y=!1:De>159&&(De<192||De===215||De===247)&&_e++),v&&(q>0?De<64||De===127||De>252?v=!1:q--:De===128||De===160||De>239?v=!1:De>160&&De<224?(X++,de=0,re++,re>he&&(he=re)):De>127?(q++,re=0,de++,de>ge&&(ge=de)):(re=0,de=0))}return w&&S>0&&(w=!1),v&&q>0&&(v=!1),w&&(qe||O+P+U>0)?W.UTF8:v&&(W.ASSUME_SHIFT_JIS||he>=3||ge>=3)?W.SHIFT_JIS:y&&v?he===2&&X===2||_e*10>=h?W.SHIFT_JIS:W.ISO88591:y?W.ISO88591:v?W.SHIFT_JIS:w?W.UTF8:W.PLATFORM_DEFAULT_ENCODING}static format(a,...c){let h=-1;function y(w,S,O,P,U,q){if(w==="%%")return"%";if(c[++h]===void 0)return;w=P?parseInt(P.substr(1)):void 0;let X=U?parseInt(U.substr(1)):void 0,re;switch(q){case"s":re=c[h];break;case"c":re=c[h][0];break;case"f":re=parseFloat(c[h]).toFixed(w);break;case"p":re=parseFloat(c[h]).toPrecision(w);break;case"e":re=parseFloat(c[h]).toExponential(w);break;case"x":re=parseInt(c[h]).toString(X||16);break;case"d":re=parseFloat(parseInt(c[h],X||10).toPrecision(w)).toFixed(0);break}re=typeof re=="object"?JSON.stringify(re):(+re).toString(X);let de=parseInt(O),he=O&&O[0]+""=="0"?"0":" ";for(;re.length<de;)re=S!==void 0?re+he:he+re;return re}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(v,y)}static getBytes(a,c){return K.encode(a,c)}static getCharCode(a,c=0){return a.charCodeAt(c)}static getCharAt(a){return String.fromCharCode(a)}}W.SHIFT_JIS=H.SJIS.getName(),W.GB2312="GB2312",W.ISO88591=H.ISO8859_1.getName(),W.EUC_JP="EUC_JP",W.UTF8=H.UTF8.getName(),W.PLATFORM_DEFAULT_ENCODING=W.UTF8,W.ASSUME_SHIFT_JIS=!1;class Z{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=W.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,c,h){for(let y=c;c<c+h;y++)this.append(a[y]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+1)}substring(a,c){return this.value.substring(a,c)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,c){this.value=this.value.substr(0,a)+c+this.value.substr(a+c.length)}}class Q{constructor(a,c,h,y){if(this.width=a,this.height=c,this.rowSize=h,this.bits=y,c==null&&(c=a),this.height=c,a<1||c<1)throw new x("Both dimensions must be greater than 0");h==null&&(h=Math.floor((a+31)/32)),this.rowSize=h,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const c=a.length,h=a[0].length,y=new Q(h,c);for(let v=0;v<c;v++){const w=a[v];for(let S=0;S<h;S++)w[S]&&y.set(S,v)}return y}static parseFromString(a,c,h){if(a===null)throw new x("stringRepresentation cannot be null");const y=new Array(a.length);let v=0,w=0,S=-1,O=0,P=0;for(;P<a.length;)if(a.charAt(P)===`
`||a.charAt(P)==="\r"){if(v>w){if(S===-1)S=v-w;else if(v-w!==S)throw new x("row lengths do not match");w=v,O++}P++}else if(a.substring(P,P+c.length)===c)P+=c.length,y[v]=!0,v++;else if(a.substring(P,P+h.length)===h)P+=h.length,y[v]=!1,v++;else throw new x("illegal character encountered: "+a.substring(P));if(v>w){if(S===-1)S=v-w;else if(v-w!==S)throw new x("row lengths do not match");O++}const U=new Q(S,O);for(let q=0;q<v;q++)y[q]&&U.set(Math.floor(q%S),Math.floor(q/S));return U}get(a,c){const h=c*this.rowSize+Math.floor(a/32);return(this.bits[h]>>>(a&31)&1)!==0}set(a,c){const h=c*this.rowSize+Math.floor(a/32);this.bits[h]|=1<<(a&31)&4294967295}unset(a,c){const h=c*this.rowSize+Math.floor(a/32);this.bits[h]&=~(1<<(a&31)&4294967295)}flip(a,c){const h=c*this.rowSize+Math.floor(a/32);this.bits[h]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new x("input matrix dimensions do not match");const c=new D(Math.floor(this.width/32)+1),h=this.rowSize,y=this.bits;for(let v=0,w=this.height;v<w;v++){const S=v*h,O=a.getRow(v,c).getBitArray();for(let P=0;P<h;P++)y[S+P]^=O[P]}}clear(){const a=this.bits,c=a.length;for(let h=0;h<c;h++)a[h]=0}setRegion(a,c,h,y){if(c<0||a<0)throw new x("Left and top must be nonnegative");if(y<1||h<1)throw new x("Height and width must be at least 1");const v=a+h,w=c+y;if(w>this.height||v>this.width)throw new x("The region must fit inside the matrix");const S=this.rowSize,O=this.bits;for(let P=c;P<w;P++){const U=P*S;for(let q=a;q<v;q++)O[U+Math.floor(q/32)]|=1<<(q&31)&4294967295}}getRow(a,c){c==null||c.getSize()<this.width?c=new D(this.width):c.clear();const h=this.rowSize,y=this.bits,v=a*h;for(let w=0;w<h;w++)c.setBulk(w*32,y[v+w]);return c}setRow(a,c){E.arraycopy(c.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),c=this.getHeight();let h=new D(a),y=new D(a);for(let v=0,w=Math.floor((c+1)/2);v<w;v++)h=this.getRow(v,h),y=this.getRow(c-1-v,y),h.reverse(),y.reverse(),this.setRow(v,y),this.setRow(c-1-v,h)}getEnclosingRectangle(){const a=this.width,c=this.height,h=this.rowSize,y=this.bits;let v=a,w=c,S=-1,O=-1;for(let P=0;P<c;P++)for(let U=0;U<h;U++){const q=y[P*h+U];if(q!==0){if(P<w&&(w=P),P>O&&(O=P),U*32<v){let X=0;for(;(q<<31-X&4294967295)===0;)X++;U*32+X<v&&(v=U*32+X)}if(U*32+31>S){let X=31;for(;!(q>>>X);)X--;U*32+X>S&&(S=U*32+X)}}}return S<v||O<w?null:Int32Array.from([v,w,S-v+1,O-w+1])}getTopLeftOnBit(){const a=this.rowSize,c=this.bits;let h=0;for(;h<c.length&&c[h]===0;)h++;if(h===c.length)return null;const y=h/a;let v=h%a*32;const w=c[h];let S=0;for(;(w<<31-S&4294967295)===0;)S++;return v+=S,Int32Array.from([v,y])}getBottomRightOnBit(){const a=this.rowSize,c=this.bits;let h=c.length-1;for(;h>=0&&c[h]===0;)h--;if(h<0)return null;const y=Math.floor(h/a);let v=Math.floor(h%a)*32;const w=c[h];let S=31;for(;!(w>>>S);)S--;return v+=S,Int32Array.from([v,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof Q))return!1;const c=a;return this.width===c.width&&this.height===c.height&&this.rowSize===c.rowSize&&R.equals(this.bits,c.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+R.hashCode(this.bits),a}toString(a="X ",c="  ",h=`
`){return this.buildToString(a,c,h)}buildToString(a,c,h){let y=new Z;for(let v=0,w=this.height;v<w;v++){for(let S=0,O=this.width;S<O;S++)y.append(this.get(S,v)?a:c);y.append(h)}return y.toString()}clone(){return new Q(this.width,this.height,this.rowSize,this.bits.slice())}}class Y extends f{static getNotFoundInstance(){return new Y}}Y.kind="NotFoundException";class J extends N{constructor(a){super(a),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(a,c){const h=this.getLuminanceSource(),y=h.getWidth();c==null||c.getSize()<y?c=new D(y):c.clear(),this.initArrays(y);const v=h.getRow(a,this.luminances),w=this.buckets;for(let O=0;O<y;O++)w[(v[O]&255)>>J.LUMINANCE_SHIFT]++;const S=J.estimateBlackPoint(w);if(y<3)for(let O=0;O<y;O++)(v[O]&255)<S&&c.set(O);else{let O=v[0]&255,P=v[1]&255;for(let U=1;U<y-1;U++){const q=v[U+1]&255;(P*4-O-q)/2<S&&c.set(U),O=P,P=q}}return c}getBlackMatrix(){const a=this.getLuminanceSource(),c=a.getWidth(),h=a.getHeight(),y=new Q(c,h);this.initArrays(c);const v=this.buckets;for(let O=1;O<5;O++){const P=Math.floor(h*O/5),U=a.getRow(P,this.luminances),q=Math.floor(c*4/5);for(let X=Math.floor(c/5);X<q;X++){const re=U[X]&255;v[re>>J.LUMINANCE_SHIFT]++}}const w=J.estimateBlackPoint(v),S=a.getMatrix();for(let O=0;O<h;O++){const P=O*c;for(let U=0;U<c;U++)(S[P+U]&255)<w&&y.set(U,O)}return y}createBinarizer(a){return new J(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const c=this.buckets;for(let h=0;h<J.LUMINANCE_BUCKETS;h++)c[h]=0}static estimateBlackPoint(a){const c=a.length;let h=0,y=0,v=0;for(let U=0;U<c;U++)a[U]>v&&(y=U,v=a[U]),a[U]>h&&(h=a[U]);let w=0,S=0;for(let U=0;U<c;U++){const q=U-y,X=a[U]*q*q;X>S&&(w=U,S=X)}if(y>w){const U=y;y=w,w=U}if(w-y<=c/16)throw new Y;let O=w-1,P=-1;for(let U=w-1;U>y;U--){const q=U-y,X=q*q*(w-U)*(h-a[U]);X>P&&(O=U,P=X)}return O<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class te extends J{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),c=a.getWidth(),h=a.getHeight();if(c>=te.MINIMUM_DIMENSION&&h>=te.MINIMUM_DIMENSION){const y=a.getMatrix();let v=c>>te.BLOCK_SIZE_POWER;(c&te.BLOCK_SIZE_MASK)!==0&&v++;let w=h>>te.BLOCK_SIZE_POWER;(h&te.BLOCK_SIZE_MASK)!==0&&w++;const S=te.calculateBlackPoints(y,v,w,c,h),O=new Q(c,h);te.calculateThresholdForBlock(y,v,w,c,h,S,O),this.matrix=O}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new te(a)}static calculateThresholdForBlock(a,c,h,y,v,w,S){const O=v-te.BLOCK_SIZE,P=y-te.BLOCK_SIZE;for(let U=0;U<h;U++){let q=U<<te.BLOCK_SIZE_POWER;q>O&&(q=O);const X=te.cap(U,2,h-3);for(let re=0;re<c;re++){let de=re<<te.BLOCK_SIZE_POWER;de>P&&(de=P);const he=te.cap(re,2,c-3);let ge=0;for(let qe=-2;qe<=2;qe++){const He=w[X+qe];ge+=He[he-2]+He[he-1]+He[he]+He[he+1]+He[he+2]}const _e=ge/25;te.thresholdBlock(a,de,q,_e,y,S)}}}static cap(a,c,h){return a<c?c:a>h?h:a}static thresholdBlock(a,c,h,y,v,w){for(let S=0,O=h*v+c;S<te.BLOCK_SIZE;S++,O+=v)for(let P=0;P<te.BLOCK_SIZE;P++)(a[O+P]&255)<=y&&w.set(c+P,h+S)}static calculateBlackPoints(a,c,h,y,v){const w=v-te.BLOCK_SIZE,S=y-te.BLOCK_SIZE,O=new Array(h);for(let P=0;P<h;P++){O[P]=new Int32Array(c);let U=P<<te.BLOCK_SIZE_POWER;U>w&&(U=w);for(let q=0;q<c;q++){let X=q<<te.BLOCK_SIZE_POWER;X>S&&(X=S);let re=0,de=255,he=0;for(let _e=0,qe=U*y+X;_e<te.BLOCK_SIZE;_e++,qe+=y){for(let He=0;He<te.BLOCK_SIZE;He++){const De=a[qe+He]&255;re+=De,De<de&&(de=De),De>he&&(he=De)}if(he-de>te.MIN_DYNAMIC_RANGE)for(_e++,qe+=y;_e<te.BLOCK_SIZE;_e++,qe+=y)for(let He=0;He<te.BLOCK_SIZE;He++)re+=a[qe+He]&255}let ge=re>>te.BLOCK_SIZE_POWER*2;if(he-de<=te.MIN_DYNAMIC_RANGE&&(ge=de/2,P>0&&q>0)){const _e=(O[P-1][q]+2*O[P][q-1]+O[P-1][q-1])/4;de<_e&&(ge=_e)}O[P][q]=ge}}return O}}te.BLOCK_SIZE_POWER=3,te.BLOCK_SIZE=1<<te.BLOCK_SIZE_POWER,te.BLOCK_SIZE_MASK=te.BLOCK_SIZE-1,te.MINIMUM_DIMENSION=te.BLOCK_SIZE*5,te.MIN_DYNAMIC_RANGE=24;class ie{constructor(a,c){this.width=a,this.height=c}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,c,h,y){throw new ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ce("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let c=new Z;for(let h=0;h<this.height;h++){const y=this.getRow(h,a);for(let v=0;v<this.width;v++){const w=y[v]&255;let S;w<64?S="#":w<128?S="+":w<192?S=".":S=" ",c.append(S)}c.append(`
`)}return c.toString()}}class se extends ie{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,c){const h=this.delegate.getRow(a,c),y=this.getWidth();for(let v=0;v<y;v++)h[v]=255-(h[v]&255);return h}getMatrix(){const a=this.delegate.getMatrix(),c=this.getWidth()*this.getHeight(),h=new Uint8ClampedArray(c);for(let y=0;y<c;y++)h[y]=255-(a[y]&255);return h}isCropSupported(){return this.delegate.isCropSupported()}crop(a,c,h,y){return new se(this.delegate.crop(a,c,h,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new se(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new se(this.delegate.rotateCounterClockwise45())}}class me extends ie{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=me.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const c=a.getContext("2d").getImageData(0,0,a.width,a.height);return me.toGrayscaleBuffer(c.data,a.width,a.height)}static toGrayscaleBuffer(a,c,h){const y=new Uint8ClampedArray(c*h);for(let v=0,w=0,S=a.length;v<S;v+=4,w++){let O;if(a[v+3]===0)O=255;else{const U=a[v],q=a[v+1],X=a[v+2];O=306*U+601*q+117*X+512>>10}y[w]=O}return y}getRow(a,c){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const h=this.getWidth(),y=a*h;return c===null?c=this.buffer.slice(y,y+h):(c.length<h&&(c=new Uint8ClampedArray(h)),c.set(this.buffer.slice(y,y+h))),c}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,c,h,y){return super.crop(a,c,h,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const c=this.getTempCanvasElement(),h=c.getContext("2d"),y=a*me.DEGREE_TO_RADIANS,v=this.canvas.width,w=this.canvas.height,S=Math.ceil(Math.abs(Math.cos(y))*v+Math.abs(Math.sin(y))*w),O=Math.ceil(Math.abs(Math.sin(y))*v+Math.abs(Math.cos(y))*w);return c.width=S,c.height=O,h.translate(S/2,O/2),h.rotate(y),h.drawImage(this.canvas,v/-2,w/-2),this.buffer=me.makeBufferFromCanvasImageData(c),this}invert(){return new se(this)}}me.DEGREE_TO_RADIANS=Math.PI/180;class ne{constructor(a,c,h){this.deviceId=a,this.label=c,this.kind="videoinput",this.groupId=h||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ue=(globalThis||Ul||self||window||void 0)&&(globalThis||Ul||self||window||void 0).__awaiter||function(V,a,c,h){function y(v){return v instanceof c?v:new c(function(w){w(v)})}return new(c||(c=Promise))(function(v,w){function S(U){try{P(h.next(U))}catch(q){w(q)}}function O(U){try{P(h.throw(U))}catch(q){w(q)}}function P(U){U.done?v(U.value):y(U.value).then(S,O)}P((h=h.apply(V,a||[])).next())})};class be{constructor(a,c=500,h){this.reader=a,this.timeBetweenScansMillis=c,this._hints=h,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return ue(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),c=[];for(const h of a){const y=h.kind==="video"?"videoinput":h.kind;if(y!=="videoinput")continue;const v=h.deviceId||h.id,w=h.label||`Video device ${c.length+1}`,S=h.groupId,O={deviceId:v,label:w,kind:y,groupId:S};c.push(O)}return c})}getVideoInputDevices(){return ue(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(c=>new ne(c.deviceId,c.label))})}findDeviceById(a){return ue(this,void 0,void 0,function*(){const c=yield this.listVideoInputDevices();return c?c.find(h=>h.deviceId===a):null})}decodeFromInputVideoDevice(a,c){return ue(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,c)})}decodeOnceFromVideoDevice(a,c){return ue(this,void 0,void 0,function*(){this.reset();let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const y={video:h};return yield this.decodeOnceFromConstraints(y,c)})}decodeOnceFromConstraints(a,c){return ue(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(h,c)})}decodeOnceFromStream(a,c){return ue(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,c);return yield this.decodeOnce(h)})}decodeFromInputVideoDeviceContinuously(a,c,h){return ue(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,c,h)})}decodeFromVideoDevice(a,c,h){return ue(this,void 0,void 0,function*(){let y;a?y={deviceId:{exact:a}}:y={facingMode:"environment"};const v={video:y};return yield this.decodeFromConstraints(v,c,h)})}decodeFromConstraints(a,c,h){return ue(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(y,c,h)})}decodeFromStream(a,c,h){return ue(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(a,c);return yield this.decodeContinuously(y,h)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,c){return ue(this,void 0,void 0,function*(){const h=this.prepareVideoElement(c);return this.addVideoSource(h,a),this.videoElement=h,this.stream=a,yield this.playVideoOnLoadAsync(h),h})}playVideoOnLoadAsync(a){return new Promise((c,h)=>this.playVideoOnLoad(a,()=>c()))}playVideoOnLoad(a,c){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",c),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return ue(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,c){const h=document.getElementById(a);if(!h)throw new g(`element with id '${a}' not found`);if(h.nodeName.toLowerCase()!==c.toLowerCase())throw new g(`element with id '${a}' must be an ${c} element`);return h}decodeFromImage(a,c){if(!a&&!c)throw new g("either imageElement with a src set or an url must be provided");return c&&!a?this.decodeFromImageUrl(c):this.decodeFromImageElement(a)}decodeFromVideo(a,c){if(!a&&!c)throw new g("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrl(c):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,c,h){if(a===void 0&&c===void 0)throw new g("Either an element with a src set or an URL must be provided");return c&&!a?this.decodeFromVideoUrlContinuously(c,h):this.decodeFromVideoElementContinuously(a,h)}decodeFromImageElement(a){if(!a)throw new g("An image element must be provided.");this.reset();const c=this.prepareImageElement(a);this.imageElement=c;let h;return this.isImageLoaded(c)?h=this.decodeOnce(c,!1,!0):h=this._decodeOnLoadImage(c),h}decodeFromVideoElement(a){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(c)}decodeFromVideoElementContinuously(a,c){const h=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(h,c)}_decodeFromVideoElementSetup(a){if(!a)throw new g("A video element must be provided.");this.reset();const c=this.prepareVideoElement(a);return this.videoElement=c,c}decodeFromImageUrl(a){if(!a)throw new g("An URL must be provided.");this.reset();const c=this.prepareImageElement();this.imageElement=c;const h=this._decodeOnLoadImage(c);return c.src=a,h}decodeFromVideoUrl(a){if(!a)throw new g("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElement(c);return c.src=a,h}decodeFromVideoUrlContinuously(a,c){if(!a)throw new g("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(h,c);return h.src=a,y}_decodeOnLoadImage(a){return new Promise((c,h)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(c,h),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return ue(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,c){return ue(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,c)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let c;return typeof a>"u"&&(c=document.createElement("img"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(c=a),c}prepareVideoElement(a){let c;return!a&&typeof document<"u"&&(c=document.createElement("video"),c.width=200,c.height=200),typeof a=="string"&&(c=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(c=a),c.setAttribute("autoplay","true"),c.setAttribute("muted","true"),c.setAttribute("playsinline","true"),c}decodeOnce(a,c=!0,h=!0){this._stopAsyncDecode=!1;const y=(v,w)=>{if(this._stopAsyncDecode){w(new Y("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const S=this.decode(a);v(S)}catch(S){const O=c&&S instanceof Y,U=(S instanceof T||S instanceof B)&&h;if(O||U)return setTimeout(y,this._timeBetweenDecodingAttempts,v,w);w(S)}};return new Promise((v,w)=>y(v,w))}decodeContinuously(a,c){this._stopContinuousDecode=!1;const h=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(a);c(y,null),setTimeout(h,this.timeBetweenScansMillis)}catch(y){c(null,y);const v=y instanceof T||y instanceof B,w=y instanceof Y;(v||w)&&setTimeout(h,this._timeBetweenDecodingAttempts)}};h()}decode(a){const c=this.createBinaryBitmap(a);return this.decodeBitmap(c)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,c,h){c||(c={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),h||(h=this.captureCanvasContext),h.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}drawImageOnCanvas(a,c,h=this.captureCanvasContext){c||(c={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),h||(h=this.captureCanvasContext),h.drawImage(a,c.sx,c.sy,c.sWidth,c.sHeight,c.dx,c.dy,c.dWidth,c.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const c=this.getCaptureCanvas(a),h=new me(c),y=new te(h);return new _(y)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const h=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=h}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const c=this.createCaptureCanvas(a);this.captureCanvas=c}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const c=document.createElement("canvas");let h,y;return typeof a<"u"&&(a instanceof HTMLVideoElement?(h=a.videoWidth,y=a.videoHeight):a instanceof HTMLImageElement&&(h=a.naturalWidth||a.width,y=a.naturalHeight||a.height)),c.style.width=h+"px",c.style.height=y+"px",c.width=h,c.height=y,c}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,c){try{a.srcObject=c}catch{a.src=URL.createObjectURL(c)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Pe{constructor(a,c,h=c==null?0:8*c.length,y,v,w=E.currentTimeMillis()){this.text=a,this.rawBytes=c,this.numBits=h,this.resultPoints=y,this.format=v,this.timestamp=w,this.text=a,this.rawBytes=c,h==null?this.numBits=c==null?0:8*c.length:this.numBits=h,this.resultPoints=y,this.format=v,this.resultMetadata=null,w==null?this.timestamp=E.currentTimeMillis():this.timestamp=w}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,c){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,c)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const c=this.resultPoints;if(c===null)this.resultPoints=a;else if(a!==null&&a.length>0){const h=new Array(c.length+a.length);E.arraycopy(c,0,h,0,c.length),E.arraycopy(a,0,h,c.length,a.length),this.resultPoints=h}}getTimestamp(){return this.timestamp}toString(){return this.text}}var nt;(function(V){V[V.AZTEC=0]="AZTEC",V[V.CODABAR=1]="CODABAR",V[V.CODE_39=2]="CODE_39",V[V.CODE_93=3]="CODE_93",V[V.CODE_128=4]="CODE_128",V[V.DATA_MATRIX=5]="DATA_MATRIX",V[V.EAN_8=6]="EAN_8",V[V.EAN_13=7]="EAN_13",V[V.ITF=8]="ITF",V[V.MAXICODE=9]="MAXICODE",V[V.PDF_417=10]="PDF_417",V[V.QR_CODE=11]="QR_CODE",V[V.RSS_14=12]="RSS_14",V[V.RSS_EXPANDED=13]="RSS_EXPANDED",V[V.UPC_A=14]="UPC_A",V[V.UPC_E=15]="UPC_E",V[V.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(nt||(nt={}));var Ie=nt,je;(function(V){V[V.OTHER=0]="OTHER",V[V.ORIENTATION=1]="ORIENTATION",V[V.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",V[V.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",V[V.ISSUE_NUMBER=4]="ISSUE_NUMBER",V[V.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",V[V.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",V[V.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",V[V.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",V[V.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",V[V.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(je||(je={}));var Be=je;class Te{constructor(a,c,h,y,v=-1,w=-1){this.rawBytes=a,this.text=c,this.byteSegments=h,this.ecLevel=y,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=w,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ue{exp(a){return this.expTable[a]}log(a){if(a===0)throw new x;return this.logTable[a]}static addOrSubtract(a,c){return a^c}}class Ve{constructor(a,c){if(c.length===0)throw new x;this.field=a;const h=c.length;if(h>1&&c[0]===0){let y=1;for(;y<h&&c[y]===0;)y++;y===h?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(h-y),E.arraycopy(c,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const c=this.coefficients;let h;if(a===1){h=0;for(let w=0,S=c.length;w!==S;w++){const O=c[w];h=Ue.addOrSubtract(h,O)}return h}h=c[0];const y=c.length,v=this.field;for(let w=1;w<y;w++)h=Ue.addOrSubtract(v.multiply(a,h),c[w]);return h}addOrSubtract(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,h=a.coefficients;if(c.length>h.length){const w=c;c=h,h=w}let y=new Int32Array(h.length);const v=h.length-c.length;E.arraycopy(h,0,y,0,v);for(let w=v;w<h.length;w++)y[w]=Ue.addOrSubtract(c[w-v],h[w]);return new Ve(this.field,y)}multiply(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const c=this.coefficients,h=c.length,y=a.coefficients,v=y.length,w=new Int32Array(h+v-1),S=this.field;for(let O=0;O<h;O++){const P=c[O];for(let U=0;U<v;U++)w[O+U]=Ue.addOrSubtract(w[O+U],S.multiply(P,y[U]))}return new Ve(S,w)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const c=this.coefficients.length,h=this.field,y=new Int32Array(c),v=this.coefficients;for(let w=0;w<c;w++)y[w]=h.multiply(v[w],a);return new Ve(h,y)}multiplyByMonomial(a,c){if(a<0)throw new x;if(c===0)return this.field.getZero();const h=this.coefficients,y=h.length,v=new Int32Array(y+a),w=this.field;for(let S=0;S<y;S++)v[S]=w.multiply(h[S],c);return new Ve(w,v)}divide(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new x("Divide by 0");const c=this.field;let h=c.getZero(),y=this;const v=a.getCoefficient(a.getDegree()),w=c.inverse(v);for(;y.getDegree()>=a.getDegree()&&!y.isZero();){const S=y.getDegree()-a.getDegree(),O=c.multiply(y.getCoefficient(y.getDegree()),w),P=a.multiplyByMonomial(S,O),U=c.buildMonomial(S,O);h=h.addOrSubtract(U),y=y.addOrSubtract(P)}return[h,y]}toString(){let a="";for(let c=this.getDegree();c>=0;c--){let h=this.getCoefficient(c);if(h!==0){if(h<0?(a+=" - ",h=-h):a.length>0&&(a+=" + "),c===0||h!==1){const y=this.field.log(h);y===0?a+="1":y===1?a+="a":(a+="a^",a+=y)}c!==0&&(c===1?a+="x":(a+="x^",a+=c))}}return a}}class Ce extends f{}Ce.kind="ArithmeticException";class tt extends Ue{constructor(a,c,h){super(),this.primitive=a,this.size=c,this.generatorBase=h;const y=new Int32Array(c);let v=1;for(let S=0;S<c;S++)y[S]=v,v*=2,v>=c&&(v^=a,v&=c-1);this.expTable=y;const w=new Int32Array(c);for(let S=0;S<c-1;S++)w[y[S]]=S;this.logTable=w,this.zero=new Ve(this,Int32Array.from([0])),this.one=new Ve(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new x;if(c===0)return this.zero;const h=new Int32Array(a+1);return h[0]=c,new Ve(this,h)}inverse(a){if(a===0)throw new Ce;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+I.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}tt.AZTEC_DATA_12=new tt(4201,4096,1),tt.AZTEC_DATA_10=new tt(1033,1024,1),tt.AZTEC_DATA_6=new tt(67,64,1),tt.AZTEC_PARAM=new tt(19,16,1),tt.QR_CODE_FIELD_256=new tt(285,256,0),tt.DATA_MATRIX_FIELD_256=new tt(301,256,1),tt.AZTEC_DATA_8=tt.DATA_MATRIX_FIELD_256,tt.MAXICODE_FIELD_64=tt.AZTEC_DATA_6;class St extends f{}St.kind="ReedSolomonException";class Oe extends f{}Oe.kind="IllegalStateException";class Ke{constructor(a){this.field=a}decode(a,c){const h=this.field,y=new Ve(h,a),v=new Int32Array(c);let w=!0;for(let re=0;re<c;re++){const de=y.evaluateAt(h.exp(re+h.getGeneratorBase()));v[v.length-1-re]=de,de!==0&&(w=!1)}if(w)return;const S=new Ve(h,v),O=this.runEuclideanAlgorithm(h.buildMonomial(c,1),S,c),P=O[0],U=O[1],q=this.findErrorLocations(P),X=this.findErrorMagnitudes(U,q);for(let re=0;re<q.length;re++){const de=a.length-1-h.log(q[re]);if(de<0)throw new St("Bad error location");a[de]=tt.addOrSubtract(a[de],X[re])}}runEuclideanAlgorithm(a,c,h){if(a.getDegree()<c.getDegree()){const re=a;a=c,c=re}const y=this.field;let v=a,w=c,S=y.getZero(),O=y.getOne();for(;w.getDegree()>=(h/2|0);){let re=v,de=S;if(v=w,S=O,v.isZero())throw new St("r_{i-1} was zero");w=re;let he=y.getZero();const ge=v.getCoefficient(v.getDegree()),_e=y.inverse(ge);for(;w.getDegree()>=v.getDegree()&&!w.isZero();){const qe=w.getDegree()-v.getDegree(),He=y.multiply(w.getCoefficient(w.getDegree()),_e);he=he.addOrSubtract(y.buildMonomial(qe,He)),w=w.addOrSubtract(v.multiplyByMonomial(qe,He))}if(O=he.multiply(S).addOrSubtract(de),w.getDegree()>=v.getDegree())throw new Oe("Division algorithm failed to reduce polynomial?")}const P=O.getCoefficient(0);if(P===0)throw new St("sigmaTilde(0) was zero");const U=y.inverse(P),q=O.multiplyScalar(U),X=w.multiplyScalar(U);return[q,X]}findErrorLocations(a){const c=a.getDegree();if(c===1)return Int32Array.from([a.getCoefficient(1)]);const h=new Int32Array(c);let y=0;const v=this.field;for(let w=1;w<v.getSize()&&y<c;w++)a.evaluateAt(w)===0&&(h[y]=v.inverse(w),y++);if(y!==c)throw new St("Error locator degree does not match number of roots");return h}findErrorMagnitudes(a,c){const h=c.length,y=new Int32Array(h),v=this.field;for(let w=0;w<h;w++){const S=v.inverse(c[w]);let O=1;for(let P=0;P<h;P++)if(w!==P){const U=v.multiply(c[P],S),q=(U&1)===0?U|1:U&-2;O=v.multiply(O,q)}y[w]=v.multiply(a.evaluateAt(S),v.inverse(O)),v.getGeneratorBase()!==0&&(y[w]=v.multiply(y[w],S))}return y}}var ot;(function(V){V[V.UPPER=0]="UPPER",V[V.LOWER=1]="LOWER",V[V.MIXED=2]="MIXED",V[V.DIGIT=3]="DIGIT",V[V.PUNCT=4]="PUNCT",V[V.BINARY=5]="BINARY"})(ot||(ot={}));class Qe{decode(a){this.ddata=a;let c=a.getBits(),h=this.extractBits(c),y=this.correctBits(h),v=Qe.convertBoolArrayToByteArray(y),w=Qe.getEncodedData(y),S=new Te(v,w,null,null);return S.setNumBits(y.length),S}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let c=a.length,h=ot.UPPER,y=ot.UPPER,v="",w=0;for(;w<c;)if(y===ot.BINARY){if(c-w<5)break;let S=Qe.readCode(a,w,5);if(w+=5,S===0){if(c-w<11)break;S=Qe.readCode(a,w,11)+31,w+=11}for(let O=0;O<S;O++){if(c-w<8){w=c;break}const P=Qe.readCode(a,w,8);v+=W.castAsNonUtf8Char(P),w+=8}y=h}else{let S=y===ot.DIGIT?4:5;if(c-w<S)break;let O=Qe.readCode(a,w,S);w+=S;let P=Qe.getCharacter(y,O);P.startsWith("CTRL_")?(h=y,y=Qe.getTable(P.charAt(5)),P.charAt(6)==="L"&&(h=y)):(v+=P,y=h)}return v}static getTable(a){switch(a){case"L":return ot.LOWER;case"P":return ot.PUNCT;case"M":return ot.MIXED;case"D":return ot.DIGIT;case"B":return ot.BINARY;default:return ot.UPPER}}static getCharacter(a,c){switch(a){case ot.UPPER:return Qe.UPPER_TABLE[c];case ot.LOWER:return Qe.LOWER_TABLE[c];case ot.MIXED:return Qe.MIXED_TABLE[c];case ot.PUNCT:return Qe.PUNCT_TABLE[c];case ot.DIGIT:return Qe.DIGIT_TABLE[c];default:throw new Oe("Bad table")}}correctBits(a){let c,h;this.ddata.getNbLayers()<=2?(h=6,c=tt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(h=8,c=tt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(h=10,c=tt.AZTEC_DATA_10):(h=12,c=tt.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),v=a.length/h;if(v<y)throw new B;let w=a.length%h,S=new Int32Array(v);for(let X=0;X<v;X++,w+=h)S[X]=Qe.readCode(a,w,h);try{new Ke(c).decode(S,v-y)}catch(X){throw new B(X)}let O=(1<<h)-1,P=0;for(let X=0;X<y;X++){let re=S[X];if(re===0||re===O)throw new B;(re===1||re===O-1)&&P++}let U=new Array(y*h-P),q=0;for(let X=0;X<y;X++){let re=S[X];if(re===1||re===O-1)U.fill(re>1,q,q+h-1),q+=h-1;else for(let de=h-1;de>=0;--de)U[q++]=(re&1<<de)!==0}return U}extractBits(a){let c=this.ddata.isCompact(),h=this.ddata.getNbLayers(),y=(c?11:14)+h*4,v=new Int32Array(y),w=new Array(this.totalBitsInLayer(h,c));if(c)for(let S=0;S<v.length;S++)v[S]=S;else{let S=y+1+2*I.truncDivision(I.truncDivision(y,2)-1,15),O=y/2,P=I.truncDivision(S,2);for(let U=0;U<O;U++){let q=U+I.truncDivision(U,15);v[O-U-1]=P-q-1,v[O+U]=P+q+1}}for(let S=0,O=0;S<h;S++){let P=(h-S)*4+(c?9:12),U=S*2,q=y-1-U;for(let X=0;X<P;X++){let re=X*2;for(let de=0;de<2;de++)w[O+re+de]=a.get(v[U+de],v[U+X]),w[O+2*P+re+de]=a.get(v[U+X],v[q-de]),w[O+4*P+re+de]=a.get(v[q-de],v[q-X]),w[O+6*P+re+de]=a.get(v[q-X],v[U+de])}O+=P*8}return w}static readCode(a,c,h){let y=0;for(let v=c;v<c+h;v++)y<<=1,a[v]&&(y|=1);return y}static readByte(a,c){let h=a.length-c;return h>=8?Qe.readCode(a,c,8):Qe.readCode(a,c,h)<<8-h}static convertBoolArrayToByteArray(a){let c=new Uint8Array((a.length+7)/8);for(let h=0;h<c.length;h++)c[h]=Qe.readByte(a,8*h);return c}totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}Qe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Qe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Qe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Qe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Qe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class dt{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,c,h,y){const v=a-h,w=c-y;return Math.sqrt(v*v+w*w)}static sum(a){let c=0;for(let h=0,y=a.length;h!==y;h++){const v=a[h];c+=v}return c}}class Bt{static floatToIntBits(a){return a}}Bt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Fe{constructor(a,c){this.x=a,this.y=c}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof Fe){const c=a;return this.x===c.x&&this.y===c.y}return!1}hashCode(){return 31*Bt.floatToIntBits(this.x)+Bt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const c=this.distance(a[0],a[1]),h=this.distance(a[1],a[2]),y=this.distance(a[0],a[2]);let v,w,S;if(h>=c&&h>=y?(w=a[0],v=a[1],S=a[2]):y>=h&&y>=c?(w=a[1],v=a[0],S=a[2]):(w=a[2],v=a[0],S=a[1]),this.crossProductZ(v,w,S)<0){const O=v;v=S,S=O}a[0]=v,a[1]=w,a[2]=S}static distance(a,c){return dt.distance(a.x,a.y,c.x,c.y)}static crossProductZ(a,c,h){const y=c.x,v=c.y;return(h.x-y)*(a.y-v)-(h.y-v)*(a.x-y)}}class le{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class xe extends le{constructor(a,c,h,y,v){super(a,c),this.compact=h,this.nbDatablocks=y,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ae{constructor(a,c,h,y){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),c==null&&(c=Ae.INIT_SIZE),h==null&&(h=a.getWidth()/2|0),y==null&&(y=a.getHeight()/2|0);const v=c/2|0;if(this.leftInit=h-v,this.rightInit=h+v,this.upInit=y-v,this.downInit=y+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Y}detect(){let a=this.leftInit,c=this.rightInit,h=this.upInit,y=this.downInit,v=!1,w=!0,S=!1,O=!1,P=!1,U=!1,q=!1;const X=this.width,re=this.height;for(;w;){w=!1;let de=!0;for(;(de||!O)&&c<X;)de=this.containsBlackPoint(h,y,c,!1),de?(c++,w=!0,O=!0):O||c++;if(c>=X){v=!0;break}let he=!0;for(;(he||!P)&&y<re;)he=this.containsBlackPoint(a,c,y,!0),he?(y++,w=!0,P=!0):P||y++;if(y>=re){v=!0;break}let ge=!0;for(;(ge||!U)&&a>=0;)ge=this.containsBlackPoint(h,y,a,!1),ge?(a--,w=!0,U=!0):U||a--;if(a<0){v=!0;break}let _e=!0;for(;(_e||!q)&&h>=0;)_e=this.containsBlackPoint(a,c,h,!0),_e?(h--,w=!0,q=!0):q||h--;if(h<0){v=!0;break}w&&(S=!0)}if(!v&&S){const de=c-a;let he=null;for(let He=1;he===null&&He<de;He++)he=this.getBlackPointOnSegment(a,y-He,a+He,y);if(he==null)throw new Y;let ge=null;for(let He=1;ge===null&&He<de;He++)ge=this.getBlackPointOnSegment(a,h+He,a+He,h);if(ge==null)throw new Y;let _e=null;for(let He=1;_e===null&&He<de;He++)_e=this.getBlackPointOnSegment(c,h+He,c-He,h);if(_e==null)throw new Y;let qe=null;for(let He=1;qe===null&&He<de;He++)qe=this.getBlackPointOnSegment(c,y-He,c-He,y);if(qe==null)throw new Y;return this.centerEdges(qe,he,_e,ge)}else throw new Y}getBlackPointOnSegment(a,c,h,y){const v=dt.round(dt.distance(a,c,h,y)),w=(h-a)/v,S=(y-c)/v,O=this.image;for(let P=0;P<v;P++){const U=dt.round(a+P*w),q=dt.round(c+P*S);if(O.get(U,q))return new Fe(U,q)}return null}centerEdges(a,c,h,y){const v=a.getX(),w=a.getY(),S=c.getX(),O=c.getY(),P=h.getX(),U=h.getY(),q=y.getX(),X=y.getY(),re=Ae.CORR;return v<this.width/2?[new Fe(q-re,X+re),new Fe(S+re,O+re),new Fe(P-re,U-re),new Fe(v+re,w-re)]:[new Fe(q+re,X+re),new Fe(S+re,O-re),new Fe(P-re,U+re),new Fe(v-re,w-re)]}containsBlackPoint(a,c,h,y){const v=this.image;if(y){for(let w=a;w<=c;w++)if(v.get(w,h))return!0}else for(let w=a;w<=c;w++)if(v.get(h,w))return!0;return!1}}Ae.INIT_SIZE=10,Ae.CORR=1;class rt{static checkAndNudgePoints(a,c){const h=a.getWidth(),y=a.getHeight();let v=!0;for(let w=0;w<c.length&&v;w+=2){const S=Math.floor(c[w]),O=Math.floor(c[w+1]);if(S<-1||S>h||O<-1||O>y)throw new Y;v=!1,S===-1?(c[w]=0,v=!0):S===h&&(c[w]=h-1,v=!0),O===-1?(c[w+1]=0,v=!0):O===y&&(c[w+1]=y-1,v=!0)}v=!0;for(let w=c.length-2;w>=0&&v;w-=2){const S=Math.floor(c[w]),O=Math.floor(c[w+1]);if(S<-1||S>h||O<-1||O>y)throw new Y;v=!1,S===-1?(c[w]=0,v=!0):S===h&&(c[w]=h-1,v=!0),O===-1?(c[w+1]=0,v=!0):O===y&&(c[w+1]=y-1,v=!0)}}}class Ge{constructor(a,c,h,y,v,w,S,O,P){this.a11=a,this.a21=c,this.a31=h,this.a12=y,this.a22=v,this.a32=w,this.a13=S,this.a23=O,this.a33=P}static quadrilateralToQuadrilateral(a,c,h,y,v,w,S,O,P,U,q,X,re,de,he,ge){const _e=Ge.quadrilateralToSquare(a,c,h,y,v,w,S,O);return Ge.squareToQuadrilateral(P,U,q,X,re,de,he,ge).times(_e)}transformPoints(a){const c=a.length,h=this.a11,y=this.a12,v=this.a13,w=this.a21,S=this.a22,O=this.a23,P=this.a31,U=this.a32,q=this.a33;for(let X=0;X<c;X+=2){const re=a[X],de=a[X+1],he=v*re+O*de+q;a[X]=(h*re+w*de+P)/he,a[X+1]=(y*re+S*de+U)/he}}transformPointsWithValues(a,c){const h=this.a11,y=this.a12,v=this.a13,w=this.a21,S=this.a22,O=this.a23,P=this.a31,U=this.a32,q=this.a33,X=a.length;for(let re=0;re<X;re++){const de=a[re],he=c[re],ge=v*de+O*he+q;a[re]=(h*de+w*he+P)/ge,c[re]=(y*de+S*he+U)/ge}}static squareToQuadrilateral(a,c,h,y,v,w,S,O){const P=a-h+v-S,U=c-y+w-O;if(P===0&&U===0)return new Ge(h-a,v-h,a,y-c,w-y,c,0,0,1);{const q=h-v,X=S-v,re=y-w,de=O-w,he=q*de-X*re,ge=(P*de-X*U)/he,_e=(q*U-P*re)/he;return new Ge(h-a+ge*h,S-a+_e*S,a,y-c+ge*y,O-c+_e*O,c,ge,_e,1)}}static quadrilateralToSquare(a,c,h,y,v,w,S,O){return Ge.squareToQuadrilateral(a,c,h,y,v,w,S,O).buildAdjoint()}buildAdjoint(){return new Ge(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Ge(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class We extends rt{sampleGrid(a,c,h,y,v,w,S,O,P,U,q,X,re,de,he,ge,_e,qe,He){const De=Ge.quadrilateralToQuadrilateral(y,v,w,S,O,P,U,q,X,re,de,he,ge,_e,qe,He);return this.sampleGridWithTransform(a,c,h,De)}sampleGridWithTransform(a,c,h,y){if(c<=0||h<=0)throw new Y;const v=new Q(c,h),w=new Float32Array(2*c);for(let S=0;S<h;S++){const O=w.length,P=S+.5;for(let U=0;U<O;U+=2)w[U]=U/2+.5,w[U+1]=P;y.transformPoints(w),rt.checkAndNudgePoints(a,w);try{for(let U=0;U<O;U+=2)a.get(Math.floor(w[U]),Math.floor(w[U+1]))&&v.set(U/2,S)}catch{throw new Y}}return v}}class it{static setGridSampler(a){it.gridSampler=a}static getInstance(){return it.gridSampler}}it.gridSampler=new We;class It{constructor(a,c){this.x=a,this.y=c}toResultPoint(){return new Fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Cr{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let c=this.getMatrixCenter(),h=this.getBullsEyeCorners(c);if(a){let w=h[0];h[0]=h[2],h[2]=w}this.extractParameters(h);let y=this.sampleGrid(this.image,h[this.shift%4],h[(this.shift+1)%4],h[(this.shift+2)%4],h[(this.shift+3)%4]),v=this.getMatrixCornerPoints(h);return new xe(y,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new Y;let c=2*this.nbCenterLayers,h=new Int32Array([this.sampleLine(a[0],a[1],c),this.sampleLine(a[1],a[2],c),this.sampleLine(a[2],a[3],c),this.sampleLine(a[3],a[0],c)]);this.shift=this.getRotation(h,c);let y=0;for(let w=0;w<4;w++){let S=h[(this.shift+w)%4];this.compact?(y<<=7,y+=S>>1&127):(y<<=10,y+=(S>>2&992)+(S>>1&31))}let v=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(a,c){let h=0;a.forEach((y,v,w)=>{let S=(y>>c-2<<1)+(y&1);h=(h<<3)+S}),h=((h&1)<<11)+(h>>1);for(let y=0;y<4;y++)if(I.bitCount(h^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new Y}getCorrectedParameterData(a,c){let h,y;c?(h=7,y=2):(h=10,y=4);let v=h-y,w=new Int32Array(h);for(let O=h-1;O>=0;--O)w[O]=a&15,a>>=4;try{new Ke(tt.AZTEC_PARAM).decode(w,v)}catch{throw new Y}let S=0;for(let O=0;O<y;O++)S=(S<<4)+w[O];return S}getBullsEyeCorners(a){let c=a,h=a,y=a,v=a,w=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let q=this.getFirstDifferent(c,w,1,-1),X=this.getFirstDifferent(h,w,1,1),re=this.getFirstDifferent(y,w,-1,1),de=this.getFirstDifferent(v,w,-1,-1);if(this.nbCenterLayers>2){let he=this.distancePoint(de,q)*this.nbCenterLayers/(this.distancePoint(v,c)*(this.nbCenterLayers+2));if(he<.75||he>1.25||!this.isWhiteOrBlackRectangle(q,X,re,de))break}c=q,h=X,y=re,v=de,w=!w}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Y;this.compact=this.nbCenterLayers===5;let S=new Fe(c.getX()+.5,c.getY()-.5),O=new Fe(h.getX()+.5,h.getY()+.5),P=new Fe(y.getX()-.5,y.getY()+.5),U=new Fe(v.getX()-.5,v.getY()-.5);return this.expandSquare([S,O,P,U],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,c,h,y;try{let S=new Ae(this.image).detect();a=S[0],c=S[1],h=S[2],y=S[3]}catch{let O=this.image.getWidth()/2,P=this.image.getHeight()/2;a=this.getFirstDifferent(new It(O+7,P-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new It(O+7,P+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new It(O-7,P+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new It(O-7,P-7),!1,-1,-1).toResultPoint()}let v=dt.round((a.getX()+y.getX()+c.getX()+h.getX())/4),w=dt.round((a.getY()+y.getY()+c.getY()+h.getY())/4);try{let S=new Ae(this.image,15,v,w).detect();a=S[0],c=S[1],h=S[2],y=S[3]}catch{a=this.getFirstDifferent(new It(v+7,w-7),!1,1,-1).toResultPoint(),c=this.getFirstDifferent(new It(v+7,w+7),!1,1,1).toResultPoint(),h=this.getFirstDifferent(new It(v-7,w+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new It(v-7,w-7),!1,-1,-1).toResultPoint()}return v=dt.round((a.getX()+y.getX()+c.getX()+h.getX())/4),w=dt.round((a.getY()+y.getY()+c.getY()+h.getY())/4),new It(v,w)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,c,h,y,v){let w=it.getInstance(),S=this.getDimension(),O=S/2-this.nbCenterLayers,P=S/2+this.nbCenterLayers;return w.sampleGrid(a,S,S,O,O,P,O,P,P,O,P,c.getX(),c.getY(),h.getX(),h.getY(),y.getX(),y.getY(),v.getX(),v.getY())}sampleLine(a,c,h){let y=0,v=this.distanceResultPoint(a,c),w=v/h,S=a.getX(),O=a.getY(),P=w*(c.getX()-a.getX())/v,U=w*(c.getY()-a.getY())/v;for(let q=0;q<h;q++)this.image.get(dt.round(S+q*P),dt.round(O+q*U))&&(y|=1<<h-q-1);return y}isWhiteOrBlackRectangle(a,c,h,y){let v=3;a=new It(a.getX()-v,a.getY()+v),c=new It(c.getX()-v,c.getY()-v),h=new It(h.getX()+v,h.getY()-v),y=new It(y.getX()+v,y.getY()+v);let w=this.getColor(y,a);if(w===0)return!1;let S=this.getColor(a,c);return S!==w||(S=this.getColor(c,h),S!==w)?!1:(S=this.getColor(h,y),S===w)}getColor(a,c){let h=this.distancePoint(a,c),y=(c.getX()-a.getX())/h,v=(c.getY()-a.getY())/h,w=0,S=a.getX(),O=a.getY(),P=this.image.get(a.getX(),a.getY()),U=Math.ceil(h);for(let X=0;X<U;X++)S+=y,O+=v,this.image.get(dt.round(S),dt.round(O))!==P&&w++;let q=w/h;return q>.1&&q<.9?0:q<=.1===P?1:-1}getFirstDifferent(a,c,h,y){let v=a.getX()+h,w=a.getY()+y;for(;this.isValid(v,w)&&this.image.get(v,w)===c;)v+=h,w+=y;for(v-=h,w-=y;this.isValid(v,w)&&this.image.get(v,w)===c;)v+=h;for(v-=h;this.isValid(v,w)&&this.image.get(v,w)===c;)w+=y;return w-=y,new It(v,w)}expandSquare(a,c,h){let y=h/(2*c),v=a[0].getX()-a[2].getX(),w=a[0].getY()-a[2].getY(),S=(a[0].getX()+a[2].getX())/2,O=(a[0].getY()+a[2].getY())/2,P=new Fe(S+y*v,O+y*w),U=new Fe(S-y*v,O-y*w);v=a[1].getX()-a[3].getX(),w=a[1].getY()-a[3].getY(),S=(a[1].getX()+a[3].getX())/2,O=(a[1].getY()+a[3].getY())/2;let q=new Fe(S+y*v,O+y*w),X=new Fe(S-y*v,O-y*w);return[P,q,U,X]}isValid(a,c){return a>=0&&a<this.image.getWidth()&&c>0&&c<this.image.getHeight()}isValidPoint(a){let c=dt.round(a.getX()),h=dt.round(a.getY());return this.isValid(c,h)}distancePoint(a,c){return dt.distance(a.getX(),a.getY(),c.getX(),c.getY())}distanceResultPoint(a,c){return dt.distance(a.getX(),a.getY(),c.getX(),c.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(I.truncDivision(this.nbLayers-4,8)+1)+15}}class Dr{decode(a,c=null){let h=null,y=new Cr(a.getBlackMatrix()),v=null,w=null;try{let U=y.detectMirror(!1);v=U.getPoints(),this.reportFoundResultPoints(c,v),w=new Qe().decode(U)}catch(U){h=U}if(w==null)try{let U=y.detectMirror(!0);v=U.getPoints(),this.reportFoundResultPoints(c,v),w=new Qe().decode(U)}catch(U){throw h??U}let S=new Pe(w.getText(),w.getRawBytes(),w.getNumBits(),v,Ie.AZTEC,E.currentTimeMillis()),O=w.getByteSegments();O!=null&&S.putMetadata(Be.BYTE_SEGMENTS,O);let P=w.getECLevel();return P!=null&&S.putMetadata(Be.ERROR_CORRECTION_LEVEL,P),S}reportFoundResultPoints(a,c){if(a!=null){let h=a.get($.NEED_RESULT_POINT_CALLBACK);h!=null&&c.forEach((y,v,w)=>{h.foundPossibleResultPoint(y)})}}reset(){}}class rh extends be{constructor(a=500){super(new Dr,a)}}class Lr{decode(a,c){try{return this.doDecode(a,c)}catch{if(c&&c.get($.TRY_HARDER)===!0&&a.isRotateSupported()){const v=a.rotateCounterClockwise(),w=this.doDecode(v,c),S=w.getResultMetadata();let O=270;S!==null&&S.get(Be.ORIENTATION)===!0&&(O=O+S.get(Be.ORIENTATION)%360),w.putMetadata(Be.ORIENTATION,O);const P=w.getResultPoints();if(P!==null){const U=v.getHeight();for(let q=0;q<P.length;q++)P[q]=new Fe(U-P[q].getY()-1,P[q].getX())}return w}else throw new Y}}reset(){}doDecode(a,c){const h=a.getWidth(),y=a.getHeight();let v=new D(h);const w=c&&c.get($.TRY_HARDER)===!0,S=Math.max(1,y>>(w?8:5));let O;w?O=y:O=15;const P=Math.trunc(y/2);for(let U=0;U<O;U++){const q=Math.trunc((U+1)/2),X=(U&1)===0,re=P+S*(X?q:-q);if(re<0||re>=y)break;try{v=a.getBlackRow(re,v)}catch{continue}for(let de=0;de<2;de++){if(de===1&&(v.reverse(),c&&c.get($.NEED_RESULT_POINT_CALLBACK)===!0)){const he=new Map;c.forEach((ge,_e)=>he.set(_e,ge)),he.delete($.NEED_RESULT_POINT_CALLBACK),c=he}try{const he=this.decodeRow(re,v,c);if(de===1){he.putMetadata(Be.ORIENTATION,180);const ge=he.getResultPoints();ge!==null&&(ge[0]=new Fe(h-ge[0].getX()-1,ge[0].getY()),ge[1]=new Fe(h-ge[1].getX()-1,ge[1].getY()))}return he}catch{}}}throw new Y}static recordPattern(a,c,h){const y=h.length;for(let P=0;P<y;P++)h[P]=0;const v=a.getSize();if(c>=v)throw new Y;let w=!a.get(c),S=0,O=c;for(;O<v;){if(a.get(O)!==w)h[S]++;else{if(++S===y)break;h[S]=1,w=!w}O++}if(!(S===y||S===y-1&&O===v))throw new Y}static recordPatternInReverse(a,c,h){let y=h.length,v=a.get(c);for(;c>0&&y>=0;)a.get(--c)!==v&&(y--,v=!v);if(y>=0)throw new Y;Lr.recordPattern(a,c+1,h)}static patternMatchVariance(a,c,h){const y=a.length;let v=0,w=0;for(let P=0;P<y;P++)v+=a[P],w+=c[P];if(v<w)return Number.POSITIVE_INFINITY;const S=v/w;h*=S;let O=0;for(let P=0;P<y;P++){const U=a[P],q=c[P]*S,X=U>q?U-q:q-U;if(X>h)return Number.POSITIVE_INFINITY;O+=X}return O/v}}class Ye extends Lr{static findStartPattern(a){const c=a.getSize(),h=a.getNextSet(0);let y=0,v=Int32Array.from([0,0,0,0,0,0]),w=h,S=!1;const O=6;for(let P=h;P<c;P++)if(a.get(P)!==S)v[y]++;else{if(y===O-1){let U=Ye.MAX_AVG_VARIANCE,q=-1;for(let X=Ye.CODE_START_A;X<=Ye.CODE_START_C;X++){const re=Lr.patternMatchVariance(v,Ye.CODE_PATTERNS[X],Ye.MAX_INDIVIDUAL_VARIANCE);re<U&&(U=re,q=X)}if(q>=0&&a.isRange(Math.max(0,w-(P-w)/2),w,!1))return Int32Array.from([w,P,q]);w+=v[0]+v[1],v=v.slice(2,v.length-1),v[y-1]=0,v[y]=0,y--}else y++;v[y]=1,S=!S}throw new Y}static decodeCode(a,c,h){Lr.recordPattern(a,h,c);let y=Ye.MAX_AVG_VARIANCE,v=-1;for(let w=0;w<Ye.CODE_PATTERNS.length;w++){const S=Ye.CODE_PATTERNS[w],O=this.patternMatchVariance(c,S,Ye.MAX_INDIVIDUAL_VARIANCE);O<y&&(y=O,v=w)}if(v>=0)return v;throw new Y}decodeRow(a,c,h){const y=h&&h.get($.ASSUME_GS1)===!0,v=Ye.findStartPattern(c),w=v[2];let S=0;const O=new Uint8Array(20);O[S++]=w;let P;switch(w){case Ye.CODE_START_A:P=Ye.CODE_CODE_A;break;case Ye.CODE_START_B:P=Ye.CODE_CODE_B;break;case Ye.CODE_START_C:P=Ye.CODE_CODE_C;break;default:throw new B}let U=!1,q=!1,X="",re=v[0],de=v[1];const he=Int32Array.from([0,0,0,0,0,0]);let ge=0,_e=0,qe=w,He=0,De=!0,tr=!1,qt=!1;for(;!U;){const fa=q;switch(q=!1,ge=_e,_e=Ye.decodeCode(c,he,de),O[S++]=_e,_e!==Ye.CODE_STOP&&(De=!0),_e!==Ye.CODE_STOP&&(He++,qe+=He*_e),re=de,de+=he.reduce((gl,Sh)=>gl+Sh,0),_e){case Ye.CODE_START_A:case Ye.CODE_START_B:case Ye.CODE_START_C:throw new B}switch(P){case Ye.CODE_CODE_A:if(_e<64)qt===tr?X+=String.fromCharCode(32+_e):X+=String.fromCharCode(32+_e+128),qt=!1;else if(_e<96)qt===tr?X+=String.fromCharCode(_e-64):X+=String.fromCharCode(_e+64),qt=!1;else switch(_e!==Ye.CODE_STOP&&(De=!1),_e){case Ye.CODE_FNC_1:y&&(X.length===0?X+="]C1":X+="");break;case Ye.CODE_FNC_2:case Ye.CODE_FNC_3:break;case Ye.CODE_FNC_4_A:!tr&&qt?(tr=!0,qt=!1):tr&&qt?(tr=!1,qt=!1):qt=!0;break;case Ye.CODE_SHIFT:q=!0,P=Ye.CODE_CODE_B;break;case Ye.CODE_CODE_B:P=Ye.CODE_CODE_B;break;case Ye.CODE_CODE_C:P=Ye.CODE_CODE_C;break;case Ye.CODE_STOP:U=!0;break}break;case Ye.CODE_CODE_B:if(_e<96)qt===tr?X+=String.fromCharCode(32+_e):X+=String.fromCharCode(32+_e+128),qt=!1;else switch(_e!==Ye.CODE_STOP&&(De=!1),_e){case Ye.CODE_FNC_1:y&&(X.length===0?X+="]C1":X+="");break;case Ye.CODE_FNC_2:case Ye.CODE_FNC_3:break;case Ye.CODE_FNC_4_B:!tr&&qt?(tr=!0,qt=!1):tr&&qt?(tr=!1,qt=!1):qt=!0;break;case Ye.CODE_SHIFT:q=!0,P=Ye.CODE_CODE_A;break;case Ye.CODE_CODE_A:P=Ye.CODE_CODE_A;break;case Ye.CODE_CODE_C:P=Ye.CODE_CODE_C;break;case Ye.CODE_STOP:U=!0;break}break;case Ye.CODE_CODE_C:if(_e<100)_e<10&&(X+="0"),X+=_e;else switch(_e!==Ye.CODE_STOP&&(De=!1),_e){case Ye.CODE_FNC_1:y&&(X.length===0?X+="]C1":X+="");break;case Ye.CODE_CODE_A:P=Ye.CODE_CODE_A;break;case Ye.CODE_CODE_B:P=Ye.CODE_CODE_B;break;case Ye.CODE_STOP:U=!0;break}break}fa&&(P=P===Ye.CODE_CODE_A?Ye.CODE_CODE_B:Ye.CODE_CODE_A)}const ji=de-re;if(de=c.getNextUnset(de),!c.isRange(de,Math.min(c.getSize(),de+(de-re)/2),!1))throw new Y;if(qe-=He*ge,qe%103!==ge)throw new T;const ws=X.length;if(ws===0)throw new Y;ws>0&&De&&(P===Ye.CODE_CODE_C?X=X.substring(0,ws-2):X=X.substring(0,ws-1));const On=(v[1]+v[0])/2,xr=re+ji/2,fn=O.length,xi=new Uint8Array(fn);for(let fa=0;fa<fn;fa++)xi[fa]=O[fa];const xo=[new Fe(On,a),new Fe(xr,a)];return new Pe(X,xi,0,xo,Ie.CODE_128,new Date().getTime())}}Ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ye.MAX_AVG_VARIANCE=.25,Ye.MAX_INDIVIDUAL_VARIANCE=.7,Ye.CODE_SHIFT=98,Ye.CODE_CODE_C=99,Ye.CODE_CODE_B=100,Ye.CODE_CODE_A=101,Ye.CODE_FNC_1=102,Ye.CODE_FNC_2=97,Ye.CODE_FNC_3=96,Ye.CODE_FNC_4_A=101,Ye.CODE_FNC_4_B=100,Ye.CODE_START_A=103,Ye.CODE_START_B=104,Ye.CODE_START_C=105,Ye.CODE_STOP=106;class dn extends Lr{constructor(a=!1,c=!1){super(),this.usingCheckDigit=a,this.extendedMode=c,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,c,h){let y=this.counters;y.fill(0),this.decodeRowResult="";let v=dn.findAsteriskPattern(c,y),w=c.getNextSet(v[1]),S=c.getSize(),O,P;do{dn.recordPattern(c,w,y);let he=dn.toNarrowWidePattern(y);if(he<0)throw new Y;O=dn.patternToChar(he),this.decodeRowResult+=O,P=w;for(let ge of y)w+=ge;w=c.getNextSet(w)}while(O!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let U=0;for(let he of y)U+=he;let q=w-P-U;if(w!==S&&q*2<U)throw new Y;if(this.usingCheckDigit){let he=this.decodeRowResult.length-1,ge=0;for(let _e=0;_e<he;_e++)ge+=dn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_e));if(this.decodeRowResult.charAt(he)!==dn.ALPHABET_STRING.charAt(ge%43))throw new T;this.decodeRowResult=this.decodeRowResult.substring(0,he)}if(this.decodeRowResult.length===0)throw new Y;let X;this.extendedMode?X=dn.decodeExtended(this.decodeRowResult):X=this.decodeRowResult;let re=(v[1]+v[0])/2,de=P+U/2;return new Pe(X,null,0,[new Fe(re,a),new Fe(de,a)],Ie.CODE_39,new Date().getTime())}static findAsteriskPattern(a,c){let h=a.getSize(),y=a.getNextSet(0),v=0,w=y,S=!1,O=c.length;for(let P=y;P<h;P++)if(a.get(P)!==S)c[v]++;else{if(v===O-1){if(this.toNarrowWidePattern(c)===dn.ASTERISK_ENCODING&&a.isRange(Math.max(0,w-Math.floor((P-w)/2)),w,!1))return[w,P];w+=c[0]+c[1],c.copyWithin(0,2,2+v-1),c[v-1]=0,c[v]=0,v--}else v++;c[v]=1,S=!S}throw new Y}static toNarrowWidePattern(a){let c=a.length,h=0,y;do{let v=2147483647;for(let O of a)O<v&&O>h&&(v=O);h=v,y=0;let w=0,S=0;for(let O=0;O<c;O++){let P=a[O];P>h&&(S|=1<<c-1-O,y++,w+=P)}if(y===3){for(let O=0;O<c&&y>0;O++){let P=a[O];if(P>h&&(y--,P*2>=w))return-1}return S}}while(y>3);return-1}static patternToChar(a){for(let c=0;c<dn.CHARACTER_ENCODINGS.length;c++)if(dn.CHARACTER_ENCODINGS[c]===a)return dn.ALPHABET_STRING.charAt(c);if(a===dn.ASTERISK_ENCODING)return"*";throw new Y}static decodeExtended(a){let c=a.length,h="";for(let y=0;y<c;y++){let v=a.charAt(y);if(v==="+"||v==="$"||v==="%"||v==="/"){let w=a.charAt(y+1),S="\0";switch(v){case"+":if(w>="A"&&w<="Z")S=String.fromCharCode(w.charCodeAt(0)+32);else throw new B;break;case"$":if(w>="A"&&w<="Z")S=String.fromCharCode(w.charCodeAt(0)-64);else throw new B;break;case"%":if(w>="A"&&w<="E")S=String.fromCharCode(w.charCodeAt(0)-38);else if(w>="F"&&w<="J")S=String.fromCharCode(w.charCodeAt(0)-11);else if(w>="K"&&w<="O")S=String.fromCharCode(w.charCodeAt(0)+16);else if(w>="P"&&w<="T")S=String.fromCharCode(w.charCodeAt(0)+43);else if(w==="U")S="\0";else if(w==="V")S="@";else if(w==="W")S="`";else if(w==="X"||w==="Y"||w==="Z")S="";else throw new B;break;case"/":if(w>="A"&&w<="O")S=String.fromCharCode(w.charCodeAt(0)-32);else if(w==="Z")S=":";else throw new B;break}h+=S,y++}else h+=v}return h}}dn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",dn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],dn.ASTERISK_ENCODING=148;class fr extends Lr{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,c,h){let y=this.decodeStart(c),v=this.decodeEnd(c),w=new Z;fr.decodeMiddle(c,y[1],v[0],w);let S=w.toString(),O=null;h!=null&&(O=h.get($.ALLOWED_LENGTHS)),O==null&&(O=fr.DEFAULT_ALLOWED_LENGTHS);let P=S.length,U=!1,q=0;for(let de of O){if(P===de){U=!0;break}de>q&&(q=de)}if(!U&&P>q&&(U=!0),!U)throw new B;const X=[new Fe(y[1],a),new Fe(v[0],a)];return new Pe(S,null,0,X,Ie.ITF,new Date().getTime())}static decodeMiddle(a,c,h,y){let v=new Int32Array(10),w=new Int32Array(5),S=new Int32Array(5);for(v.fill(0),w.fill(0),S.fill(0);c<h;){Lr.recordPattern(a,c,v);for(let P=0;P<5;P++){let U=2*P;w[P]=v[U],S[P]=v[U+1]}let O=fr.decodeDigit(w);y.append(O.toString()),O=this.decodeDigit(S),y.append(O.toString()),v.forEach(function(P){c+=P})}}decodeStart(a){let c=fr.skipWhiteSpace(a),h=fr.findGuardPattern(a,c,fr.START_PATTERN);return this.narrowLineWidth=(h[1]-h[0])/4,this.validateQuietZone(a,h[0]),h}validateQuietZone(a,c){let h=this.narrowLineWidth*10;h=h<c?h:c;for(let y=c-1;h>0&&y>=0&&!a.get(y);y--)h--;if(h!==0)throw new Y}static skipWhiteSpace(a){const c=a.getSize(),h=a.getNextSet(0);if(h===c)throw new Y;return h}decodeEnd(a){a.reverse();try{let c=fr.skipWhiteSpace(a),h;try{h=fr.findGuardPattern(a,c,fr.END_PATTERN_REVERSED[0])}catch(v){v instanceof Y&&(h=fr.findGuardPattern(a,c,fr.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,h[0]);let y=h[0];return h[0]=a.getSize()-h[1],h[1]=a.getSize()-y,h}finally{a.reverse()}}static findGuardPattern(a,c,h){let y=h.length,v=new Int32Array(y),w=a.getSize(),S=!1,O=0,P=c;v.fill(0);for(let U=c;U<w;U++)if(a.get(U)!==S)v[O]++;else{if(O===y-1){if(Lr.patternMatchVariance(v,h,fr.MAX_INDIVIDUAL_VARIANCE)<fr.MAX_AVG_VARIANCE)return[P,U];P+=v[0]+v[1],E.arraycopy(v,2,v,0,O-1),v[O-1]=0,v[O]=0,O--}else O++;v[O]=1,S=!S}throw new Y}static decodeDigit(a){let c=fr.MAX_AVG_VARIANCE,h=-1,y=fr.PATTERNS.length;for(let v=0;v<y;v++){let w=fr.PATTERNS[v],S=Lr.patternMatchVariance(a,w,fr.MAX_INDIVIDUAL_VARIANCE);S<c?(c=S,h=v):S===c&&(h=-1)}if(h>=0)return h%10;throw new Y}}fr.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],fr.MAX_AVG_VARIANCE=.38,fr.MAX_INDIVIDUAL_VARIANCE=.5,fr.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],fr.START_PATTERN=Int32Array.from([1,1,1,1]),fr.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ir extends Lr{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let c=!1,h,y=0,v=Int32Array.from([0,0,0]);for(;!c;){v=Int32Array.from([0,0,0]),h=Ir.findGuardPattern(a,y,!1,this.START_END_PATTERN,v);let w=h[0];y=h[1];let S=w-(y-w);S>=0&&(c=a.isRange(S,w,!1))}return h}static checkChecksum(a){return Ir.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let h=parseInt(a.charAt(c-1),10);return Ir.getStandardUPCEANChecksum(a.substring(0,c-1))===h}static getStandardUPCEANChecksum(a){let c=a.length,h=0;for(let y=c-1;y>=0;y-=2){let v=a.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new B;h+=v}h*=3;for(let y=c-2;y>=0;y-=2){let v=a.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new B;h+=v}return(1e3-h)%10}static decodeEnd(a,c){return Ir.findGuardPattern(a,c,!1,Ir.START_END_PATTERN,new Int32Array(Ir.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,c,h,y){return this.findGuardPattern(a,c,h,y,new Int32Array(y.length))}static findGuardPattern(a,c,h,y,v){let w=a.getSize();c=h?a.getNextUnset(c):a.getNextSet(c);let S=0,O=c,P=y.length,U=h;for(let q=c;q<w;q++)if(a.get(q)!==U)v[S]++;else{if(S===P-1){if(Lr.patternMatchVariance(v,y,Ir.MAX_INDIVIDUAL_VARIANCE)<Ir.MAX_AVG_VARIANCE)return Int32Array.from([O,q]);O+=v[0]+v[1];let X=v.slice(2,v.length-1);for(let re=0;re<S-1;re++)v[re]=X[re];v[S-1]=0,v[S]=0,S--}else S++;v[S]=1,U=!U}throw new Y}static decodeDigit(a,c,h,y){this.recordPattern(a,h,c);let v=this.MAX_AVG_VARIANCE,w=-1,S=y.length;for(let O=0;O<S;O++){let P=y[O],U=Lr.patternMatchVariance(c,P,Ir.MAX_INDIVIDUAL_VARIANCE);U<v&&(v=U,w=O)}if(w>=0)return w;throw new Y}}Ir.MAX_AVG_VARIANCE=.48,Ir.MAX_INDIVIDUAL_VARIANCE=.7,Ir.START_END_PATTERN=Int32Array.from([1,1,1]),Ir.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ir.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ir.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Fs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,h){let y=this.decodeRowStringBuffer,v=this.decodeMiddle(c,h,y),w=y.toString(),S=Fs.parseExtensionString(w),O=[new Fe((h[0]+h[1])/2,a),new Fe(v,a)],P=new Pe(w,null,0,O,Ie.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&P.putAllMetadata(S),P}decodeMiddle(a,c,h){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w=c[1],S=0;for(let P=0;P<5&&w<v;P++){let U=Ir.decodeDigit(a,y,w,Ir.L_AND_G_PATTERNS);h+=String.fromCharCode(48+U%10);for(let q of y)w+=q;U>=10&&(S|=1<<4-P),P!==4&&(w=a.getNextSet(w),w=a.getNextUnset(w))}if(h.length!==5)throw new Y;let O=this.determineCheckDigit(S);if(Fs.extensionChecksum(h.toString())!==O)throw new Y;return w}static extensionChecksum(a){let c=a.length,h=0;for(let y=c-2;y>=0;y-=2)h+=a.charAt(y).charCodeAt(0)-48;h*=3;for(let y=c-1;y>=0;y-=2)h+=a.charAt(y).charCodeAt(0)-48;return h*=3,h%10}determineCheckDigit(a){for(let c=0;c<10;c++)if(a===this.CHECK_DIGIT_ENCODINGS[c])return c;throw new Y}static parseExtensionString(a){if(a.length!==5)return null;let c=Fs.parseExtension5String(a);return c==null?null:new Map([[Be.SUGGESTED_PRICE,c]])}static parseExtension5String(a){let c;switch(a.charAt(0)){case"0":c="";break;case"5":c="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}c="";break;default:c="";break}let h=parseInt(a.substring(1)),y=(h/100).toString(),v=h%100,w=v<10?"0"+v:v.toString();return c+y+"."+w}}class uc{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,c,h){let y=this.decodeRowStringBuffer,v=this.decodeMiddle(c,h,y),w=y.toString(),S=uc.parseExtensionString(w),O=[new Fe((h[0]+h[1])/2,a),new Fe(v,a)],P=new Pe(w,null,0,O,Ie.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&P.putAllMetadata(S),P}decodeMiddle(a,c,h){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w=c[1],S=0;for(let O=0;O<2&&w<v;O++){let P=Ir.decodeDigit(a,y,w,Ir.L_AND_G_PATTERNS);h+=String.fromCharCode(48+P%10);for(let U of y)w+=U;P>=10&&(S|=1<<1-O),O!==1&&(w=a.getNextSet(w),w=a.getNextUnset(w))}if(h.length!==2)throw new Y;if(parseInt(h.toString())%4!==S)throw new Y;return w}static parseExtensionString(a){return a.length!==2?null:new Map([[Be.ISSUE_NUMBER,parseInt(a)]])}}class ju{static decodeRow(a,c,h){let y=Ir.findGuardPattern(c,h,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Fs().decodeRow(a,c,y)}catch{return new uc().decodeRow(a,c,y)}}}ju.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class rr extends Ir{constructor(){super(),this.decodeRowStringBuffer="",rr.L_AND_G_PATTERNS=rr.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let c=rr.L_PATTERNS[a-10],h=new Int32Array(c.length);for(let y=0;y<c.length;y++)h[y]=c[c.length-y-1];rr.L_AND_G_PATTERNS[a]=h}}decodeRow(a,c,h){let y=rr.findStartGuardPattern(c),v=h==null?null:h.get($.NEED_RESULT_POINT_CALLBACK);if(v!=null){const De=new Fe((y[0]+y[1])/2,a);v.foundPossibleResultPoint(De)}let w=this.decodeMiddle(c,y,this.decodeRowStringBuffer),S=w.rowOffset,O=w.resultString;if(v!=null){const De=new Fe(S,a);v.foundPossibleResultPoint(De)}let P=this.decodeEnd(c,S);if(v!=null){const De=new Fe((P[0]+P[1])/2,a);v.foundPossibleResultPoint(De)}let U=P[1],q=U+(U-P[0]);if(q>=c.getSize()||!c.isRange(U,q,!1))throw new Y;let X=O.toString();if(X.length<8)throw new B;if(!rr.checkChecksum(X))throw new T;let re=(y[1]+y[0])/2,de=(P[1]+P[0])/2,he=this.getBarcodeFormat(),ge=[new Fe(re,a),new Fe(de,a)],_e=new Pe(X,null,0,ge,he,new Date().getTime()),qe=0;try{let De=ju.decodeRow(a,c,P[1]);_e.putMetadata(Be.UPC_EAN_EXTENSION,De.getText()),_e.putAllMetadata(De.getResultMetadata()),_e.addResultPoints(De.getResultPoints()),qe=De.getText().length}catch{}let He=h==null?null:h.get($.ALLOWED_EAN_EXTENSIONS);if(He!=null){let De=!1;for(let tr in He)if(qe.toString()===tr){De=!0;break}if(!De)throw new Y}return _e}decodeEnd(a,c){return rr.findGuardPattern(a,c,!1,rr.START_END_PATTERN,new Int32Array(rr.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return rr.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let c=a.length;if(c===0)return!1;let h=parseInt(a.charAt(c-1),10);return rr.getStandardUPCEANChecksum(a.substring(0,c-1))===h}static getStandardUPCEANChecksum(a){let c=a.length,h=0;for(let y=c-1;y>=0;y-=2){let v=a.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new B;h+=v}h*=3;for(let y=c-2;y>=0;y-=2){let v=a.charAt(y).charCodeAt(0)-48;if(v<0||v>9)throw new B;h+=v}return(1e3-h)%10}}class rs extends rr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,h){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w=c[1],S=0;for(let P=0;P<6&&w<v;P++){let U=rr.decodeDigit(a,y,w,rr.L_AND_G_PATTERNS);h+=String.fromCharCode(48+U%10);for(let q of y)w+=q;U>=10&&(S|=1<<5-P)}h=rs.determineFirstDigit(h,S),w=rr.findGuardPattern(a,w,!0,rr.MIDDLE_PATTERN,new Int32Array(rr.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<6&&w<v;P++){let U=rr.decodeDigit(a,y,w,rr.L_PATTERNS);h+=String.fromCharCode(48+U);for(let q of y)w+=q}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Ie.EAN_13}static determineFirstDigit(a,c){for(let h=0;h<10;h++)if(c===this.FIRST_DIGIT_ENCODINGS[h])return a=String.fromCharCode(48+h)+a,a;throw new Y}}rs.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class nh extends rr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,c,h){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w=c[1];for(let O=0;O<4&&w<v;O++){let P=rr.decodeDigit(a,y,w,rr.L_PATTERNS);h+=String.fromCharCode(48+P);for(let U of y)w+=U}w=rr.findGuardPattern(a,w,!0,rr.MIDDLE_PATTERN,new Int32Array(rr.MIDDLE_PATTERN.length).fill(0))[1];for(let O=0;O<4&&w<v;O++){let P=rr.decodeDigit(a,y,w,rr.L_PATTERNS);h+=String.fromCharCode(48+P);for(let U of y)w+=U}return{rowOffset:w,resultString:h}}getBarcodeFormat(){return Ie.EAN_8}}class ih extends rr{constructor(){super(...arguments),this.ean13Reader=new rs}getBarcodeFormat(){return Ie.UPC_A}decode(a,c){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,c,h){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,c,h))}decodeMiddle(a,c,h){return this.ean13Reader.decodeMiddle(a,c,h)}maybeReturnResult(a){let c=a.getText();if(c.charAt(0)==="0"){let h=new Pe(c.substring(1),null,null,a.getResultPoints(),Ie.UPC_A);return a.getResultMetadata()!=null&&h.putAllMetadata(a.getResultMetadata()),h}else throw new Y}reset(){this.ean13Reader.reset()}}class ns extends rr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,c,h){const y=this.decodeMiddleCounters.map(P=>P);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const v=a.getSize();let w=c[1],S=0;for(let P=0;P<6&&w<v;P++){const U=ns.decodeDigit(a,y,w,ns.L_AND_G_PATTERNS);h+=String.fromCharCode(48+U%10);for(let q of y)w+=q;U>=10&&(S|=1<<5-P)}let O=ns.determineNumSysAndCheckDigit(h,S);return{rowOffset:w,resultString:O}}decodeEnd(a,c){return ns.findGuardPatternWithoutCounters(a,c,!0,ns.MIDDLE_END_PATTERN)}checkChecksum(a){return rr.checkChecksum(ns.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,c){for(let h=0;h<=1;h++)for(let y=0;y<10;y++)if(c===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[h][y]){let v=String.fromCharCode(48+h),w=String.fromCharCode(48+y);return v+a+w}throw Y.getNotFoundInstance()}getBarcodeFormat(){return Ie.UPC_E}static convertUPCEtoUPCA(a){const c=a.slice(1,7).split("").map(v=>v.charCodeAt(0)),h=new Z;h.append(a.charAt(0));let y=c[5];switch(y){case 0:case 1:case 2:h.appendChars(c,0,2),h.append(y),h.append("0000"),h.appendChars(c,2,3);break;case 3:h.appendChars(c,0,3),h.append("00000"),h.appendChars(c,3,2);break;case 4:h.appendChars(c,0,4),h.append("00000"),h.append(c[4]);break;default:h.appendChars(c,0,5),h.append("0000"),h.append(y);break}return a.length>=8&&h.append(a.charAt(7)),h.toString()}}ns.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ns.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ru extends Lr{constructor(a){super();let c=a==null?null:a.get($.POSSIBLE_FORMATS),h=[];n(c)?(h.push(new rs),h.push(new ih),h.push(new nh),h.push(new ns)):(c.indexOf(Ie.EAN_13)>-1&&h.push(new rs),c.indexOf(Ie.UPC_A)>-1&&h.push(new ih),c.indexOf(Ie.EAN_8)>-1&&h.push(new nh),c.indexOf(Ie.UPC_E)>-1&&h.push(new ns)),this.readers=h}decodeRow(a,c,h){for(let y of this.readers)try{const v=y.decodeRow(a,c,h),w=v.getBarcodeFormat()===Ie.EAN_13&&v.getText().charAt(0)==="0",S=h==null?null:h.get($.POSSIBLE_FORMATS),O=S==null||S.includes(Ie.UPC_A);if(w&&O){const P=v.getRawBytes(),U=new Pe(v.getText().substring(1),P,P?P.length:null,v.getResultPoints(),Ie.UPC_A);return U.putAllMetadata(v.getResultMetadata()),U}return v}catch{}throw new Y}reset(){for(let a of this.readers)a.reset()}}class Un extends Lr{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,c){for(let h=0;h<c.length;h++)if(Lr.patternMatchVariance(a,c[h],Un.MAX_INDIVIDUAL_VARIANCE)<Un.MAX_AVG_VARIANCE)return h;throw new Y}static count(a){return dt.sum(new Int32Array(a))}static increment(a,c){let h=0,y=c[0];for(let v=1;v<a.length;v++)c[v]>y&&(y=c[v],h=v);a[h]++}static decrement(a,c){let h=0,y=c[0];for(let v=1;v<a.length;v++)c[v]<y&&(y=c[v],h=v);a[h]--}static isFinderPattern(a){let c=a[0]+a[1],h=c+a[2]+a[3],y=c/h;if(y>=Un.MIN_FINDER_PATTERN_RATIO&&y<=Un.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,w=Number.MIN_SAFE_INTEGER;for(let S of a)S>w&&(w=S),S<v&&(v=S);return w<10*v}return!1}}Un.MAX_AVG_VARIANCE=.2,Un.MAX_INDIVIDUAL_VARIANCE=.45,Un.MIN_FINDER_PATTERN_RATIO=9.5/12,Un.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ua{constructor(a,c){this.value=a,this.checksumPortion=c}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof Ua))return!1;const c=a;return this.value===c.value&&this.checksumPortion===c.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class dc{constructor(a,c,h,y,v){this.value=a,this.startEnd=c,this.value=a,this.startEnd=c,this.resultPoints=new Array,this.resultPoints.push(new Fe(h,v)),this.resultPoints.push(new Fe(y,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof dc))return!1;const c=a;return this.value===c.value}hashCode(){return this.value}}class Oi{constructor(){}static getRSSvalue(a,c,h){let y=0;for(let O of a)y+=O;let v=0,w=0,S=a.length;for(let O=0;O<S-1;O++){let P;for(P=1,w|=1<<O;P<a[O];P++,w&=~(1<<O)){let U=Oi.combins(y-P-1,S-O-2);if(h&&w===0&&y-P-(S-O-1)>=S-O-1&&(U-=Oi.combins(y-P-(S-O),S-O-2)),S-O-1>1){let q=0;for(let X=y-P-(S-O-2);X>c;X--)q+=Oi.combins(y-P-X-1,S-O-3);U-=q*(S-1-O)}else y-P>c&&U--;v+=U}y-=P}return v}static combins(a,c){let h,y;a-c>c?(y=c,h=a-c):(y=a-c,h=c);let v=1,w=1;for(let S=a;S>h;S--)v*=S,w<=y&&(v/=w,w++);for(;w<=y;)v/=w,w++;return v}}class sh{static buildBitArray(a){let c=a.length*2-1;a[a.length-1].getRightChar()==null&&(c-=1);let h=12*c,y=new D(h),v=0,S=a[0].getRightChar().getValue();for(let O=11;O>=0;--O)(S&1<<O)!=0&&y.set(v),v++;for(let O=1;O<a.length;++O){let P=a[O],U=P.getLeftChar().getValue();for(let q=11;q>=0;--q)(U&1<<q)!=0&&y.set(v),v++;if(P.getRightChar()!=null){let q=P.getRightChar().getValue();for(let X=11;X>=0;--X)(q&1<<X)!=0&&y.set(v),v++}}return y}}class ps{constructor(a,c){c?this.decodedInformation=null:(this.finished=a,this.decodedInformation=c)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ah{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class kn extends ah{constructor(a,c){super(a),this.value=c}getValue(){return this.value}isFNC1(){return this.value===kn.FNC1}}kn.FNC1="$";class $s extends ah{constructor(a,c,h){super(a),h?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=c}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class gi extends ah{constructor(a,c,h){if(super(a),c<0||c>10||h<0||h>10)throw new B;this.firstDigit=c,this.secondDigit=h}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===gi.FNC1}isSecondDigitFNC1(){return this.secondDigit===gi.FNC1}isAnyFNC1(){return this.firstDigit===gi.FNC1||this.secondDigit===gi.FNC1}}gi.FNC1=10;class lt{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new Y;let c=a.substring(0,2);for(let v of lt.TWO_DIGIT_DATA_LENGTH)if(v[0]===c)return v[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(2,v[2],a):lt.processFixedAI(2,v[1],a);if(a.length<3)throw new Y;let h=a.substring(0,3);for(let v of lt.THREE_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(3,v[2],a):lt.processFixedAI(3,v[1],a);for(let v of lt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(4,v[2],a):lt.processFixedAI(4,v[1],a);if(a.length<4)throw new Y;let y=a.substring(0,4);for(let v of lt.FOUR_DIGIT_DATA_LENGTH)if(v[0]===y)return v[1]===lt.VARIABLE_LENGTH?lt.processVariableAI(4,v[2],a):lt.processFixedAI(4,v[1],a);throw new Y}static processFixedAI(a,c,h){if(h.length<a)throw new Y;let y=h.substring(0,a);if(h.length<a+c)throw new Y;let v=h.substring(a,a+c),w=h.substring(a+c),S="("+y+")"+v,O=lt.parseFieldsInGeneralPurpose(w);return O==null?S:S+O}static processVariableAI(a,c,h){let y=h.substring(0,a),v;h.length<a+c?v=h.length:v=a+c;let w=h.substring(a,v),S=h.substring(v),O="("+y+")"+w,P=lt.parseFieldsInGeneralPurpose(S);return P==null?O:O+P}}lt.VARIABLE_LENGTH=[],lt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",lt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",lt.VARIABLE_LENGTH,20],["22",lt.VARIABLE_LENGTH,29],["30",lt.VARIABLE_LENGTH,8],["37",lt.VARIABLE_LENGTH,8],["90",lt.VARIABLE_LENGTH,30],["91",lt.VARIABLE_LENGTH,30],["92",lt.VARIABLE_LENGTH,30],["93",lt.VARIABLE_LENGTH,30],["94",lt.VARIABLE_LENGTH,30],["95",lt.VARIABLE_LENGTH,30],["96",lt.VARIABLE_LENGTH,30],["97",lt.VARIABLE_LENGTH,3],["98",lt.VARIABLE_LENGTH,30],["99",lt.VARIABLE_LENGTH,30]],lt.THREE_DIGIT_DATA_LENGTH=[["240",lt.VARIABLE_LENGTH,30],["241",lt.VARIABLE_LENGTH,30],["242",lt.VARIABLE_LENGTH,6],["250",lt.VARIABLE_LENGTH,30],["251",lt.VARIABLE_LENGTH,30],["253",lt.VARIABLE_LENGTH,17],["254",lt.VARIABLE_LENGTH,20],["400",lt.VARIABLE_LENGTH,30],["401",lt.VARIABLE_LENGTH,30],["402",17],["403",lt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",lt.VARIABLE_LENGTH,20],["421",lt.VARIABLE_LENGTH,15],["422",3],["423",lt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],lt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",lt.VARIABLE_LENGTH,15],["391",lt.VARIABLE_LENGTH,18],["392",lt.VARIABLE_LENGTH,15],["393",lt.VARIABLE_LENGTH,18],["703",lt.VARIABLE_LENGTH,30]],lt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",lt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",lt.VARIABLE_LENGTH,20],["8003",lt.VARIABLE_LENGTH,30],["8004",lt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",lt.VARIABLE_LENGTH,30],["8008",lt.VARIABLE_LENGTH,12],["8018",18],["8020",lt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",lt.VARIABLE_LENGTH,70],["8200",lt.VARIABLE_LENGTH,70]];class al{constructor(a){this.buffer=new Z,this.information=a}decodeAllCodes(a,c){let h=c,y=null;do{let v=this.decodeGeneralPurposeField(h,y),w=lt.parseFieldsInGeneralPurpose(v.getNewString());if(w!=null&&a.append(w),v.isRemaining()?y=""+v.getRemainingValue():y=null,h===v.getNewPosition())break;h=v.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let c=a;c<a+3;++c)if(this.information.get(c))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(a,4);return v===0?new gi(this.information.getSize(),gi.FNC1,gi.FNC1):new gi(this.information.getSize(),v-1,gi.FNC1)}let c=this.extractNumericValueFromBitArray(a,7),h=(c-8)/11,y=(c-8)%11;return new gi(a+7,h,y)}extractNumericValueFromBitArray(a,c){return al.extractNumericValueFromBitArray(this.information,a,c)}static extractNumericValueFromBitArray(a,c,h){let y=0;for(let v=0;v<h;++v)a.get(c+v)&&(y|=1<<h-v-1);return y}decodeGeneralPurposeField(a,c){this.buffer.setLengthToZero(),c!=null&&this.buffer.append(c),this.current.setPosition(a);let h=this.parseBlocks();return h!=null&&h.isRemaining()?new $s(this.current.getPosition(),this.buffer.toString(),h.getRemainingValue()):new $s(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,c;do{let h=this.current.getPosition();if(this.current.isAlpha()?(c=this.parseAlphaBlock(),a=c.isFinished()):this.current.isIsoIec646()?(c=this.parseIsoIec646Block(),a=c.isFinished()):(c=this.parseNumericBlock(),a=c.isFinished()),!(h!==this.current.getPosition())&&!a)break}while(!a);return c.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let c;return a.isSecondDigitFNC1()?c=new $s(this.current.getPosition(),this.buffer.toString()):c=new $s(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new ps(!0,c)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let c=new $s(this.current.getPosition(),this.buffer.toString());return new ps(!0,c)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ps(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new $s(this.current.getPosition(),this.buffer.toString());return new ps(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ps(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let c=new $s(this.current.getPosition(),this.buffer.toString());return new ps(!0,c)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ps(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+7>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,7);if(h>=64&&h<116)return!0;if(a+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(a,8);return y>=232&&y<253}decodeIsoIec646(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new kn(a+5,kn.FNC1);if(c>=5&&c<15)return new kn(a+5,"0"+(c-5));let h=this.extractNumericValueFromBitArray(a,7);if(h>=64&&h<90)return new kn(a+7,""+(h+1));if(h>=90&&h<116)return new kn(a+7,""+(h+7));let y=this.extractNumericValueFromBitArray(a,8),v;switch(y){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new B}return new kn(a+8,v)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,5);if(c>=5&&c<16)return!0;if(a+6>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,6);return h>=16&&h<63}decodeAlphanumeric(a){let c=this.extractNumericValueFromBitArray(a,5);if(c===15)return new kn(a+5,kn.FNC1);if(c>=5&&c<15)return new kn(a+5,"0"+(c-5));let h=this.extractNumericValueFromBitArray(a,6);if(h>=32&&h<58)return new kn(a+6,""+(h+33));let y;switch(h){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Oe("Decoding invalid alphanumeric value: "+h)}return new kn(a+6,y)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<5&&c+a<this.information.getSize();++c)if(c===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+c))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let c=a;c<a+3;++c)if(this.information.get(c))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let c=0;c<4&&c+a<this.information.getSize();++c)if(this.information.get(a+c))return!1;return!0}}class oh{constructor(a){this.information=a,this.generalDecoder=new al(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ii extends oh{constructor(a){super(a)}encodeCompressedGtin(a,c){a.append("(01)");let h=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,c,h)}encodeCompressedGtinWithoutAI(a,c,h){for(let y=0;y<4;++y){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(c+10*y,10);v/100===0&&a.append("0"),v/10===0&&a.append("0"),a.append(v)}Ii.appendCheckDigit(a,h)}static appendCheckDigit(a,c){let h=0;for(let y=0;y<13;y++){let v=a.charAt(y+c).charCodeAt(0)-48;h+=(y&1)===0?3*v:v}h=10-h%10,h===10&&(h=0),a.append(h)}}Ii.GTIN_SIZE=40;class is extends Ii{constructor(a){super(a)}parseInformation(){let a=new Z;a.append("(01)");let c=a.length(),h=this.getGeneralDecoder().extractNumericValueFromBitArray(is.HEADER_SIZE,4);return a.append(h),this.encodeCompressedGtinWithoutAI(a,is.HEADER_SIZE+4,c),this.getGeneralDecoder().decodeAllCodes(a,is.HEADER_SIZE+44)}}is.HEADER_SIZE=4;class fc extends oh{constructor(a){super(a)}parseInformation(){let a=new Z;return this.getGeneralDecoder().decodeAllCodes(a,fc.HEADER_SIZE)}}fc.HEADER_SIZE=5;class hc extends Ii{constructor(a){super(a)}encodeCompressedWeight(a,c,h){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(c,h);this.addWeightCode(a,y);let v=this.checkWeight(y),w=1e5;for(let S=0;S<5;++S)v/w===0&&a.append("0"),w/=10;a.append(v)}}class Us extends hc{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=Us.HEADER_SIZE+hc.GTIN_SIZE+Us.WEIGHT_SIZE)throw new Y;let a=new Z;return this.encodeCompressedGtin(a,Us.HEADER_SIZE),this.encodeCompressedWeight(a,Us.HEADER_SIZE+hc.GTIN_SIZE,Us.WEIGHT_SIZE),a.toString()}}Us.HEADER_SIZE=5,Us.WEIGHT_SIZE=15;class ag extends Us{constructor(a){super(a)}addWeightCode(a,c){a.append("(3103)")}checkWeight(a){return a}}class og extends Us{constructor(a){super(a)}addWeightCode(a,c){c<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class ms extends Ii{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<ms.HEADER_SIZE+Ii.GTIN_SIZE)throw new Y;let a=new Z;this.encodeCompressedGtin(a,ms.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ms.HEADER_SIZE+Ii.GTIN_SIZE,ms.LAST_DIGIT_SIZE);a.append("(392"),a.append(c),a.append(")");let h=this.getGeneralDecoder().decodeGeneralPurposeField(ms.HEADER_SIZE+Ii.GTIN_SIZE+ms.LAST_DIGIT_SIZE,null);return a.append(h.getNewString()),a.toString()}}ms.HEADER_SIZE=8,ms.LAST_DIGIT_SIZE=2;class ii extends Ii{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<ii.HEADER_SIZE+Ii.GTIN_SIZE)throw new Y;let a=new Z;this.encodeCompressedGtin(a,ii.HEADER_SIZE);let c=this.getGeneralDecoder().extractNumericValueFromBitArray(ii.HEADER_SIZE+Ii.GTIN_SIZE,ii.LAST_DIGIT_SIZE);a.append("(393"),a.append(c),a.append(")");let h=this.getGeneralDecoder().extractNumericValueFromBitArray(ii.HEADER_SIZE+Ii.GTIN_SIZE+ii.LAST_DIGIT_SIZE,ii.FIRST_THREE_DIGITS_SIZE);h/100==0&&a.append("0"),h/10==0&&a.append("0"),a.append(h);let y=this.getGeneralDecoder().decodeGeneralPurposeField(ii.HEADER_SIZE+Ii.GTIN_SIZE+ii.LAST_DIGIT_SIZE+ii.FIRST_THREE_DIGITS_SIZE,null);return a.append(y.getNewString()),a.toString()}}ii.HEADER_SIZE=8,ii.LAST_DIGIT_SIZE=2,ii.FIRST_THREE_DIGITS_SIZE=10;class Ur extends hc{constructor(a,c,h){super(a),this.dateCode=h,this.firstAIdigits=c}parseInformation(){if(this.getInformation().getSize()!=Ur.HEADER_SIZE+Ur.GTIN_SIZE+Ur.WEIGHT_SIZE+Ur.DATE_SIZE)throw new Y;let a=new Z;return this.encodeCompressedGtin(a,Ur.HEADER_SIZE),this.encodeCompressedWeight(a,Ur.HEADER_SIZE+Ur.GTIN_SIZE,Ur.WEIGHT_SIZE),this.encodeCompressedDate(a,Ur.HEADER_SIZE+Ur.GTIN_SIZE+Ur.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(c,Ur.DATE_SIZE);if(h==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let y=h%32;h/=32;let v=h%12+1;h/=12;let w=h;w/10==0&&a.append("0"),a.append(w),v/10==0&&a.append("0"),a.append(v),y/10==0&&a.append("0"),a.append(y)}addWeightCode(a,c){a.append("("),a.append(this.firstAIdigits),a.append(c/1e5),a.append(")")}checkWeight(a){return a%1e5}}Ur.HEADER_SIZE=8,Ur.WEIGHT_SIZE=20,Ur.DATE_SIZE=16;function lg(V){try{if(V.get(1))return new is(V);if(!V.get(2))return new fc(V);switch(al.extractNumericValueFromBitArray(V,1,4)){case 4:return new ag(V);case 5:return new og(V)}switch(al.extractNumericValueFromBitArray(V,1,5)){case 12:return new ms(V);case 13:return new ii(V)}switch(al.extractNumericValueFromBitArray(V,1,7)){case 56:return new Ur(V,"310","11");case 57:return new Ur(V,"320","11");case 58:return new Ur(V,"310","13");case 59:return new Ur(V,"320","13");case 60:return new Ur(V,"310","15");case 61:return new Ur(V,"320","15");case 62:return new Ur(V,"310","17");case 63:return new Ur(V,"320","17")}}catch(a){throw console.log(a),new Oe("unknown decoder: "+V)}}class wr{constructor(a,c,h,y){this.leftchar=a,this.rightchar=c,this.finderpattern=h,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,c){return a instanceof wr?wr.equalsOrNull(a.leftchar,c.leftchar)&&wr.equalsOrNull(a.rightchar,c.rightchar)&&wr.equalsOrNull(a.finderpattern,c.finderpattern):!1}static equalsOrNull(a,c){return a===null?c===null:wr.equals(a,c)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class lh{constructor(a,c,h){this.pairs=a,this.rowNumber=c,this.wasReversed=h}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,c){return a instanceof lh?this.checkEqualitity(a,c)&&a.wasReversed===c.wasReversed:!1}checkEqualitity(a,c){if(!a||!c)return;let h;return a.forEach((y,v)=>{c.forEach(w=>{y.getLeftChar().getValue()===w.getLeftChar().getValue()&&y.getRightChar().getValue()===w.getRightChar().getValue()&&y.getFinderPatter().getValue()===w.getFinderPatter().getValue()&&(h=!0)})}),h}}class Re extends Un{constructor(a){super(...arguments),this.pairs=new Array(Re.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,c,h){this.pairs.length=0,this.startFromEven=!1;try{return Re.constructResult(this.decodeRow2pairs(a,c))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Re.constructResult(this.decodeRow2pairs(a,c))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,c){let h=!1;for(;!h;)try{this.pairs.push(this.retrieveNextPair(c,this.pairs,a))}catch(v){if(v instanceof Y){if(!this.pairs.length)throw new Y;h=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(a,!1),y){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new Y}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let c=null;try{c=this.checkRows(new Array,0)}catch(h){this.verbose&&console.log(h)}return a&&(this.rows=this.rows.reverse()),c}checkRows(a,c){for(let h=c;h<this.rows.length;h++){let y=this.rows[h];this.pairs.length=0;for(let w of a)this.pairs.push(w.getPairs());if(this.pairs.push(y.getPairs()),!Re.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(a);v.push(y);try{return this.checkRows(v,h+1)}catch(w){this.verbose&&console.log(w)}}throw new Y}static isValidSequence(a){for(let c of Re.FINDER_PATTERN_SEQUENCES){if(a.length>c.length)continue;let h=!0;for(let y=0;y<a.length;y++)if(a[y].getFinderPattern().getValue()!=c[y]){h=!1;break}if(h)return!0}return!1}storeRow(a,c){let h=0,y=!1,v=!1;for(;h<this.rows.length;){let w=this.rows[h];if(w.getRowNumber()>a){v=w.isEquivalent(this.pairs);break}y=w.isEquivalent(this.pairs),h++}v||y||Re.isPartialRow(this.pairs,this.rows)||(this.rows.push(h,new lh(this.pairs,a,c)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,c){for(let h of c)if(h.getPairs().length!==a.length){for(let y of h.getPairs())for(let v of a)if(wr.equals(y,v))break}}static isPartialRow(a,c){for(let h of c){let y=!0;for(let v of a){let w=!1;for(let S of h.getPairs())if(v.equals(S)){w=!0;break}if(!w){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(a){let c=sh.buildBitArray(a),y=lg(c).parseInformation(),v=a[0].getFinderPattern().getResultPoints(),w=a[a.length-1].getFinderPattern().getResultPoints(),S=[v[0],v[1],w[0],w[1]];return new Pe(y,null,null,S,Ie.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),c=a.getLeftChar(),h=a.getRightChar();if(h==null)return!1;let y=h.getChecksumPortion(),v=2;for(let S=1;S<this.pairs.size();++S){let O=this.pairs.get(S);y+=O.getLeftChar().getChecksumPortion(),v++;let P=O.getRightChar();P!=null&&(y+=P.getChecksumPortion(),v++)}return y%=211,211*(v-4)+y==c.getValue()}static getNextSecondBar(a,c){let h;return a.get(c)?(h=a.getNextUnset(c),h=a.getNextSet(h)):(h=a.getNextSet(c),h=a.getNextUnset(h)),h}retrieveNextPair(a,c,h){let y=c.length%2==0;this.startFromEven&&(y=!y);let v,w=!0,S=-1;do this.findNextPair(a,c,S),v=this.parseFoundFinderPattern(a,h,y),v==null?S=Re.getNextSecondBar(a,this.startEnd[0]):w=!1;while(w);let O=this.decodeDataCharacter(a,v,y,!0);if(!this.isEmptyPair(c)&&c[c.length-1].mustBeLast())throw new Y;let P;try{P=this.decodeDataCharacter(a,v,y,!1)}catch(U){P=null,this.verbose&&console.log(U)}return new wr(O,P,v,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,c,h){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let v=a.getSize(),w;h>=0?w=h:this.isEmptyPair(c)?w=0:w=c[c.length-1].getFinderPattern().getStartEnd()[1];let S=c.length%2!=0;this.startFromEven&&(S=!S);let O=!1;for(;w<v&&(O=!a.get(w),!!O);)w++;let P=0,U=w;for(let q=w;q<v;q++)if(a.get(q)!=O)y[P]++;else{if(P==3){if(S&&Re.reverseCounters(y),Re.isFinderPattern(y)){this.startEnd[0]=U,this.startEnd[1]=q;return}S&&Re.reverseCounters(y),U+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,P--}else P++;y[P]=1,O=!O}throw new Y}static reverseCounters(a){let c=a.length;for(let h=0;h<c/2;++h){let y=a[h];a[h]=a[c-h-1],a[c-h-1]=y}}parseFoundFinderPattern(a,c,h){let y,v,w;if(h){let P=this.startEnd[0]-1;for(;P>=0&&!a.get(P);)P--;P++,y=this.startEnd[0]-P,v=P,w=this.startEnd[1]}else v=this.startEnd[0],w=a.getNextUnset(this.startEnd[1]+1),y=w-this.startEnd[1];let S=this.getDecodeFinderCounters();E.arraycopy(S,0,S,1,S.length-1),S[0]=y;let O;try{O=this.parseFinderValue(S,Re.FINDER_PATTERNS)}catch{return null}return new dc(O,[v,w],v,w,c)}decodeDataCharacter(a,c,h,y){let v=this.getDataCharacterCounters();for(let xr=0;xr<v.length;xr++)v[xr]=0;if(y)Re.recordPatternInReverse(a,c.getStartEnd()[0],v);else{Re.recordPattern(a,c.getStartEnd()[1],v);for(let xr=0,fn=v.length-1;xr<fn;xr++,fn--){let xi=v[xr];v[xr]=v[fn],v[fn]=xi}}let w=17,S=dt.sum(new Int32Array(v))/w,O=(c.getStartEnd()[1]-c.getStartEnd()[0])/15;if(Math.abs(S-O)/O>.3)throw new Y;let P=this.getOddCounts(),U=this.getEvenCounts(),q=this.getOddRoundingErrors(),X=this.getEvenRoundingErrors();for(let xr=0;xr<v.length;xr++){let fn=1*v[xr]/S,xi=fn+.5;if(xi<1){if(fn<.3)throw new Y;xi=1}else if(xi>8){if(fn>8.7)throw new Y;xi=8}let xo=xr/2;(xr&1)==0?(P[xo]=xi,q[xo]=fn-xi):(U[xo]=xi,X[xo]=fn-xi)}this.adjustOddEvenCounts(w);let re=4*c.getValue()+(h?0:2)+(y?0:1)-1,de=0,he=0;for(let xr=P.length-1;xr>=0;xr--){if(Re.isNotA1left(c,h,y)){let fn=Re.WEIGHTS[re][2*xr];he+=P[xr]*fn}de+=P[xr]}let ge=0;for(let xr=U.length-1;xr>=0;xr--)if(Re.isNotA1left(c,h,y)){let fn=Re.WEIGHTS[re][2*xr+1];ge+=U[xr]*fn}let _e=he+ge;if((de&1)!=0||de>13||de<4)throw new Y;let qe=(13-de)/2,He=Re.SYMBOL_WIDEST[qe],De=9-He,tr=Oi.getRSSvalue(P,He,!0),qt=Oi.getRSSvalue(U,De,!1),ji=Re.EVEN_TOTAL_SUBSET[qe],ws=Re.GSUM[qe],On=tr*ji+qt+ws;return new Ua(On,_e)}static isNotA1left(a,c,h){return!(a.getValue()==0&&c&&h)}adjustOddEvenCounts(a){let c=dt.sum(new Int32Array(this.getOddCounts())),h=dt.sum(new Int32Array(this.getEvenCounts())),y=!1,v=!1;c>13?v=!0:c<4&&(y=!0);let w=!1,S=!1;h>13?S=!0:h<4&&(w=!0);let O=c+h-a,P=(c&1)==1,U=(h&1)==0;if(O==1)if(P){if(U)throw new Y;v=!0}else{if(!U)throw new Y;S=!0}else if(O==-1)if(P){if(U)throw new Y;y=!0}else{if(!U)throw new Y;w=!0}else if(O==0){if(P){if(!U)throw new Y;c<h?(y=!0,S=!0):(v=!0,w=!0)}else if(U)throw new Y}else throw new Y;if(y){if(v)throw new Y;Re.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&Re.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(S)throw new Y;Re.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&Re.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Re.SYMBOL_WIDEST=[7,5,4,3,1],Re.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Re.GSUM=[0,348,1388,2948,3988],Re.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Re.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Re.FINDER_PAT_A=0,Re.FINDER_PAT_B=1,Re.FINDER_PAT_C=2,Re.FINDER_PAT_D=3,Re.FINDER_PAT_E=4,Re.FINDER_PAT_F=5,Re.FINDER_PATTERN_SEQUENCES=[[Re.FINDER_PAT_A,Re.FINDER_PAT_A],[Re.FINDER_PAT_A,Re.FINDER_PAT_B,Re.FINDER_PAT_B],[Re.FINDER_PAT_A,Re.FINDER_PAT_C,Re.FINDER_PAT_B,Re.FINDER_PAT_D],[Re.FINDER_PAT_A,Re.FINDER_PAT_E,Re.FINDER_PAT_B,Re.FINDER_PAT_D,Re.FINDER_PAT_C],[Re.FINDER_PAT_A,Re.FINDER_PAT_E,Re.FINDER_PAT_B,Re.FINDER_PAT_D,Re.FINDER_PAT_D,Re.FINDER_PAT_F],[Re.FINDER_PAT_A,Re.FINDER_PAT_E,Re.FINDER_PAT_B,Re.FINDER_PAT_D,Re.FINDER_PAT_E,Re.FINDER_PAT_F,Re.FINDER_PAT_F],[Re.FINDER_PAT_A,Re.FINDER_PAT_A,Re.FINDER_PAT_B,Re.FINDER_PAT_B,Re.FINDER_PAT_C,Re.FINDER_PAT_C,Re.FINDER_PAT_D,Re.FINDER_PAT_D],[Re.FINDER_PAT_A,Re.FINDER_PAT_A,Re.FINDER_PAT_B,Re.FINDER_PAT_B,Re.FINDER_PAT_C,Re.FINDER_PAT_C,Re.FINDER_PAT_D,Re.FINDER_PAT_E,Re.FINDER_PAT_E],[Re.FINDER_PAT_A,Re.FINDER_PAT_A,Re.FINDER_PAT_B,Re.FINDER_PAT_B,Re.FINDER_PAT_C,Re.FINDER_PAT_C,Re.FINDER_PAT_D,Re.FINDER_PAT_E,Re.FINDER_PAT_F,Re.FINDER_PAT_F],[Re.FINDER_PAT_A,Re.FINDER_PAT_A,Re.FINDER_PAT_B,Re.FINDER_PAT_B,Re.FINDER_PAT_C,Re.FINDER_PAT_D,Re.FINDER_PAT_D,Re.FINDER_PAT_E,Re.FINDER_PAT_E,Re.FINDER_PAT_F,Re.FINDER_PAT_F]],Re.MAX_PAIRS=11;class cg extends Ua{constructor(a,c,h){super(a,c),this.count=0,this.finderPattern=h}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Br extends Un{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,c,h){const y=this.decodePair(c,!1,a,h);Br.addOrTally(this.possibleLeftPairs,y),c.reverse();let v=this.decodePair(c,!0,a,h);Br.addOrTally(this.possibleRightPairs,v),c.reverse();for(let w of this.possibleLeftPairs)if(w.getCount()>1){for(let S of this.possibleRightPairs)if(S.getCount()>1&&Br.checkChecksum(w,S))return Br.constructResult(w,S)}throw new Y}static addOrTally(a,c){if(c==null)return;let h=!1;for(let y of a)if(y.getValue()===c.getValue()){y.incrementCount(),h=!0;break}h||a.push(c)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,c){let h=4537077*a.getValue()+c.getValue(),y=new String(h).toString(),v=new Z;for(let P=13-y.length;P>0;P--)v.append("0");v.append(y);let w=0;for(let P=0;P<13;P++){let U=v.charAt(P).charCodeAt(0)-48;w+=(P&1)===0?3*U:U}w=10-w%10,w===10&&(w=0),v.append(w.toString());let S=a.getFinderPattern().getResultPoints(),O=c.getFinderPattern().getResultPoints();return new Pe(v.toString(),null,0,[S[0],S[1],O[0],O[1]],Ie.RSS_14,new Date().getTime())}static checkChecksum(a,c){let h=(a.getChecksumPortion()+16*c.getChecksumPortion())%79,y=9*a.getFinderPattern().getValue()+c.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,h===y}decodePair(a,c,h,y){try{let v=this.findFinderPattern(a,c),w=this.parseFoundFinderPattern(a,h,c,v),S=y==null?null:y.get($.NEED_RESULT_POINT_CALLBACK);if(S!=null){let U=(v[0]+v[1])/2;c&&(U=a.getSize()-1-U),S.foundPossibleResultPoint(new Fe(U,h))}let O=this.decodeDataCharacter(a,w,!0),P=this.decodeDataCharacter(a,w,!1);return new cg(1597*O.getValue()+P.getValue(),O.getChecksumPortion()+4*P.getChecksumPortion(),w)}catch{return null}}decodeDataCharacter(a,c,h){let y=this.getDataCharacterCounters();for(let ge=0;ge<y.length;ge++)y[ge]=0;if(h)Lr.recordPatternInReverse(a,c.getStartEnd()[0],y);else{Lr.recordPattern(a,c.getStartEnd()[1]+1,y);for(let ge=0,_e=y.length-1;ge<_e;ge++,_e--){let qe=y[ge];y[ge]=y[_e],y[_e]=qe}}let v=h?16:15,w=dt.sum(new Int32Array(y))/v,S=this.getOddCounts(),O=this.getEvenCounts(),P=this.getOddRoundingErrors(),U=this.getEvenRoundingErrors();for(let ge=0;ge<y.length;ge++){let _e=y[ge]/w,qe=Math.floor(_e+.5);qe<1?qe=1:qe>8&&(qe=8);let He=Math.floor(ge/2);(ge&1)===0?(S[He]=qe,P[He]=_e-qe):(O[He]=qe,U[He]=_e-qe)}this.adjustOddEvenCounts(h,v);let q=0,X=0;for(let ge=S.length-1;ge>=0;ge--)X*=9,X+=S[ge],q+=S[ge];let re=0,de=0;for(let ge=O.length-1;ge>=0;ge--)re*=9,re+=O[ge],de+=O[ge];let he=X+3*re;if(h){if((q&1)!==0||q>12||q<4)throw new Y;let ge=(12-q)/2,_e=Br.OUTSIDE_ODD_WIDEST[ge],qe=9-_e,He=Oi.getRSSvalue(S,_e,!1),De=Oi.getRSSvalue(O,qe,!0),tr=Br.OUTSIDE_EVEN_TOTAL_SUBSET[ge],qt=Br.OUTSIDE_GSUM[ge];return new Ua(He*tr+De+qt,he)}else{if((de&1)!==0||de>10||de<4)throw new Y;let ge=(10-de)/2,_e=Br.INSIDE_ODD_WIDEST[ge],qe=9-_e,He=Oi.getRSSvalue(S,_e,!0),De=Oi.getRSSvalue(O,qe,!1),tr=Br.INSIDE_ODD_TOTAL_SUBSET[ge],qt=Br.INSIDE_GSUM[ge];return new Ua(De*tr+He+qt,he)}}findFinderPattern(a,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let y=a.getSize(),v=!1,w=0;for(;w<y&&(v=!a.get(w),c!==v);)w++;let S=0,O=w;for(let P=w;P<y;P++)if(a.get(P)!==v)h[S]++;else{if(S===3){if(Un.isFinderPattern(h))return[O,P];O+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,S--}else S++;h[S]=1,v=!v}throw new Y}parseFoundFinderPattern(a,c,h,y){let v=a.get(y[0]),w=y[0]-1;for(;w>=0&&v!==a.get(w);)w--;w++;const S=y[0]-w,O=this.getDecodeFinderCounters(),P=new Int32Array(O.length);E.arraycopy(O,0,P,1,O.length-1),P[0]=S;const U=this.parseFinderValue(P,Br.FINDER_PATTERNS);let q=w,X=y[1];return h&&(q=a.getSize()-1-q,X=a.getSize()-1-X),new dc(U,[w,y[1]],q,X,c)}adjustOddEvenCounts(a,c){let h=dt.sum(new Int32Array(this.getOddCounts())),y=dt.sum(new Int32Array(this.getEvenCounts())),v=!1,w=!1,S=!1,O=!1;a?(h>12?w=!0:h<4&&(v=!0),y>12?O=!0:y<4&&(S=!0)):(h>11?w=!0:h<5&&(v=!0),y>10?O=!0:y<4&&(S=!0));let P=h+y-c,U=(h&1)===(a?1:0),q=(y&1)===1;if(P===1)if(U){if(q)throw new Y;w=!0}else{if(!q)throw new Y;O=!0}else if(P===-1)if(U){if(q)throw new Y;v=!0}else{if(!q)throw new Y;S=!0}else if(P===0){if(U){if(!q)throw new Y;h<y?(v=!0,O=!0):(w=!0,S=!0)}else if(q)throw new Y}else throw new Y;if(v){if(w)throw new Y;Un.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(w&&Un.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(O)throw new Y;Un.increment(this.getEvenCounts(),this.getOddRoundingErrors())}O&&Un.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Br.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Br.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Br.OUTSIDE_GSUM=[0,161,961,2015,2715],Br.INSIDE_GSUM=[0,336,1036,1516],Br.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Br.INSIDE_ODD_WIDEST=[2,4,6,8],Br.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ol extends Lr{constructor(a,c){super(),this.readers=[],this.verbose=c===!0;const h=a?a.get($.POSSIBLE_FORMATS):null,y=a&&a.get($.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;h?((h.includes(Ie.EAN_13)||h.includes(Ie.UPC_A)||h.includes(Ie.EAN_8)||h.includes(Ie.UPC_E))&&this.readers.push(new Ru(a)),h.includes(Ie.CODE_39)&&this.readers.push(new dn(y)),h.includes(Ie.CODE_128)&&this.readers.push(new Ye),h.includes(Ie.ITF)&&this.readers.push(new fr),h.includes(Ie.RSS_14)&&this.readers.push(new Br),h.includes(Ie.RSS_EXPANDED)&&this.readers.push(new Re(this.verbose))):(this.readers.push(new Ru(a)),this.readers.push(new dn),this.readers.push(new Ru(a)),this.readers.push(new Ye),this.readers.push(new fr),this.readers.push(new Br),this.readers.push(new Re(this.verbose)))}decodeRow(a,c,h){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(a,c,h)}catch{}throw new Y}reset(){this.readers.forEach(a=>a.reset())}}class ug extends be{constructor(a=500,c){super(new ol(c),a,c)}}class ur{constructor(a,c,h){this.ecCodewords=a,this.ecBlocks=[c],h&&this.ecBlocks.push(h)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class Kt{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class sr{constructor(a,c,h,y,v,w){this.versionNumber=a,this.symbolSizeRows=c,this.symbolSizeColumns=h,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=v,this.ecBlocks=w;let S=0;const O=w.getECCodewords(),P=w.getECBlocks();for(let U of P)S+=U.getCount()*(U.getDataCodewords()+O);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,c){if((a&1)!==0||(c&1)!==0)throw new B;for(let h of sr.VERSIONS)if(h.symbolSizeRows===a&&h.symbolSizeColumns===c)return h;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new sr(1,10,10,8,8,new ur(5,new Kt(1,3))),new sr(2,12,12,10,10,new ur(7,new Kt(1,5))),new sr(3,14,14,12,12,new ur(10,new Kt(1,8))),new sr(4,16,16,14,14,new ur(12,new Kt(1,12))),new sr(5,18,18,16,16,new ur(14,new Kt(1,18))),new sr(6,20,20,18,18,new ur(18,new Kt(1,22))),new sr(7,22,22,20,20,new ur(20,new Kt(1,30))),new sr(8,24,24,22,22,new ur(24,new Kt(1,36))),new sr(9,26,26,24,24,new ur(28,new Kt(1,44))),new sr(10,32,32,14,14,new ur(36,new Kt(1,62))),new sr(11,36,36,16,16,new ur(42,new Kt(1,86))),new sr(12,40,40,18,18,new ur(48,new Kt(1,114))),new sr(13,44,44,20,20,new ur(56,new Kt(1,144))),new sr(14,48,48,22,22,new ur(68,new Kt(1,174))),new sr(15,52,52,24,24,new ur(42,new Kt(2,102))),new sr(16,64,64,14,14,new ur(56,new Kt(2,140))),new sr(17,72,72,16,16,new ur(36,new Kt(4,92))),new sr(18,80,80,18,18,new ur(48,new Kt(4,114))),new sr(19,88,88,20,20,new ur(56,new Kt(4,144))),new sr(20,96,96,22,22,new ur(68,new Kt(4,174))),new sr(21,104,104,24,24,new ur(56,new Kt(6,136))),new sr(22,120,120,18,18,new ur(68,new Kt(6,175))),new sr(23,132,132,20,20,new ur(62,new Kt(8,163))),new sr(24,144,144,22,22,new ur(62,new Kt(8,156),new Kt(2,155))),new sr(25,8,18,6,16,new ur(7,new Kt(1,5))),new sr(26,8,32,6,14,new ur(11,new Kt(1,10))),new sr(27,12,26,10,24,new ur(14,new Kt(1,16))),new sr(28,12,36,10,16,new ur(18,new Kt(1,22))),new sr(29,16,36,14,16,new ur(24,new Kt(1,32))),new sr(30,16,48,14,22,new ur(28,new Kt(1,49)))]}}sr.VERSIONS=sr.buildVersions();class Vi{constructor(a){const c=a.getHeight();if(c<8||c>144||(c&1)!==0)throw new B;this.version=Vi.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new Q(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const c=a.getHeight(),h=a.getWidth();return sr.getVersionForDimensions(c,h)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let c=0,h=4,y=0;const v=this.mappingBitMatrix.getHeight(),w=this.mappingBitMatrix.getWidth();let S=!1,O=!1,P=!1,U=!1;do if(h===v&&y===0&&!S)a[c++]=this.readCorner1(v,w)&255,h-=2,y+=2,S=!0;else if(h===v-2&&y===0&&(w&3)!==0&&!O)a[c++]=this.readCorner2(v,w)&255,h-=2,y+=2,O=!0;else if(h===v+4&&y===2&&(w&7)===0&&!P)a[c++]=this.readCorner3(v,w)&255,h-=2,y+=2,P=!0;else if(h===v-2&&y===0&&(w&7)===4&&!U)a[c++]=this.readCorner4(v,w)&255,h-=2,y+=2,U=!0;else{do h<v&&y>=0&&!this.readMappingMatrix.get(y,h)&&(a[c++]=this.readUtah(h,y,v,w)&255),h-=2,y+=2;while(h>=0&&y<w);h+=1,y+=3;do h>=0&&y<w&&!this.readMappingMatrix.get(y,h)&&(a[c++]=this.readUtah(h,y,v,w)&255),h+=2,y-=2;while(h<v&&y>=0);h+=3,y+=1}while(h<v||y<w);if(c!==this.version.getTotalCodewords())throw new B;return a}readModule(a,c,h,y){return a<0&&(a+=h,c+=4-(h+4&7)),c<0&&(c+=y,a+=4-(y+4&7)),this.readMappingMatrix.set(c,a),this.mappingBitMatrix.get(c,a)}readUtah(a,c,h,y){let v=0;return this.readModule(a-2,c-2,h,y)&&(v|=1),v<<=1,this.readModule(a-2,c-1,h,y)&&(v|=1),v<<=1,this.readModule(a-1,c-2,h,y)&&(v|=1),v<<=1,this.readModule(a-1,c-1,h,y)&&(v|=1),v<<=1,this.readModule(a-1,c,h,y)&&(v|=1),v<<=1,this.readModule(a,c-2,h,y)&&(v|=1),v<<=1,this.readModule(a,c-1,h,y)&&(v|=1),v<<=1,this.readModule(a,c,h,y)&&(v|=1),v}readCorner1(a,c){let h=0;return this.readModule(a-1,0,a,c)&&(h|=1),h<<=1,this.readModule(a-1,1,a,c)&&(h|=1),h<<=1,this.readModule(a-1,2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-1,a,c)&&(h|=1),h<<=1,this.readModule(1,c-1,a,c)&&(h|=1),h<<=1,this.readModule(2,c-1,a,c)&&(h|=1),h<<=1,this.readModule(3,c-1,a,c)&&(h|=1),h}readCorner2(a,c){let h=0;return this.readModule(a-3,0,a,c)&&(h|=1),h<<=1,this.readModule(a-2,0,a,c)&&(h|=1),h<<=1,this.readModule(a-1,0,a,c)&&(h|=1),h<<=1,this.readModule(0,c-4,a,c)&&(h|=1),h<<=1,this.readModule(0,c-3,a,c)&&(h|=1),h<<=1,this.readModule(0,c-2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-1,a,c)&&(h|=1),h<<=1,this.readModule(1,c-1,a,c)&&(h|=1),h}readCorner3(a,c){let h=0;return this.readModule(a-1,0,a,c)&&(h|=1),h<<=1,this.readModule(a-1,c-1,a,c)&&(h|=1),h<<=1,this.readModule(0,c-3,a,c)&&(h|=1),h<<=1,this.readModule(0,c-2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-1,a,c)&&(h|=1),h<<=1,this.readModule(1,c-3,a,c)&&(h|=1),h<<=1,this.readModule(1,c-2,a,c)&&(h|=1),h<<=1,this.readModule(1,c-1,a,c)&&(h|=1),h}readCorner4(a,c){let h=0;return this.readModule(a-3,0,a,c)&&(h|=1),h<<=1,this.readModule(a-2,0,a,c)&&(h|=1),h<<=1,this.readModule(a-1,0,a,c)&&(h|=1),h<<=1,this.readModule(0,c-2,a,c)&&(h|=1),h<<=1,this.readModule(0,c-1,a,c)&&(h|=1),h<<=1,this.readModule(1,c-1,a,c)&&(h|=1),h<<=1,this.readModule(2,c-1,a,c)&&(h|=1),h<<=1,this.readModule(3,c-1,a,c)&&(h|=1),h}extractDataRegion(a){const c=this.version.getSymbolSizeRows(),h=this.version.getSymbolSizeColumns();if(a.getHeight()!==c)throw new x("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),w=c/y|0,S=h/v|0,O=w*y,P=S*v,U=new Q(P,O);for(let q=0;q<w;++q){const X=q*y;for(let re=0;re<S;++re){const de=re*v;for(let he=0;he<y;++he){const ge=q*(y+2)+1+he,_e=X+he;for(let qe=0;qe<v;++qe){const He=re*(v+2)+1+qe;if(a.get(He,ge)){const De=de+qe;U.set(De,_e)}}}}}return U}}class ch{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c){const h=c.getECBlocks();let y=0;const v=h.getECBlocks();for(let he of v)y+=he.getCount();const w=new Array(y);let S=0;for(let he of v)for(let ge=0;ge<he.getCount();ge++){const _e=he.getDataCodewords(),qe=h.getECCodewords()+_e;w[S++]=new ch(_e,new Uint8Array(qe))}const P=w[0].codewords.length-h.getECCodewords(),U=P-1;let q=0;for(let he=0;he<U;he++)for(let ge=0;ge<S;ge++)w[ge].codewords[he]=a[q++];const X=c.getVersionNumber()===24,re=X?8:S;for(let he=0;he<re;he++)w[he].codewords[P-1]=a[q++];const de=w[0].codewords.length;for(let he=P;he<de;he++)for(let ge=0;ge<S;ge++){const _e=X?(ge+8)%S:ge,qe=X&&_e>7?he-1:he;w[_e].codewords[qe]=a[q++]}if(q!==a.length)throw new x;return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class uh{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new x(""+a);let c=0,h=this.bitOffset,y=this.byteOffset;const v=this.bytes;if(h>0){const w=8-h,S=a<w?a:w,O=w-S,P=255>>8-S<<O;c=(v[y]&P)>>O,a-=S,h+=S,h===8&&(h=0,y++)}if(a>0){for(;a>=8;)c=c<<8|v[y]&255,y++,a-=8;if(a>0){const w=8-a,S=255>>w<<w;c=c<<a|(v[y]&S)>>w,h+=a}}return this.bitOffset=h,this.byteOffset=y,c}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Tn;(function(V){V[V.PAD_ENCODE=0]="PAD_ENCODE",V[V.ASCII_ENCODE=1]="ASCII_ENCODE",V[V.C40_ENCODE=2]="C40_ENCODE",V[V.TEXT_ENCODE=3]="TEXT_ENCODE",V[V.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",V[V.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",V[V.BASE256_ENCODE=6]="BASE256_ENCODE"})(Tn||(Tn={}));class gs{static decode(a){const c=new uh(a),h=new Z,y=new Z,v=new Array;let w=Tn.ASCII_ENCODE;do if(w===Tn.ASCII_ENCODE)w=this.decodeAsciiSegment(c,h,y);else{switch(w){case Tn.C40_ENCODE:this.decodeC40Segment(c,h);break;case Tn.TEXT_ENCODE:this.decodeTextSegment(c,h);break;case Tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(c,h);break;case Tn.EDIFACT_ENCODE:this.decodeEdifactSegment(c,h);break;case Tn.BASE256_ENCODE:this.decodeBase256Segment(c,h,v);break;default:throw new B}w=Tn.ASCII_ENCODE}while(w!==Tn.PAD_ENCODE&&c.available()>0);return y.length()>0&&h.append(y.toString()),new Te(a,h.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(a,c,h){let y=!1;do{let v=a.readBits(8);if(v===0)throw new B;if(v<=128)return y&&(v+=128),c.append(String.fromCharCode(v-1)),Tn.ASCII_ENCODE;if(v===129)return Tn.PAD_ENCODE;if(v<=229){const w=v-130;w<10&&c.append("0"),c.append(""+w)}else switch(v){case 230:return Tn.C40_ENCODE;case 231:return Tn.BASE256_ENCODE;case 232:c.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:c.append("[)>05"),h.insert(0,"");break;case 237:c.append("[)>06"),h.insert(0,"");break;case 238:return Tn.ANSIX12_ENCODE;case 239:return Tn.TEXT_ENCODE;case 240:return Tn.EDIFACT_ENCODE;case 241:break;default:if(v!==254||a.available()!==0)throw new B;break}}while(a.available()>0);return Tn.ASCII_ENCODE}static decodeC40Segment(a,c){let h=!1;const y=[];let v=0;do{if(a.available()===8)return;const w=a.readBits(8);if(w===254)return;this.parseTwoBytes(w,a.readBits(8),y);for(let S=0;S<3;S++){const O=y[S];switch(v){case 0:if(O<3)v=O+1;else if(O<this.C40_BASIC_SET_CHARS.length){const P=this.C40_BASIC_SET_CHARS[O];h?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):c.append(P)}else throw new B;break;case 1:h?(c.append(String.fromCharCode(O+128)),h=!1):c.append(String.fromCharCode(O)),v=0;break;case 2:if(O<this.C40_SHIFT2_SET_CHARS.length){const P=this.C40_SHIFT2_SET_CHARS[O];h?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):c.append(P)}else switch(O){case 27:c.append("");break;case 30:h=!0;break;default:throw new B}v=0;break;case 3:h?(c.append(String.fromCharCode(O+224)),h=!1):c.append(String.fromCharCode(O+96)),v=0;break;default:throw new B}}}while(a.available()>0)}static decodeTextSegment(a,c){let h=!1,y=[],v=0;do{if(a.available()===8)return;const w=a.readBits(8);if(w===254)return;this.parseTwoBytes(w,a.readBits(8),y);for(let S=0;S<3;S++){const O=y[S];switch(v){case 0:if(O<3)v=O+1;else if(O<this.TEXT_BASIC_SET_CHARS.length){const P=this.TEXT_BASIC_SET_CHARS[O];h?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):c.append(P)}else throw new B;break;case 1:h?(c.append(String.fromCharCode(O+128)),h=!1):c.append(String.fromCharCode(O)),v=0;break;case 2:if(O<this.TEXT_SHIFT2_SET_CHARS.length){const P=this.TEXT_SHIFT2_SET_CHARS[O];h?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):c.append(P)}else switch(O){case 27:c.append("");break;case 30:h=!0;break;default:throw new B}v=0;break;case 3:if(O<this.TEXT_SHIFT3_SET_CHARS.length){const P=this.TEXT_SHIFT3_SET_CHARS[O];h?(c.append(String.fromCharCode(P.charCodeAt(0)+128)),h=!1):c.append(P),v=0}else throw new B;break;default:throw new B}}}while(a.available()>0)}static decodeAnsiX12Segment(a,c){const h=[];do{if(a.available()===8)return;const y=a.readBits(8);if(y===254)return;this.parseTwoBytes(y,a.readBits(8),h);for(let v=0;v<3;v++){const w=h[v];switch(w){case 0:c.append("\r");break;case 1:c.append("*");break;case 2:c.append(">");break;case 3:c.append(" ");break;default:if(w<14)c.append(String.fromCharCode(w+44));else if(w<40)c.append(String.fromCharCode(w+51));else throw new B;break}}}while(a.available()>0)}static parseTwoBytes(a,c,h){let y=(a<<8)+c-1,v=Math.floor(y/1600);h[0]=v,y-=v*1600,v=Math.floor(y/40),h[1]=v,h[2]=y-v*40}static decodeEdifactSegment(a,c){do{if(a.available()<=16)return;for(let h=0;h<4;h++){let y=a.readBits(6);if(y===31){const v=8-a.getBitOffset();v!==8&&a.readBits(v);return}(y&32)===0&&(y|=64),c.append(String.fromCharCode(y))}}while(a.available()>0)}static decodeBase256Segment(a,c,h){let y=1+a.getByteOffset();const v=this.unrandomize255State(a.readBits(8),y++);let w;if(v===0?w=a.available()/8|0:v<250?w=v:w=250*(v-249)+this.unrandomize255State(a.readBits(8),y++),w<0)throw new B;const S=new Uint8Array(w);for(let O=0;O<w;O++){if(a.available()<8)throw new B;S[O]=this.unrandomize255State(a.readBits(8),y++)}h.push(S);try{c.append(K.decode(S,W.ISO88591))}catch(O){throw new Oe("Platform does not support required encoding: "+O.message)}}static unrandomize255State(a,c){const h=149*c%255+1,y=a-h;return y>=0?y:y+256}}gs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],gs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],gs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],gs.TEXT_SHIFT2_SET_CHARS=gs.C40_SHIFT2_SET_CHARS,gs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ku{constructor(){this.rsDecoder=new Ke(tt.DATA_MATRIX_FIELD_256)}decode(a){const c=new Vi(a),h=c.getVersion(),y=c.readCodewords(),v=ch.getDataBlocks(y,h);let w=0;for(let P of v)w+=P.getNumDataCodewords();const S=new Uint8Array(w),O=v.length;for(let P=0;P<O;P++){const U=v[P],q=U.getCodewords(),X=U.getNumDataCodewords();this.correctErrors(q,X);for(let re=0;re<X;re++)S[re*O+P]=q[re]}return gs.decode(S)}correctErrors(a,c){const h=new Int32Array(a);try{this.rsDecoder.decode(h,a.length-c)}catch{throw new T}for(let y=0;y<c;y++)a[y]=h[y]}}class Fr{constructor(a){this.image=a,this.rectangleDetector=new Ae(this.image)}detect(){const a=this.rectangleDetector.detect();let c=this.detectSolid1(a);if(c=this.detectSolid2(c),c[3]=this.correctTopRight(c),!c[3])throw new Y;c=this.shiftToModuleCenter(c);const h=c[0],y=c[1],v=c[2],w=c[3];let S=this.transitionsBetween(h,w)+1,O=this.transitionsBetween(v,w)+1;(S&1)===1&&(S+=1),(O&1)===1&&(O+=1),4*S<7*O&&4*O<7*S&&(S=O=Math.max(S,O));let P=Fr.sampleGrid(this.image,h,y,v,w,S,O);return new le(P,[h,y,v,w])}static shiftPoint(a,c,h){let y=(c.getX()-a.getX())/(h+1),v=(c.getY()-a.getY())/(h+1);return new Fe(a.getX()+y,a.getY()+v)}static moveAway(a,c,h){let y=a.getX(),v=a.getY();return y<c?y-=1:y+=1,v<h?v-=1:v+=1,new Fe(y,v)}detectSolid1(a){let c=a[0],h=a[1],y=a[3],v=a[2],w=this.transitionsBetween(c,h),S=this.transitionsBetween(h,y),O=this.transitionsBetween(y,v),P=this.transitionsBetween(v,c),U=w,q=[v,c,h,y];return U>S&&(U=S,q[0]=c,q[1]=h,q[2]=y,q[3]=v),U>O&&(U=O,q[0]=h,q[1]=y,q[2]=v,q[3]=c),U>P&&(q[0]=y,q[1]=v,q[2]=c,q[3]=h),q}detectSolid2(a){let c=a[0],h=a[1],y=a[2],v=a[3],w=this.transitionsBetween(c,v),S=Fr.shiftPoint(h,y,(w+1)*4),O=Fr.shiftPoint(y,h,(w+1)*4),P=this.transitionsBetween(S,c),U=this.transitionsBetween(O,v);return P<U?(a[0]=c,a[1]=h,a[2]=y,a[3]=v):(a[0]=h,a[1]=y,a[2]=v,a[3]=c),a}correctTopRight(a){let c=a[0],h=a[1],y=a[2],v=a[3],w=this.transitionsBetween(c,v),S=this.transitionsBetween(h,v),O=Fr.shiftPoint(c,h,(S+1)*4),P=Fr.shiftPoint(y,h,(w+1)*4);w=this.transitionsBetween(O,v),S=this.transitionsBetween(P,v);let U=new Fe(v.getX()+(y.getX()-h.getX())/(w+1),v.getY()+(y.getY()-h.getY())/(w+1)),q=new Fe(v.getX()+(c.getX()-h.getX())/(S+1),v.getY()+(c.getY()-h.getY())/(S+1));if(!this.isValid(U))return this.isValid(q)?q:null;if(!this.isValid(q))return U;let X=this.transitionsBetween(O,U)+this.transitionsBetween(P,U),re=this.transitionsBetween(O,q)+this.transitionsBetween(P,q);return X>re?U:q}shiftToModuleCenter(a){let c=a[0],h=a[1],y=a[2],v=a[3],w=this.transitionsBetween(c,v)+1,S=this.transitionsBetween(y,v)+1,O=Fr.shiftPoint(c,h,S*4),P=Fr.shiftPoint(y,h,w*4);w=this.transitionsBetween(O,v)+1,S=this.transitionsBetween(P,v)+1,(w&1)===1&&(w+=1),(S&1)===1&&(S+=1);let U=(c.getX()+h.getX()+y.getX()+v.getX())/4,q=(c.getY()+h.getY()+y.getY()+v.getY())/4;c=Fr.moveAway(c,U,q),h=Fr.moveAway(h,U,q),y=Fr.moveAway(y,U,q),v=Fr.moveAway(v,U,q);let X,re;return O=Fr.shiftPoint(c,h,S*4),O=Fr.shiftPoint(O,v,w*4),X=Fr.shiftPoint(h,c,S*4),X=Fr.shiftPoint(X,y,w*4),P=Fr.shiftPoint(y,v,S*4),P=Fr.shiftPoint(P,h,w*4),re=Fr.shiftPoint(v,y,S*4),re=Fr.shiftPoint(re,c,w*4),[O,X,P,re]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,c,h,y,v,w,S){return it.getInstance().sampleGrid(a,w,S,.5,.5,w-.5,.5,w-.5,S-.5,.5,S-.5,c.getX(),c.getY(),v.getX(),v.getY(),y.getX(),y.getY(),h.getX(),h.getY())}transitionsBetween(a,c){let h=Math.trunc(a.getX()),y=Math.trunc(a.getY()),v=Math.trunc(c.getX()),w=Math.trunc(c.getY()),S=Math.abs(w-y)>Math.abs(v-h);if(S){let he=h;h=y,y=he,he=v,v=w,w=he}let O=Math.abs(v-h),P=Math.abs(w-y),U=-O/2,q=y<w?1:-1,X=h<v?1:-1,re=0,de=this.image.get(S?y:h,S?h:y);for(let he=h,ge=y;he!==v;he+=X){let _e=this.image.get(S?ge:he,S?he:ge);if(_e!==de&&(re++,de=_e),U+=P,U>0){if(ge===w)break;ge+=q,U-=O}}return re}}class ys{constructor(){this.decoder=new ku}decode(a,c=null){let h,y;if(c!=null&&c.has($.PURE_BARCODE)){const P=ys.extractPureBits(a.getBlackMatrix());h=this.decoder.decode(P),y=ys.NO_POINTS}else{const P=new Fr(a.getBlackMatrix()).detect();h=this.decoder.decode(P.getBits()),y=P.getPoints()}const v=h.getRawBytes(),w=new Pe(h.getText(),v,8*v.length,y,Ie.DATA_MATRIX,E.currentTimeMillis()),S=h.getByteSegments();S!=null&&w.putMetadata(Be.BYTE_SEGMENTS,S);const O=h.getECLevel();return O!=null&&w.putMetadata(Be.ERROR_CORRECTION_LEVEL,O),w}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),h=a.getBottomRightOnBit();if(c==null||h==null)throw new Y;const y=this.moduleSize(c,a);let v=c[1];const w=h[1];let S=c[0];const P=(h[0]-S+1)/y,U=(w-v+1)/y;if(P<=0||U<=0)throw new Y;const q=y/2;v+=q,S+=q;const X=new Q(P,U);for(let re=0;re<U;re++){const de=v+re*y;for(let he=0;he<P;he++)a.get(S+he*y,de)&&X.set(he,re)}return X}static moduleSize(a,c){const h=c.getWidth();let y=a[0];const v=a[1];for(;y<h&&c.get(y,v);)y++;if(y===h)throw new Y;const w=y-a[0];if(w===0)throw new Y;return w}}ys.NO_POINTS=[];class Hv extends be{constructor(a=500){super(new ys,a)}}var ll;(function(V){V[V.L=0]="L",V[V.M=1]="M",V[V.Q=2]="Q",V[V.H=3]="H"})(ll||(ll={}));class br{constructor(a,c,h){this.value=a,this.stringValue=c,this.bits=h,br.FOR_BITS.set(h,this),br.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return br.L;case"M":return br.M;case"Q":return br.Q;case"H":return br.H;default:throw new g(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof br))return!1;const c=a;return this.value===c.value}static forBits(a){if(a<0||a>=br.FOR_BITS.size)throw new x;return br.FOR_BITS.get(a)}}br.FOR_BITS=new Map,br.FOR_VALUE=new Map,br.L=new br(ll.L,"L",1),br.M=new br(ll.M,"M",0),br.Q=new br(ll.Q,"Q",3),br.H=new br(ll.H,"H",2);class Vn{constructor(a){this.errorCorrectionLevel=br.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,c){return I.bitCount(a^c)}static decodeFormatInformation(a,c){const h=Vn.doDecodeFormatInformation(a,c);return h!==null?h:Vn.doDecodeFormatInformation(a^Vn.FORMAT_INFO_MASK_QR,c^Vn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,c){let h=Number.MAX_SAFE_INTEGER,y=0;for(const v of Vn.FORMAT_INFO_DECODE_LOOKUP){const w=v[0];if(w===a||w===c)return new Vn(v[1]);let S=Vn.numBitsDiffering(a,w);S<h&&(y=v[1],h=S),a!==c&&(S=Vn.numBitsDiffering(c,w),S<h&&(y=v[1],h=S))}return h<=3?new Vn(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof Vn))return!1;const c=a;return this.errorCorrectionLevel===c.errorCorrectionLevel&&this.dataMask===c.dataMask}}Vn.FORMAT_INFO_MASK_QR=21522,Vn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ye{constructor(a,...c){this.ecCodewordsPerBlock=a,this.ecBlocks=c}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const c=this.ecBlocks;for(const h of c)a+=h.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ee{constructor(a,c){this.count=a,this.dataCodewords=c}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class bt{constructor(a,c,...h){this.versionNumber=a,this.alignmentPatternCenters=c,this.ecBlocks=h;let y=0;const v=h[0].getECCodewordsPerBlock(),w=h[0].getECBlocks();for(const S of w)y+=S.getCount()*(S.getDataCodewords()+v);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new B;try{return this.getVersionForNumber((a-17)/4)}catch{throw new B}}static getVersionForNumber(a){if(a<1||a>40)throw new x;return bt.VERSIONS[a-1]}static decodeVersionInformation(a){let c=Number.MAX_SAFE_INTEGER,h=0;for(let y=0;y<bt.VERSION_DECODE_INFO.length;y++){const v=bt.VERSION_DECODE_INFO[y];if(v===a)return bt.getVersionForNumber(y+7);const w=Vn.numBitsDiffering(a,v);w<c&&(h=y+7,c=w)}return c<=3?bt.getVersionForNumber(h):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),c=new Q(a);c.setRegion(0,0,9,9),c.setRegion(a-8,0,8,9),c.setRegion(0,a-8,9,8);const h=this.alignmentPatternCenters.length;for(let y=0;y<h;y++){const v=this.alignmentPatternCenters[y]-2;for(let w=0;w<h;w++)y===0&&(w===0||w===h-1)||y===h-1&&w===0||c.setRegion(this.alignmentPatternCenters[w]-2,v,5,5)}return c.setRegion(6,9,1,a-17),c.setRegion(9,6,a-17,1),this.versionNumber>6&&(c.setRegion(a-11,0,3,6),c.setRegion(0,a-11,6,3)),c}toString(){return""+this.versionNumber}}bt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),bt.VERSIONS=[new bt(1,new Int32Array(0),new ye(7,new ee(1,19)),new ye(10,new ee(1,16)),new ye(13,new ee(1,13)),new ye(17,new ee(1,9))),new bt(2,Int32Array.from([6,18]),new ye(10,new ee(1,34)),new ye(16,new ee(1,28)),new ye(22,new ee(1,22)),new ye(28,new ee(1,16))),new bt(3,Int32Array.from([6,22]),new ye(15,new ee(1,55)),new ye(26,new ee(1,44)),new ye(18,new ee(2,17)),new ye(22,new ee(2,13))),new bt(4,Int32Array.from([6,26]),new ye(20,new ee(1,80)),new ye(18,new ee(2,32)),new ye(26,new ee(2,24)),new ye(16,new ee(4,9))),new bt(5,Int32Array.from([6,30]),new ye(26,new ee(1,108)),new ye(24,new ee(2,43)),new ye(18,new ee(2,15),new ee(2,16)),new ye(22,new ee(2,11),new ee(2,12))),new bt(6,Int32Array.from([6,34]),new ye(18,new ee(2,68)),new ye(16,new ee(4,27)),new ye(24,new ee(4,19)),new ye(28,new ee(4,15))),new bt(7,Int32Array.from([6,22,38]),new ye(20,new ee(2,78)),new ye(18,new ee(4,31)),new ye(18,new ee(2,14),new ee(4,15)),new ye(26,new ee(4,13),new ee(1,14))),new bt(8,Int32Array.from([6,24,42]),new ye(24,new ee(2,97)),new ye(22,new ee(2,38),new ee(2,39)),new ye(22,new ee(4,18),new ee(2,19)),new ye(26,new ee(4,14),new ee(2,15))),new bt(9,Int32Array.from([6,26,46]),new ye(30,new ee(2,116)),new ye(22,new ee(3,36),new ee(2,37)),new ye(20,new ee(4,16),new ee(4,17)),new ye(24,new ee(4,12),new ee(4,13))),new bt(10,Int32Array.from([6,28,50]),new ye(18,new ee(2,68),new ee(2,69)),new ye(26,new ee(4,43),new ee(1,44)),new ye(24,new ee(6,19),new ee(2,20)),new ye(28,new ee(6,15),new ee(2,16))),new bt(11,Int32Array.from([6,30,54]),new ye(20,new ee(4,81)),new ye(30,new ee(1,50),new ee(4,51)),new ye(28,new ee(4,22),new ee(4,23)),new ye(24,new ee(3,12),new ee(8,13))),new bt(12,Int32Array.from([6,32,58]),new ye(24,new ee(2,92),new ee(2,93)),new ye(22,new ee(6,36),new ee(2,37)),new ye(26,new ee(4,20),new ee(6,21)),new ye(28,new ee(7,14),new ee(4,15))),new bt(13,Int32Array.from([6,34,62]),new ye(26,new ee(4,107)),new ye(22,new ee(8,37),new ee(1,38)),new ye(24,new ee(8,20),new ee(4,21)),new ye(22,new ee(12,11),new ee(4,12))),new bt(14,Int32Array.from([6,26,46,66]),new ye(30,new ee(3,115),new ee(1,116)),new ye(24,new ee(4,40),new ee(5,41)),new ye(20,new ee(11,16),new ee(5,17)),new ye(24,new ee(11,12),new ee(5,13))),new bt(15,Int32Array.from([6,26,48,70]),new ye(22,new ee(5,87),new ee(1,88)),new ye(24,new ee(5,41),new ee(5,42)),new ye(30,new ee(5,24),new ee(7,25)),new ye(24,new ee(11,12),new ee(7,13))),new bt(16,Int32Array.from([6,26,50,74]),new ye(24,new ee(5,98),new ee(1,99)),new ye(28,new ee(7,45),new ee(3,46)),new ye(24,new ee(15,19),new ee(2,20)),new ye(30,new ee(3,15),new ee(13,16))),new bt(17,Int32Array.from([6,30,54,78]),new ye(28,new ee(1,107),new ee(5,108)),new ye(28,new ee(10,46),new ee(1,47)),new ye(28,new ee(1,22),new ee(15,23)),new ye(28,new ee(2,14),new ee(17,15))),new bt(18,Int32Array.from([6,30,56,82]),new ye(30,new ee(5,120),new ee(1,121)),new ye(26,new ee(9,43),new ee(4,44)),new ye(28,new ee(17,22),new ee(1,23)),new ye(28,new ee(2,14),new ee(19,15))),new bt(19,Int32Array.from([6,30,58,86]),new ye(28,new ee(3,113),new ee(4,114)),new ye(26,new ee(3,44),new ee(11,45)),new ye(26,new ee(17,21),new ee(4,22)),new ye(26,new ee(9,13),new ee(16,14))),new bt(20,Int32Array.from([6,34,62,90]),new ye(28,new ee(3,107),new ee(5,108)),new ye(26,new ee(3,41),new ee(13,42)),new ye(30,new ee(15,24),new ee(5,25)),new ye(28,new ee(15,15),new ee(10,16))),new bt(21,Int32Array.from([6,28,50,72,94]),new ye(28,new ee(4,116),new ee(4,117)),new ye(26,new ee(17,42)),new ye(28,new ee(17,22),new ee(6,23)),new ye(30,new ee(19,16),new ee(6,17))),new bt(22,Int32Array.from([6,26,50,74,98]),new ye(28,new ee(2,111),new ee(7,112)),new ye(28,new ee(17,46)),new ye(30,new ee(7,24),new ee(16,25)),new ye(24,new ee(34,13))),new bt(23,Int32Array.from([6,30,54,78,102]),new ye(30,new ee(4,121),new ee(5,122)),new ye(28,new ee(4,47),new ee(14,48)),new ye(30,new ee(11,24),new ee(14,25)),new ye(30,new ee(16,15),new ee(14,16))),new bt(24,Int32Array.from([6,28,54,80,106]),new ye(30,new ee(6,117),new ee(4,118)),new ye(28,new ee(6,45),new ee(14,46)),new ye(30,new ee(11,24),new ee(16,25)),new ye(30,new ee(30,16),new ee(2,17))),new bt(25,Int32Array.from([6,32,58,84,110]),new ye(26,new ee(8,106),new ee(4,107)),new ye(28,new ee(8,47),new ee(13,48)),new ye(30,new ee(7,24),new ee(22,25)),new ye(30,new ee(22,15),new ee(13,16))),new bt(26,Int32Array.from([6,30,58,86,114]),new ye(28,new ee(10,114),new ee(2,115)),new ye(28,new ee(19,46),new ee(4,47)),new ye(28,new ee(28,22),new ee(6,23)),new ye(30,new ee(33,16),new ee(4,17))),new bt(27,Int32Array.from([6,34,62,90,118]),new ye(30,new ee(8,122),new ee(4,123)),new ye(28,new ee(22,45),new ee(3,46)),new ye(30,new ee(8,23),new ee(26,24)),new ye(30,new ee(12,15),new ee(28,16))),new bt(28,Int32Array.from([6,26,50,74,98,122]),new ye(30,new ee(3,117),new ee(10,118)),new ye(28,new ee(3,45),new ee(23,46)),new ye(30,new ee(4,24),new ee(31,25)),new ye(30,new ee(11,15),new ee(31,16))),new bt(29,Int32Array.from([6,30,54,78,102,126]),new ye(30,new ee(7,116),new ee(7,117)),new ye(28,new ee(21,45),new ee(7,46)),new ye(30,new ee(1,23),new ee(37,24)),new ye(30,new ee(19,15),new ee(26,16))),new bt(30,Int32Array.from([6,26,52,78,104,130]),new ye(30,new ee(5,115),new ee(10,116)),new ye(28,new ee(19,47),new ee(10,48)),new ye(30,new ee(15,24),new ee(25,25)),new ye(30,new ee(23,15),new ee(25,16))),new bt(31,Int32Array.from([6,30,56,82,108,134]),new ye(30,new ee(13,115),new ee(3,116)),new ye(28,new ee(2,46),new ee(29,47)),new ye(30,new ee(42,24),new ee(1,25)),new ye(30,new ee(23,15),new ee(28,16))),new bt(32,Int32Array.from([6,34,60,86,112,138]),new ye(30,new ee(17,115)),new ye(28,new ee(10,46),new ee(23,47)),new ye(30,new ee(10,24),new ee(35,25)),new ye(30,new ee(19,15),new ee(35,16))),new bt(33,Int32Array.from([6,30,58,86,114,142]),new ye(30,new ee(17,115),new ee(1,116)),new ye(28,new ee(14,46),new ee(21,47)),new ye(30,new ee(29,24),new ee(19,25)),new ye(30,new ee(11,15),new ee(46,16))),new bt(34,Int32Array.from([6,34,62,90,118,146]),new ye(30,new ee(13,115),new ee(6,116)),new ye(28,new ee(14,46),new ee(23,47)),new ye(30,new ee(44,24),new ee(7,25)),new ye(30,new ee(59,16),new ee(1,17))),new bt(35,Int32Array.from([6,30,54,78,102,126,150]),new ye(30,new ee(12,121),new ee(7,122)),new ye(28,new ee(12,47),new ee(26,48)),new ye(30,new ee(39,24),new ee(14,25)),new ye(30,new ee(22,15),new ee(41,16))),new bt(36,Int32Array.from([6,24,50,76,102,128,154]),new ye(30,new ee(6,121),new ee(14,122)),new ye(28,new ee(6,47),new ee(34,48)),new ye(30,new ee(46,24),new ee(10,25)),new ye(30,new ee(2,15),new ee(64,16))),new bt(37,Int32Array.from([6,28,54,80,106,132,158]),new ye(30,new ee(17,122),new ee(4,123)),new ye(28,new ee(29,46),new ee(14,47)),new ye(30,new ee(49,24),new ee(10,25)),new ye(30,new ee(24,15),new ee(46,16))),new bt(38,Int32Array.from([6,32,58,84,110,136,162]),new ye(30,new ee(4,122),new ee(18,123)),new ye(28,new ee(13,46),new ee(32,47)),new ye(30,new ee(48,24),new ee(14,25)),new ye(30,new ee(42,15),new ee(32,16))),new bt(39,Int32Array.from([6,26,54,82,110,138,166]),new ye(30,new ee(20,117),new ee(4,118)),new ye(28,new ee(40,47),new ee(7,48)),new ye(30,new ee(43,24),new ee(22,25)),new ye(30,new ee(10,15),new ee(67,16))),new bt(40,Int32Array.from([6,30,58,86,114,142,170]),new ye(30,new ee(19,118),new ee(6,119)),new ye(28,new ee(18,47),new ee(31,48)),new ye(30,new ee(34,24),new ee(34,25)),new ye(30,new ee(20,15),new ee(61,16)))];var xn;(function(V){V[V.DATA_MASK_000=0]="DATA_MASK_000",V[V.DATA_MASK_001=1]="DATA_MASK_001",V[V.DATA_MASK_010=2]="DATA_MASK_010",V[V.DATA_MASK_011=3]="DATA_MASK_011",V[V.DATA_MASK_100=4]="DATA_MASK_100",V[V.DATA_MASK_101=5]="DATA_MASK_101",V[V.DATA_MASK_110=6]="DATA_MASK_110",V[V.DATA_MASK_111=7]="DATA_MASK_111"})(xn||(xn={}));class Xt{constructor(a,c){this.value=a,this.isMasked=c}unmaskBitMatrix(a,c){for(let h=0;h<c;h++)for(let y=0;y<c;y++)this.isMasked(h,y)&&a.flip(y,h)}}Xt.values=new Map([[xn.DATA_MASK_000,new Xt(xn.DATA_MASK_000,(V,a)=>(V+a&1)===0)],[xn.DATA_MASK_001,new Xt(xn.DATA_MASK_001,(V,a)=>(V&1)===0)],[xn.DATA_MASK_010,new Xt(xn.DATA_MASK_010,(V,a)=>a%3===0)],[xn.DATA_MASK_011,new Xt(xn.DATA_MASK_011,(V,a)=>(V+a)%3===0)],[xn.DATA_MASK_100,new Xt(xn.DATA_MASK_100,(V,a)=>(Math.floor(V/2)+Math.floor(a/3)&1)===0)],[xn.DATA_MASK_101,new Xt(xn.DATA_MASK_101,(V,a)=>V*a%6===0)],[xn.DATA_MASK_110,new Xt(xn.DATA_MASK_110,(V,a)=>V*a%6<3)],[xn.DATA_MASK_111,new Xt(xn.DATA_MASK_111,(V,a)=>(V+a+V*a%3&1)===0)]]);class dg{constructor(a){const c=a.getHeight();if(c<21||(c&3)!==1)throw new B;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let v=0;v<6;v++)a=this.copyBit(v,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let v=5;v>=0;v--)a=this.copyBit(8,v,a);const c=this.bitMatrix.getHeight();let h=0;const y=c-7;for(let v=c-1;v>=y;v--)h=this.copyBit(8,v,h);for(let v=c-8;v<c;v++)h=this.copyBit(v,8,h);if(this.parsedFormatInfo=Vn.decodeFormatInformation(a,h),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),c=Math.floor((a-17)/4);if(c<=6)return bt.getVersionForNumber(c);let h=0;const y=a-11;for(let w=5;w>=0;w--)for(let S=a-9;S>=y;S--)h=this.copyBit(S,w,h);let v=bt.decodeVersionInformation(h);if(v!==null&&v.getDimensionForVersion()===a)return this.parsedVersion=v,v;h=0;for(let w=5;w>=0;w--)for(let S=a-9;S>=y;S--)h=this.copyBit(w,S,h);if(v=bt.decodeVersionInformation(h),v!==null&&v.getDimensionForVersion()===a)return this.parsedVersion=v,v;throw new B}copyBit(a,c,h){return(this.isMirror?this.bitMatrix.get(c,a):this.bitMatrix.get(a,c))?h<<1|1:h<<1}readCodewords(){const a=this.readFormatInformation(),c=this.readVersion(),h=Xt.values.get(a.getDataMask()),y=this.bitMatrix.getHeight();h.unmaskBitMatrix(this.bitMatrix,y);const v=c.buildFunctionPattern();let w=!0;const S=new Uint8Array(c.getTotalCodewords());let O=0,P=0,U=0;for(let q=y-1;q>0;q-=2){q===6&&q--;for(let X=0;X<y;X++){const re=w?y-1-X:X;for(let de=0;de<2;de++)v.get(q-de,re)||(U++,P<<=1,this.bitMatrix.get(q-de,re)&&(P|=1),U===8&&(S[O++]=P,U=0,P=0))}w=!w}if(O!==c.getTotalCodewords())throw new B;return S}remask(){if(this.parsedFormatInfo===null)return;const a=Xt.values[this.parsedFormatInfo.getDataMask()],c=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,c)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let c=0,h=a.getWidth();c<h;c++)for(let y=c+1,v=a.getHeight();y<v;y++)a.get(c,y)!==a.get(y,c)&&(a.flip(y,c),a.flip(c,y))}}class Mu{constructor(a,c){this.numDataCodewords=a,this.codewords=c}static getDataBlocks(a,c,h){if(a.length!==c.getTotalCodewords())throw new x;const y=c.getECBlocksForLevel(h);let v=0;const w=y.getECBlocks();for(const de of w)v+=de.getCount();const S=new Array(v);let O=0;for(const de of w)for(let he=0;he<de.getCount();he++){const ge=de.getDataCodewords(),_e=y.getECCodewordsPerBlock()+ge;S[O++]=new Mu(ge,new Uint8Array(_e))}const P=S[0].codewords.length;let U=S.length-1;for(;U>=0&&S[U].codewords.length!==P;)U--;U++;const q=P-y.getECCodewordsPerBlock();let X=0;for(let de=0;de<q;de++)for(let he=0;he<O;he++)S[he].codewords[de]=a[X++];for(let de=U;de<O;de++)S[de].codewords[q]=a[X++];const re=S[0].codewords.length;for(let de=q;de<re;de++)for(let he=0;he<O;he++){const ge=he<U?de:de+1;S[he].codewords[ge]=a[X++]}return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Pi;(function(V){V[V.TERMINATOR=0]="TERMINATOR",V[V.NUMERIC=1]="NUMERIC",V[V.ALPHANUMERIC=2]="ALPHANUMERIC",V[V.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",V[V.BYTE=4]="BYTE",V[V.ECI=5]="ECI",V[V.KANJI=6]="KANJI",V[V.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",V[V.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",V[V.HANZI=9]="HANZI"})(Pi||(Pi={}));class At{constructor(a,c,h,y){this.value=a,this.stringValue=c,this.characterCountBitsForVersions=h,this.bits=y,At.FOR_BITS.set(y,this),At.FOR_VALUE.set(a,this)}static forBits(a){const c=At.FOR_BITS.get(a);if(c===void 0)throw new x;return c}getCharacterCountBits(a){const c=a.getVersionNumber();let h;return c<=9?h=0:c<=26?h=1:h=2,this.characterCountBitsForVersions[h]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof At))return!1;const c=a;return this.value===c.value}toString(){return this.stringValue}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.TERMINATOR=new At(Pi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),At.NUMERIC=new At(Pi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),At.ALPHANUMERIC=new At(Pi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),At.STRUCTURED_APPEND=new At(Pi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),At.BYTE=new At(Pi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),At.ECI=new At(Pi.ECI,"ECI",Int32Array.from([0,0,0]),7),At.KANJI=new At(Pi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),At.FNC1_FIRST_POSITION=new At(Pi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),At.FNC1_SECOND_POSITION=new At(Pi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),At.HANZI=new At(Pi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Vr{static decode(a,c,h,y){const v=new uh(a);let w=new Z;const S=new Array;let O=-1,P=-1;try{let U=null,q=!1,X;do{if(v.available()<4)X=At.TERMINATOR;else{const re=v.readBits(4);X=At.forBits(re)}switch(X){case At.TERMINATOR:break;case At.FNC1_FIRST_POSITION:case At.FNC1_SECOND_POSITION:q=!0;break;case At.STRUCTURED_APPEND:if(v.available()<16)throw new B;O=v.readBits(8),P=v.readBits(8);break;case At.ECI:const re=Vr.parseECIValue(v);if(U=H.getCharacterSetECIByValue(re),U===null)throw new B;break;case At.HANZI:const de=v.readBits(4),he=v.readBits(X.getCharacterCountBits(c));de===Vr.GB2312_SUBSET&&Vr.decodeHanziSegment(v,w,he);break;default:const ge=v.readBits(X.getCharacterCountBits(c));switch(X){case At.NUMERIC:Vr.decodeNumericSegment(v,w,ge);break;case At.ALPHANUMERIC:Vr.decodeAlphanumericSegment(v,w,ge,q);break;case At.BYTE:Vr.decodeByteSegment(v,w,ge,U,S,y);break;case At.KANJI:Vr.decodeKanjiSegment(v,w,ge);break;default:throw new B}break}}while(X!==At.TERMINATOR)}catch{throw new B}return new Te(a,w.toString(),S.length===0?null:S,h===null?null:h.toString(),O,P)}static decodeHanziSegment(a,c,h){if(h*13>a.available())throw new B;const y=new Uint8Array(2*h);let v=0;for(;h>0;){const w=a.readBits(13);let S=w/96<<8&4294967295|w%96;S<959?S+=41377:S+=42657,y[v]=S>>8&255,y[v+1]=S&255,v+=2,h--}try{c.append(K.decode(y,W.GB2312))}catch(w){throw new B(w)}}static decodeKanjiSegment(a,c,h){if(h*13>a.available())throw new B;const y=new Uint8Array(2*h);let v=0;for(;h>0;){const w=a.readBits(13);let S=w/192<<8&4294967295|w%192;S<7936?S+=33088:S+=49472,y[v]=S>>8,y[v+1]=S,v+=2,h--}try{c.append(K.decode(y,W.SHIFT_JIS))}catch(w){throw new B(w)}}static decodeByteSegment(a,c,h,y,v,w){if(8*h>a.available())throw new B;const S=new Uint8Array(h);for(let P=0;P<h;P++)S[P]=a.readBits(8);let O;y===null?O=W.guessEncoding(S,w):O=y.getName();try{c.append(K.decode(S,O))}catch(P){throw new B(P)}v.push(S)}static toAlphaNumericChar(a){if(a>=Vr.ALPHANUMERIC_CHARS.length)throw new B;return Vr.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,c,h,y){const v=c.length();for(;h>1;){if(a.available()<11)throw new B;const w=a.readBits(11);c.append(Vr.toAlphaNumericChar(Math.floor(w/45))),c.append(Vr.toAlphaNumericChar(w%45)),h-=2}if(h===1){if(a.available()<6)throw new B;c.append(Vr.toAlphaNumericChar(a.readBits(6)))}if(y)for(let w=v;w<c.length();w++)c.charAt(w)==="%"&&(w<c.length()-1&&c.charAt(w+1)==="%"?c.deleteCharAt(w+1):c.setCharAt(w,""))}static decodeNumericSegment(a,c,h){for(;h>=3;){if(a.available()<10)throw new B;const y=a.readBits(10);if(y>=1e3)throw new B;c.append(Vr.toAlphaNumericChar(Math.floor(y/100))),c.append(Vr.toAlphaNumericChar(Math.floor(y/10)%10)),c.append(Vr.toAlphaNumericChar(y%10)),h-=3}if(h===2){if(a.available()<7)throw new B;const y=a.readBits(7);if(y>=100)throw new B;c.append(Vr.toAlphaNumericChar(Math.floor(y/10))),c.append(Vr.toAlphaNumericChar(y%10))}else if(h===1){if(a.available()<4)throw new B;const y=a.readBits(4);if(y>=10)throw new B;c.append(Vr.toAlphaNumericChar(y))}}static parseECIValue(a){const c=a.readBits(8);if((c&128)===0)return c&127;if((c&192)===128){const h=a.readBits(8);return(c&63)<<8&4294967295|h}if((c&224)===192){const h=a.readBits(16);return(c&31)<<16&4294967295|h}throw new B}}Vr.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Vr.GB2312_SUBSET=1;class dh{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const c=a[0];a[0]=a[2],a[2]=c}}class fh{constructor(){this.rsDecoder=new Ke(tt.QR_CODE_FIELD_256)}decodeBooleanArray(a,c){return this.decodeBitMatrix(Q.parseFromBooleanArray(a),c)}decodeBitMatrix(a,c){const h=new dg(a);let y=null;try{return this.decodeBitMatrixParser(h,c)}catch(v){y=v}try{h.remask(),h.setMirror(!0),h.readVersion(),h.readFormatInformation(),h.mirror();const v=this.decodeBitMatrixParser(h,c);return v.setOther(new dh(!0)),v}catch(v){throw y!==null?y:v}}decodeBitMatrixParser(a,c){const h=a.readVersion(),y=a.readFormatInformation().getErrorCorrectionLevel(),v=a.readCodewords(),w=Mu.getDataBlocks(v,h,y);let S=0;for(const U of w)S+=U.getNumDataCodewords();const O=new Uint8Array(S);let P=0;for(const U of w){const q=U.getCodewords(),X=U.getNumDataCodewords();this.correctErrors(q,X);for(let re=0;re<X;re++)O[P++]=q[re]}return Vr.decode(O,h,y,c)}correctErrors(a,c){const h=new Int32Array(a);try{this.rsDecoder.decode(h,a.length-c)}catch{throw new T}for(let y=0;y<c;y++)a[y]=h[y]}}class cl extends Fe{constructor(a,c,h){super(a,c),this.estimatedModuleSize=h}aboutEquals(a,c,h){if(Math.abs(c-this.getY())<=a&&Math.abs(h-this.getX())<=a){const y=Math.abs(a-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(a,c,h){const y=(this.getX()+c)/2,v=(this.getY()+a)/2,w=(this.estimatedModuleSize+h)/2;return new cl(y,v,w)}}class vs{constructor(a,c,h,y,v,w,S){this.image=a,this.startX=c,this.startY=h,this.width=y,this.height=v,this.moduleSize=w,this.resultPointCallback=S,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,c=this.height,h=this.width,y=a+h,v=this.startY+c/2,w=new Int32Array(3),S=this.image;for(let O=0;O<c;O++){const P=v+((O&1)===0?Math.floor((O+1)/2):-Math.floor((O+1)/2));w[0]=0,w[1]=0,w[2]=0;let U=a;for(;U<y&&!S.get(U,P);)U++;let q=0;for(;U<y;){if(S.get(U,P))if(q===1)w[1]++;else if(q===2){if(this.foundPatternCross(w)){const X=this.handlePossibleCenter(w,P,U);if(X!==null)return X}w[0]=w[2],w[1]=1,w[2]=0,q=1}else w[++q]++;else q===1&&q++,w[q]++;U++}if(this.foundPatternCross(w)){const X=this.handlePossibleCenter(w,P,y);if(X!==null)return X}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Y}static centerFromEnd(a,c){return c-a[2]-a[1]/2}foundPatternCross(a){const c=this.moduleSize,h=c/2;for(let y=0;y<3;y++)if(Math.abs(c-a[y])>=h)return!1;return!0}crossCheckVertical(a,c,h,y){const v=this.image,w=v.getHeight(),S=this.crossCheckStateCount;S[0]=0,S[1]=0,S[2]=0;let O=a;for(;O>=0&&v.get(c,O)&&S[1]<=h;)S[1]++,O--;if(O<0||S[1]>h)return NaN;for(;O>=0&&!v.get(c,O)&&S[0]<=h;)S[0]++,O--;if(S[0]>h)return NaN;for(O=a+1;O<w&&v.get(c,O)&&S[1]<=h;)S[1]++,O++;if(O===w||S[1]>h)return NaN;for(;O<w&&!v.get(c,O)&&S[2]<=h;)S[2]++,O++;if(S[2]>h)return NaN;const P=S[0]+S[1]+S[2];return 5*Math.abs(P-y)>=2*y?NaN:this.foundPatternCross(S)?vs.centerFromEnd(S,O):NaN}handlePossibleCenter(a,c,h){const y=a[0]+a[1]+a[2],v=vs.centerFromEnd(a,h),w=this.crossCheckVertical(c,v,2*a[1],y);if(!isNaN(w)){const S=(a[0]+a[1]+a[2])/3;for(const P of this.possibleCenters)if(P.aboutEquals(S,w,v))return P.combineEstimate(w,v,S);const O=new cl(v,w,S);this.possibleCenters.push(O),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(O)}return null}}class Vs extends Fe{constructor(a,c,h,y){super(a,c),this.estimatedModuleSize=h,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,c,h){if(Math.abs(c-this.getY())<=a&&Math.abs(h-this.getX())<=a){const y=Math.abs(a-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(a,c,h){const y=this.count+1,v=(this.count*this.getX()+c)/y,w=(this.count*this.getY()+a)/y,S=(this.count*this.estimatedModuleSize+h)/y;return new Vs(v,w,S,y)}}class Va{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class sn{constructor(a,c){this.image=a,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=c}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const c=a!=null&&a.get($.TRY_HARDER)!==void 0,h=a!=null&&a.get($.PURE_BARCODE)!==void 0,y=this.image,v=y.getHeight(),w=y.getWidth();let S=Math.floor(3*v/(4*sn.MAX_MODULES));(S<sn.MIN_SKIP||c)&&(S=sn.MIN_SKIP);let O=!1;const P=new Int32Array(5);for(let q=S-1;q<v&&!O;q+=S){P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0;let X=0;for(let re=0;re<w;re++)if(y.get(re,q))(X&1)===1&&X++,P[X]++;else if((X&1)===0)if(X===4)if(sn.foundPatternCross(P)){if(this.handlePossibleCenter(P,q,re,h)===!0)if(S=2,this.hasSkipped===!0)O=this.haveMultiplyConfirmedCenters();else{const he=this.findRowSkip();he>P[2]&&(q+=he-P[2]-S,re=w-1)}else{P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,X=3;continue}X=0,P[0]=0,P[1]=0,P[2]=0,P[3]=0,P[4]=0}else P[0]=P[2],P[1]=P[3],P[2]=P[4],P[3]=1,P[4]=0,X=3;else P[++X]++;else P[X]++;sn.foundPatternCross(P)&&this.handlePossibleCenter(P,q,w,h)===!0&&(S=P[0],this.hasSkipped&&(O=this.haveMultiplyConfirmedCenters()))}const U=this.selectBestPatterns();return Fe.orderBestPatterns(U),new Va(U)}static centerFromEnd(a,c){return c-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let c=0;for(let v=0;v<5;v++){const w=a[v];if(w===0)return!1;c+=w}if(c<7)return!1;const h=c/7,y=h/2;return Math.abs(h-a[0])<y&&Math.abs(h-a[1])<y&&Math.abs(3*h-a[2])<3*y&&Math.abs(h-a[3])<y&&Math.abs(h-a[4])<y}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,c,h,y){const v=this.getCrossCheckStateCount();let w=0;const S=this.image;for(;a>=w&&c>=w&&S.get(c-w,a-w);)v[2]++,w++;if(a<w||c<w)return!1;for(;a>=w&&c>=w&&!S.get(c-w,a-w)&&v[1]<=h;)v[1]++,w++;if(a<w||c<w||v[1]>h)return!1;for(;a>=w&&c>=w&&S.get(c-w,a-w)&&v[0]<=h;)v[0]++,w++;if(v[0]>h)return!1;const O=S.getHeight(),P=S.getWidth();for(w=1;a+w<O&&c+w<P&&S.get(c+w,a+w);)v[2]++,w++;if(a+w>=O||c+w>=P)return!1;for(;a+w<O&&c+w<P&&!S.get(c+w,a+w)&&v[3]<h;)v[3]++,w++;if(a+w>=O||c+w>=P||v[3]>=h)return!1;for(;a+w<O&&c+w<P&&S.get(c+w,a+w)&&v[4]<h;)v[4]++,w++;if(v[4]>=h)return!1;const U=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs(U-y)<2*y&&sn.foundPatternCross(v)}crossCheckVertical(a,c,h,y){const v=this.image,w=v.getHeight(),S=this.getCrossCheckStateCount();let O=a;for(;O>=0&&v.get(c,O);)S[2]++,O--;if(O<0)return NaN;for(;O>=0&&!v.get(c,O)&&S[1]<=h;)S[1]++,O--;if(O<0||S[1]>h)return NaN;for(;O>=0&&v.get(c,O)&&S[0]<=h;)S[0]++,O--;if(S[0]>h)return NaN;for(O=a+1;O<w&&v.get(c,O);)S[2]++,O++;if(O===w)return NaN;for(;O<w&&!v.get(c,O)&&S[3]<h;)S[3]++,O++;if(O===w||S[3]>=h)return NaN;for(;O<w&&v.get(c,O)&&S[4]<h;)S[4]++,O++;if(S[4]>=h)return NaN;const P=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(P-y)>=2*y?NaN:sn.foundPatternCross(S)?sn.centerFromEnd(S,O):NaN}crossCheckHorizontal(a,c,h,y){const v=this.image,w=v.getWidth(),S=this.getCrossCheckStateCount();let O=a;for(;O>=0&&v.get(O,c);)S[2]++,O--;if(O<0)return NaN;for(;O>=0&&!v.get(O,c)&&S[1]<=h;)S[1]++,O--;if(O<0||S[1]>h)return NaN;for(;O>=0&&v.get(O,c)&&S[0]<=h;)S[0]++,O--;if(S[0]>h)return NaN;for(O=a+1;O<w&&v.get(O,c);)S[2]++,O++;if(O===w)return NaN;for(;O<w&&!v.get(O,c)&&S[3]<h;)S[3]++,O++;if(O===w||S[3]>=h)return NaN;for(;O<w&&v.get(O,c)&&S[4]<h;)S[4]++,O++;if(S[4]>=h)return NaN;const P=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(P-y)>=y?NaN:sn.foundPatternCross(S)?sn.centerFromEnd(S,O):NaN}handlePossibleCenter(a,c,h,y){const v=a[0]+a[1]+a[2]+a[3]+a[4];let w=sn.centerFromEnd(a,h),S=this.crossCheckVertical(c,Math.floor(w),a[2],v);if(!isNaN(S)&&(w=this.crossCheckHorizontal(Math.floor(w),Math.floor(S),a[2],v),!isNaN(w)&&(!y||this.crossCheckDiagonal(Math.floor(S),Math.floor(w),a[2],v)))){const O=v/7;let P=!1;const U=this.possibleCenters;for(let q=0,X=U.length;q<X;q++){const re=U[q];if(re.aboutEquals(O,S,w)){U[q]=re.combineEstimate(S,w,O),P=!0;break}}if(!P){const q=new Vs(w,S,O);U.push(q),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(q)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let c=null;for(const h of this.possibleCenters)if(h.getCount()>=sn.CENTER_QUORUM)if(c==null)c=h;else return this.hasSkipped=!0,Math.floor((Math.abs(c.getX()-h.getX())-Math.abs(c.getY()-h.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,c=0;const h=this.possibleCenters.length;for(const w of this.possibleCenters)w.getCount()>=sn.CENTER_QUORUM&&(a++,c+=w.getEstimatedModuleSize());if(a<3)return!1;const y=c/h;let v=0;for(const w of this.possibleCenters)v+=Math.abs(w.getEstimatedModuleSize()-y);return v<=.05*c}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new Y;const c=this.possibleCenters;let h;if(a>3){let y=0,v=0;for(const O of this.possibleCenters){const P=O.getEstimatedModuleSize();y+=P,v+=P*P}h=y/a;let w=Math.sqrt(v/a-h*h);c.sort((O,P)=>{const U=Math.abs(P.getEstimatedModuleSize()-h),q=Math.abs(O.getEstimatedModuleSize()-h);return U<q?-1:U>q?1:0});const S=Math.max(.2*h,w);for(let O=0;O<c.length&&c.length>3;O++){const P=c[O];Math.abs(P.getEstimatedModuleSize()-h)>S&&(c.splice(O,1),O--)}}if(c.length>3){let y=0;for(const v of c)y+=v.getEstimatedModuleSize();h=y/c.length,c.sort((v,w)=>{if(w.getCount()===v.getCount()){const S=Math.abs(w.getEstimatedModuleSize()-h),O=Math.abs(v.getEstimatedModuleSize()-h);return S<O?1:S>O?-1:0}else return w.getCount()-v.getCount()}),c.splice(3)}return[c[0],c[1],c[2]]}}sn.CENTER_QUORUM=2,sn.MIN_SKIP=3,sn.MAX_MODULES=57;class ca{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get($.NEED_RESULT_POINT_CALLBACK);const h=new sn(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(h)}processFinderPatternInfo(a){const c=a.getTopLeft(),h=a.getTopRight(),y=a.getBottomLeft(),v=this.calculateModuleSize(c,h,y);if(v<1)throw new Y("No pattern found in proccess finder.");const w=ca.computeDimension(c,h,y,v),S=bt.getProvisionalVersionForDimension(w),O=S.getDimensionForVersion()-7;let P=null;if(S.getAlignmentPatternCenters().length>0){const re=h.getX()-c.getX()+y.getX(),de=h.getY()-c.getY()+y.getY(),he=1-3/O,ge=Math.floor(c.getX()+he*(re-c.getX())),_e=Math.floor(c.getY()+he*(de-c.getY()));for(let qe=4;qe<=16;qe<<=1)try{P=this.findAlignmentInRegion(v,ge,_e,qe);break}catch(He){if(!(He instanceof Y))throw He}}const U=ca.createTransform(c,h,y,P,w),q=ca.sampleGrid(this.image,U,w);let X;return P===null?X=[y,c,h]:X=[y,c,h,P],new le(q,X)}static createTransform(a,c,h,y,v){const w=v-3.5;let S,O,P,U;return y!==null?(S=y.getX(),O=y.getY(),P=w-3,U=P):(S=c.getX()-a.getX()+h.getX(),O=c.getY()-a.getY()+h.getY(),P=w,U=w),Ge.quadrilateralToQuadrilateral(3.5,3.5,w,3.5,P,U,3.5,w,a.getX(),a.getY(),c.getX(),c.getY(),S,O,h.getX(),h.getY())}static sampleGrid(a,c,h){return it.getInstance().sampleGridWithTransform(a,h,h,c)}static computeDimension(a,c,h,y){const v=dt.round(Fe.distance(a,c)/y),w=dt.round(Fe.distance(a,h)/y);let S=Math.floor((v+w)/2)+7;switch(S&3){case 0:S++;break;case 2:S--;break;case 3:throw new Y("Dimensions could be not found.")}return S}calculateModuleSize(a,c,h){return(this.calculateModuleSizeOneWay(a,c)+this.calculateModuleSizeOneWay(a,h))/2}calculateModuleSizeOneWay(a,c){const h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(c.getX()),Math.floor(c.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(h)?y/7:isNaN(y)?h/7:(h+y)/14}sizeOfBlackWhiteBlackRunBothWays(a,c,h,y){let v=this.sizeOfBlackWhiteBlackRun(a,c,h,y),w=1,S=a-(h-a);S<0?(w=a/(a-S),S=0):S>=this.image.getWidth()&&(w=(this.image.getWidth()-1-a)/(S-a),S=this.image.getWidth()-1);let O=Math.floor(c-(y-c)*w);return w=1,O<0?(w=c/(c-O),O=0):O>=this.image.getHeight()&&(w=(this.image.getHeight()-1-c)/(O-c),O=this.image.getHeight()-1),S=Math.floor(a+(S-a)*w),v+=this.sizeOfBlackWhiteBlackRun(a,c,S,O),v-1}sizeOfBlackWhiteBlackRun(a,c,h,y){const v=Math.abs(y-c)>Math.abs(h-a);if(v){let re=a;a=c,c=re,re=h,h=y,y=re}const w=Math.abs(h-a),S=Math.abs(y-c);let O=-w/2;const P=a<h?1:-1,U=c<y?1:-1;let q=0;const X=h+P;for(let re=a,de=c;re!==X;re+=P){const he=v?de:re,ge=v?re:de;if(q===1===this.image.get(he,ge)){if(q===2)return dt.distance(re,de,a,c);q++}if(O+=S,O>0){if(de===y)break;de+=U,O-=w}}return q===2?dt.distance(h+P,y,a,c):NaN}findAlignmentInRegion(a,c,h,y){const v=Math.floor(y*a),w=Math.max(0,c-v),S=Math.min(this.image.getWidth()-1,c+v);if(S-w<a*3)throw new Y("Alignment top exceeds estimated module size.");const O=Math.max(0,h-v),P=Math.min(this.image.getHeight()-1,h+v);if(P-O<a*3)throw new Y("Alignment bottom exceeds estimated module size.");return new vs(this.image,w,O,S-w,P-O,a,this.resultPointCallback).find()}}class yi{constructor(){this.decoder=new fh}getDecoder(){return this.decoder}decode(a,c){let h,y;if(c!=null&&c.get($.PURE_BARCODE)!==void 0){const O=yi.extractPureBits(a.getBlackMatrix());h=this.decoder.decodeBitMatrix(O,c),y=yi.NO_POINTS}else{const O=new ca(a.getBlackMatrix()).detect(c);h=this.decoder.decodeBitMatrix(O.getBits(),c),y=O.getPoints()}h.getOther()instanceof dh&&h.getOther().applyMirroredCorrection(y);const v=new Pe(h.getText(),h.getRawBytes(),void 0,y,Ie.QR_CODE,void 0),w=h.getByteSegments();w!==null&&v.putMetadata(Be.BYTE_SEGMENTS,w);const S=h.getECLevel();return S!==null&&v.putMetadata(Be.ERROR_CORRECTION_LEVEL,S),h.hasStructuredAppend()&&(v.putMetadata(Be.STRUCTURED_APPEND_SEQUENCE,h.getStructuredAppendSequenceNumber()),v.putMetadata(Be.STRUCTURED_APPEND_PARITY,h.getStructuredAppendParity())),v}reset(){}static extractPureBits(a){const c=a.getTopLeftOnBit(),h=a.getBottomRightOnBit();if(c===null||h===null)throw new Y;const y=this.moduleSize(c,a);let v=c[1],w=h[1],S=c[0],O=h[0];if(S>=O||v>=w)throw new Y;if(w-v!==O-S&&(O=S+(w-v),O>=a.getWidth()))throw new Y;const P=Math.round((O-S+1)/y),U=Math.round((w-v+1)/y);if(P<=0||U<=0)throw new Y;if(U!==P)throw new Y;const q=Math.floor(y/2);v+=q,S+=q;const X=S+Math.floor((P-1)*y)-O;if(X>0){if(X>q)throw new Y;S-=X}const re=v+Math.floor((U-1)*y)-w;if(re>0){if(re>q)throw new Y;v-=re}const de=new Q(P,U);for(let he=0;he<U;he++){const ge=v+Math.floor(he*y);for(let _e=0;_e<P;_e++)a.get(S+Math.floor(_e*y),ge)&&de.set(_e,he)}return de}static moduleSize(a,c){const h=c.getHeight(),y=c.getWidth();let v=a[0],w=a[1],S=!0,O=0;for(;v<y&&w<h;){if(S!==c.get(v,w)){if(++O===5)break;S=!S}v++,w++}if(v===y||w===h)throw new Y;return(v-a[0])/7}}yi.NO_POINTS=new Array;class Pt{PDF417Common(){}static getBitCountSum(a){return dt.sum(a)}static toIntArray(a){if(a==null||!a.length)return Pt.EMPTY_INT_ARRAY;const c=new Int32Array(a.length);let h=0;for(const y of a)c[h++]=y;return c}static getCodeword(a){const c=R.binarySearch(Pt.SYMBOL_TABLE,a&262143);return c<0?-1:(Pt.CODEWORD_TABLE[c]-1)%Pt.NUMBER_OF_CODEWORDS}}Pt.NUMBER_OF_CODEWORDS=929,Pt.MAX_CODEWORDS_IN_BARCODE=Pt.NUMBER_OF_CODEWORDS-1,Pt.MIN_ROWS_IN_BARCODE=3,Pt.MAX_ROWS_IN_BARCODE=90,Pt.MODULES_IN_CODEWORD=17,Pt.MODULES_IN_STOP_PATTERN=18,Pt.BARS_IN_MODULE=8,Pt.EMPTY_INT_ARRAY=new Int32Array([]),Pt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Pt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class fg{constructor(a,c){this.bits=a,this.points=c}getBits(){return this.bits}getPoints(){return this.points}}class Vt{static detectMultiple(a,c,h){let y=a.getBlackMatrix(),v=Vt.detect(h,y);return v.length||(y=y.clone(),y.rotate180(),v=Vt.detect(h,y)),new fg(y,v)}static detect(a,c){const h=new Array;let y=0,v=0,w=!1;for(;y<c.getHeight();){const S=Vt.findVertices(c,y,v);if(S[0]==null&&S[3]==null){if(!w)break;w=!1,v=0;for(const O of h)O[1]!=null&&(y=Math.trunc(Math.max(y,O[1].getY()))),O[3]!=null&&(y=Math.max(y,Math.trunc(O[3].getY())));y+=Vt.ROW_STEP;continue}if(w=!0,h.push(S),!a)break;S[2]!=null?(v=Math.trunc(S[2].getX()),y=Math.trunc(S[2].getY())):(v=Math.trunc(S[4].getX()),y=Math.trunc(S[4].getY()))}return h}static findVertices(a,c,h){const y=a.getHeight(),v=a.getWidth(),w=new Array(8);return Vt.copyToResult(w,Vt.findRowsWithPattern(a,y,v,c,h,Vt.START_PATTERN),Vt.INDEXES_START_PATTERN),w[4]!=null&&(h=Math.trunc(w[4].getX()),c=Math.trunc(w[4].getY())),Vt.copyToResult(w,Vt.findRowsWithPattern(a,y,v,c,h,Vt.STOP_PATTERN),Vt.INDEXES_STOP_PATTERN),w}static copyToResult(a,c,h){for(let y=0;y<h.length;y++)a[h[y]]=c[y]}static findRowsWithPattern(a,c,h,y,v,w){const S=new Array(4);let O=!1;const P=new Int32Array(w.length);for(;y<c;y+=Vt.ROW_STEP){let q=Vt.findGuardPattern(a,v,y,h,!1,w,P);if(q!=null){for(;y>0;){const X=Vt.findGuardPattern(a,v,--y,h,!1,w,P);if(X!=null)q=X;else{y++;break}}S[0]=new Fe(q[0],y),S[1]=new Fe(q[1],y),O=!0;break}}let U=y+1;if(O){let q=0,X=Int32Array.from([Math.trunc(S[0].getX()),Math.trunc(S[1].getX())]);for(;U<c;U++){const re=Vt.findGuardPattern(a,X[0],U,h,!1,w,P);if(re!=null&&Math.abs(X[0]-re[0])<Vt.MAX_PATTERN_DRIFT&&Math.abs(X[1]-re[1])<Vt.MAX_PATTERN_DRIFT)X=re,q=0;else{if(q>Vt.SKIPPED_ROW_COUNT_MAX)break;q++}}U-=q+1,S[2]=new Fe(X[0],U),S[3]=new Fe(X[1],U)}return U-y<Vt.BARCODE_MIN_HEIGHT&&R.fill(S,null),S}static findGuardPattern(a,c,h,y,v,w,S){R.fillWithin(S,0,S.length,0);let O=c,P=0;for(;a.get(O,h)&&O>0&&P++<Vt.MAX_PIXEL_DRIFT;)O--;let U=O,q=0,X=w.length;for(let re=v;U<y;U++)if(a.get(U,h)!==re)S[q]++;else{if(q===X-1){if(Vt.patternMatchVariance(S,w,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE)return new Int32Array([O,U]);O+=S[0]+S[1],E.arraycopy(S,2,S,0,q-1),S[q-1]=0,S[q]=0,q--}else q++;S[q]=1,re=!re}return q===X-1&&Vt.patternMatchVariance(S,w,Vt.MAX_INDIVIDUAL_VARIANCE)<Vt.MAX_AVG_VARIANCE?new Int32Array([O,U-1]):null}static patternMatchVariance(a,c,h){let y=a.length,v=0,w=0;for(let P=0;P<y;P++)v+=a[P],w+=c[P];if(v<w)return 1/0;let S=v/w;h*=S;let O=0;for(let P=0;P<y;P++){let U=a[P],q=c[P]*S,X=U>q?U-q:q-U;if(X>h)return 1/0;O+=X}return O/v}}Vt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Vt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Vt.MAX_AVG_VARIANCE=.42,Vt.MAX_INDIVIDUAL_VARIANCE=.8,Vt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Vt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Vt.MAX_PIXEL_DRIFT=3,Vt.MAX_PATTERN_DRIFT=5,Vt.SKIPPED_ROW_COUNT_MAX=25,Vt.ROW_STEP=5,Vt.BARCODE_MIN_HEIGHT=10;class qn{constructor(a,c){if(c.length===0)throw new x;this.field=a;let h=c.length;if(h>1&&c[0]===0){let y=1;for(;y<h&&c[y]===0;)y++;y===h?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(h-y),E.arraycopy(c,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=c}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let y=0;for(let v of this.coefficients)y=this.field.add(y,v);return y}let c=this.coefficients[0],h=this.coefficients.length;for(let y=1;y<h;y++)c=this.field.add(this.field.multiply(a,c),this.coefficients[y]);return c}add(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let c=this.coefficients,h=a.coefficients;if(c.length>h.length){let w=c;c=h,h=w}let y=new Int32Array(h.length),v=h.length-c.length;E.arraycopy(h,0,y,0,v);for(let w=v;w<h.length;w++)y[w]=this.field.add(c[w-v],h[w]);return new qn(this.field,y)}subtract(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof qn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new qn(this.field,new Int32Array([0]));let c=this.coefficients,h=c.length,y=a.coefficients,v=y.length,w=new Int32Array(h+v-1);for(let S=0;S<h;S++){let O=c[S];for(let P=0;P<v;P++)w[S+P]=this.field.add(w[S+P],this.field.multiply(O,y[P]))}return new qn(this.field,w)}negative(){let a=this.coefficients.length,c=new Int32Array(a);for(let h=0;h<a;h++)c[h]=this.field.subtract(0,this.coefficients[h]);return new qn(this.field,c)}multiplyScalar(a){if(a===0)return new qn(this.field,new Int32Array([0]));if(a===1)return this;let c=this.coefficients.length,h=new Int32Array(c);for(let y=0;y<c;y++)h[y]=this.field.multiply(this.coefficients[y],a);return new qn(this.field,h)}multiplyByMonomial(a,c){if(a<0)throw new x;if(c===0)return new qn(this.field,new Int32Array([0]));let h=this.coefficients.length,y=new Int32Array(h+a);for(let v=0;v<h;v++)y[v]=this.field.multiply(this.coefficients[v],c);return new qn(this.field,y)}toString(){let a=new Z;for(let c=this.getDegree();c>=0;c--){let h=this.getCoefficient(c);h!==0&&(h<0?(a.append(" - "),h=-h):a.length()>0&&a.append(" + "),(c===0||h!==1)&&a.append(h),c!==0&&(c===1?a.append("x"):(a.append("x^"),a.append(c))))}return a.toString()}}class hg{add(a,c){return(a+c)%this.modulus}subtract(a,c){return(this.modulus+a-c)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new x;return this.logTable[a]}inverse(a){if(a===0)throw new Ce;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,c){return a===0||c===0?0:this.expTable[(this.logTable[a]+this.logTable[c])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class ul extends hg{constructor(a,c){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let h=1;for(let y=0;y<a;y++)this.expTable[y]=h,h=h*c%a;for(let y=0;y<a-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new qn(this,new Int32Array([0])),this.one=new qn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,c){if(a<0)throw new x;if(c===0)return this.zero;let h=new Int32Array(a+1);return h[0]=c,new qn(this,h)}}ul.PDF417_GF=new ul(Pt.NUMBER_OF_CODEWORDS,3);class hh{constructor(){this.field=ul.PDF417_GF}decode(a,c,h){let y=new qn(this.field,a),v=new Int32Array(c),w=!1;for(let de=c;de>0;de--){let he=y.evaluateAt(this.field.exp(de));v[c-de]=he,he!==0&&(w=!0)}if(!w)return 0;let S=this.field.getOne();if(h!=null)for(const de of h){let he=this.field.exp(a.length-1-de),ge=new qn(this.field,new Int32Array([this.field.subtract(0,he),1]));S=S.multiply(ge)}let O=new qn(this.field,v),P=this.runEuclideanAlgorithm(this.field.buildMonomial(c,1),O,c),U=P[0],q=P[1],X=this.findErrorLocations(U),re=this.findErrorMagnitudes(q,U,X);for(let de=0;de<X.length;de++){let he=a.length-1-this.field.log(X[de]);if(he<0)throw T.getChecksumInstance();a[he]=this.field.subtract(a[he],re[de])}return X.length}runEuclideanAlgorithm(a,c,h){if(a.getDegree()<c.getDegree()){let X=a;a=c,c=X}let y=a,v=c,w=this.field.getZero(),S=this.field.getOne();for(;v.getDegree()>=Math.round(h/2);){let X=y,re=w;if(y=v,w=S,y.isZero())throw T.getChecksumInstance();v=X;let de=this.field.getZero(),he=y.getCoefficient(y.getDegree()),ge=this.field.inverse(he);for(;v.getDegree()>=y.getDegree()&&!v.isZero();){let _e=v.getDegree()-y.getDegree(),qe=this.field.multiply(v.getCoefficient(v.getDegree()),ge);de=de.add(this.field.buildMonomial(_e,qe)),v=v.subtract(y.multiplyByMonomial(_e,qe))}S=de.multiply(w).subtract(re).negative()}let O=S.getCoefficient(0);if(O===0)throw T.getChecksumInstance();let P=this.field.inverse(O),U=S.multiply(P),q=v.multiply(P);return[U,q]}findErrorLocations(a){let c=a.getDegree(),h=new Int32Array(c),y=0;for(let v=1;v<this.field.getSize()&&y<c;v++)a.evaluateAt(v)===0&&(h[y]=this.field.inverse(v),y++);if(y!==c)throw T.getChecksumInstance();return h}findErrorMagnitudes(a,c,h){let y=c.getDegree(),v=new Int32Array(y);for(let P=1;P<=y;P++)v[y-P]=this.field.multiply(P,c.getCoefficient(P));let w=new qn(this.field,v),S=h.length,O=new Int32Array(S);for(let P=0;P<S;P++){let U=this.field.inverse(h[P]),q=this.field.subtract(0,a.evaluateAt(U)),X=this.field.inverse(w.evaluateAt(U));O[P]=this.field.multiply(q,X)}return O}}class mo{constructor(a,c,h,y,v){a instanceof mo?this.constructor_2(a):this.constructor_1(a,c,h,y,v)}constructor_1(a,c,h,y,v){const w=c==null||h==null,S=y==null||v==null;if(w&&S)throw new Y;w?(c=new Fe(0,y.getY()),h=new Fe(0,v.getY())):S&&(y=new Fe(a.getWidth()-1,c.getY()),v=new Fe(a.getWidth()-1,h.getY())),this.image=a,this.topLeft=c,this.bottomLeft=h,this.topRight=y,this.bottomRight=v,this.minX=Math.trunc(Math.min(c.getX(),h.getX())),this.maxX=Math.trunc(Math.max(y.getX(),v.getX())),this.minY=Math.trunc(Math.min(c.getY(),y.getY())),this.maxY=Math.trunc(Math.max(h.getY(),v.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,c){return a==null?c:c==null?a:new mo(a.image,a.topLeft,a.bottomLeft,c.topRight,c.bottomRight)}addMissingRows(a,c,h){let y=this.topLeft,v=this.bottomLeft,w=this.topRight,S=this.bottomRight;if(a>0){let O=h?this.topLeft:this.topRight,P=Math.trunc(O.getY()-a);P<0&&(P=0);let U=new Fe(O.getX(),P);h?y=U:w=U}if(c>0){let O=h?this.bottomLeft:this.bottomRight,P=Math.trunc(O.getY()+c);P>=this.image.getHeight()&&(P=this.image.getHeight()-1);let U=new Fe(O.getX(),P);h?v=U:S=U}return new mo(this.image,y,v,w,S)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class pc{constructor(a,c,h,y){this.columnCount=a,this.errorCorrectionLevel=y,this.rowCountUpperPart=c,this.rowCountLowerPart=h,this.rowCount=c+h}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ua{constructor(){this.buffer=""}static form(a,c){let h=-1;function y(w,S,O,P,U,q){if(w==="%%")return"%";if(c[++h]===void 0)return;w=P?parseInt(P.substr(1)):void 0;let X=U?parseInt(U.substr(1)):void 0,re;switch(q){case"s":re=c[h];break;case"c":re=c[h][0];break;case"f":re=parseFloat(c[h]).toFixed(w);break;case"p":re=parseFloat(c[h]).toPrecision(w);break;case"e":re=parseFloat(c[h]).toExponential(w);break;case"x":re=parseInt(c[h]).toString(X||16);break;case"d":re=parseFloat(parseInt(c[h],X||10).toPrecision(w)).toFixed(0);break}re=typeof re=="object"?JSON.stringify(re):(+re).toString(X);let de=parseInt(O),he=O&&O[0]+""=="0"?"0":" ";for(;re.length<de;)re=S!==void 0?re+he:he+re;return re}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(v,y)}format(a,...c){this.buffer+=ua.form(a,c)}toString(){return this.buffer}}class qs{constructor(a){this.boundingBox=new mo(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let c=this.getCodeword(a);if(c!=null)return c;for(let h=1;h<qs.MAX_NEARBY_DISTANCE;h++){let y=this.imageRowToCodewordIndex(a)-h;if(y>=0&&(c=this.codewords[y],c!=null)||(y=this.imageRowToCodewordIndex(a)+h,y<this.codewords.length&&(c=this.codewords[y],c!=null)))return c}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,c){this.codewords[this.imageRowToCodewordIndex(a)]=c}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ua;let c=0;for(const h of this.codewords){if(h==null){a.format("%3d:    |   %n",c++);continue}a.format("%3d: %3d|%3d%n",c++,h.getRowNumber(),h.getValue())}return a.toString()}}qs.MAX_NEARBY_DISTANCE=5;class qa{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let c=this.values.get(a);c==null&&(c=0),c++,this.values.set(a,c)}getValue(){let a=-1,c=new Array;for(const[h,y]of this.values.entries()){const v={getKey:()=>h,getValue:()=>y};v.getValue()>a?(a=v.getValue(),c=[],c.push(v.getKey())):v.getValue()===a&&c.push(v.getKey())}return Pt.toIntArray(c)}getConfidence(a){return this.values.get(a)}}class pg extends qs{constructor(a,c){super(a),this._isLeft=c}setRowNumbers(){for(let a of this.getCodewords())a?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let c=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(c,a);let h=this.getBoundingBox(),y=this._isLeft?h.getTopLeft():h.getTopRight(),v=this._isLeft?h.getBottomLeft():h.getBottomRight(),w=this.imageRowToCodewordIndex(Math.trunc(y.getY())),S=this.imageRowToCodewordIndex(Math.trunc(v.getY())),O=-1,P=1,U=0;for(let q=w;q<S;q++){if(c[q]==null)continue;let X=c[q],re=X.getRowNumber()-O;if(re===0)U++;else if(re===1)P=Math.max(P,U),U=1,O=X.getRowNumber();else if(re<0||X.getRowNumber()>=a.getRowCount()||re>q)c[q]=null;else{let de;P>2?de=(P-2)*re:de=re;let he=de>=q;for(let ge=1;ge<=de&&!he;ge++)he=c[q-ge]!=null;he?c[q]=null:(O=X.getRowNumber(),U=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let c=new Int32Array(a.getRowCount());for(let h of this.getCodewords())if(h!=null){let y=h.getRowNumber();if(y>=c.length)continue;c[y]++}return c}adjustIncompleteIndicatorColumnRowNumbers(a){let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),y=this._isLeft?c.getBottomLeft():c.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(y.getY())),S=this.getCodewords(),O=-1;for(let P=v;P<w;P++){if(S[P]==null)continue;let U=S[P];U.setRowNumberAsRowIndicatorColumn();let q=U.getRowNumber()-O;q===0||(q===1?O=U.getRowNumber():U.getRowNumber()>=a.getRowCount()?S[P]=null:O=U.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),c=new qa,h=new qa,y=new qa,v=new qa;for(let S of a){if(S==null)continue;S.setRowNumberAsRowIndicatorColumn();let O=S.getValue()%30,P=S.getRowNumber();switch(this._isLeft||(P+=2),P%3){case 0:h.setValue(O*3+1);break;case 1:v.setValue(O/3),y.setValue(O%3);break;case 2:c.setValue(O+1);break}}if(c.getValue().length===0||h.getValue().length===0||y.getValue().length===0||v.getValue().length===0||c.getValue()[0]<1||h.getValue()[0]+y.getValue()[0]<Pt.MIN_ROWS_IN_BARCODE||h.getValue()[0]+y.getValue()[0]>Pt.MAX_ROWS_IN_BARCODE)return null;let w=new pc(c.getValue()[0],h.getValue()[0],y.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(a,w),w}removeIncorrectCodewords(a,c){for(let h=0;h<a.length;h++){let y=a[h];if(a[h]==null)continue;let v=y.getValue()%30,w=y.getRowNumber();if(w>c.getRowCount()){a[h]=null;continue}switch(this._isLeft||(w+=2),w%3){case 0:v*3+1!==c.getRowCountUpperPart()&&(a[h]=null);break;case 1:(Math.trunc(v/3)!==c.getErrorCorrectionLevel()||v%3!==c.getRowCountLowerPart())&&(a[h]=null);break;case 2:v+1!==c.getColumnCount()&&(a[h]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class mc{constructor(a,c){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=c,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=Pt.MAX_CODEWORDS_IN_BARCODE,c;do c=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<c);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let c=1;c<this.barcodeColumnCount+1;c++){let h=this.detectionResultColumns[c].getCodewords();for(let y=0;y<h.length;y++)h[y]!=null&&(h[y].hasValidRowNumber()||this.adjustRowNumbers(c,y,h))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<a.length;h++)if(a[h]!=null&&c[h]!=null&&a[h].getRowNumber()===c[h].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let v=this.detectionResultColumns[y].getCodewords()[h];v!=null&&(v.setRowNumber(a[h].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[h]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,c=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let h=0;h<c.length;h++){if(c[h]==null)continue;let y=c[h].getRowNumber(),v=0;for(let w=this.barcodeColumnCount+1;w>0&&v<this.ADJUST_ROW_NUMBER_SKIP;w--){let S=this.detectionResultColumns[w].getCodewords()[h];S!=null&&(v=mc.adjustRowNumberIfValid(y,v,S),S.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,c=this.detectionResultColumns[0].getCodewords();for(let h=0;h<c.length;h++){if(c[h]==null)continue;let y=c[h].getRowNumber(),v=0;for(let w=1;w<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;w++){let S=this.detectionResultColumns[w].getCodewords()[h];S!=null&&(v=mc.adjustRowNumberIfValid(y,v,S),S.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,c,h){return h==null||h.hasValidRowNumber()||(h.isValidRowNumber(a)?(h.setRowNumber(a),c=0):++c),c}adjustRowNumbers(a,c,h){if(!this.detectionResultColumns[a-1])return;let y=h[c],v=this.detectionResultColumns[a-1].getCodewords(),w=v;this.detectionResultColumns[a+1]!=null&&(w=this.detectionResultColumns[a+1].getCodewords());let S=new Array(14);S[2]=v[c],S[3]=w[c],c>0&&(S[0]=h[c-1],S[4]=v[c-1],S[5]=w[c-1]),c>1&&(S[8]=h[c-2],S[10]=v[c-2],S[11]=w[c-2]),c<h.length-1&&(S[1]=h[c+1],S[6]=v[c+1],S[7]=w[c+1]),c<h.length-2&&(S[9]=h[c+2],S[12]=v[c+2],S[13]=w[c+2]);for(let O of S)if(mc.adjustRowNumber(y,O))return}static adjustRowNumber(a,c){return c==null?!1:c.hasValidRowNumber()&&c.getBucket()===a.getBucket()?(a.setRowNumber(c.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,c){this.detectionResultColumns[a]=c}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let c=new ua;for(let h=0;h<a.getCodewords().length;h++){c.format("CW %3d:",h);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){c.format("    |   ");continue}let v=this.detectionResultColumns[y].getCodewords()[h];if(v==null){c.format("    |   ");continue}c.format(" %3d|%3d",v.getRowNumber(),v.getValue())}c.format("%n")}return c.toString()}}class go{constructor(a,c,h,y){this.rowNumber=go.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(c),this.bucket=Math.trunc(h),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==go.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}go.BARCODE_ROW_UNKNOWN=-1;class zn{static initialize(){for(let a=0;a<Pt.SYMBOL_TABLE.length;a++){let c=Pt.SYMBOL_TABLE[a],h=c&1;for(let y=0;y<Pt.BARS_IN_MODULE;y++){let v=0;for(;(c&1)===h;)v+=1,c>>=1;h=c&1,zn.RATIOS_TABLE[a]||(zn.RATIOS_TABLE[a]=new Array(Pt.BARS_IN_MODULE)),zn.RATIOS_TABLE[a][Pt.BARS_IN_MODULE-y-1]=Math.fround(v/Pt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let c=zn.getDecodedCodewordValue(zn.sampleBitCounts(a));return c!==-1?c:zn.getClosestDecodedValue(a)}static sampleBitCounts(a){let c=dt.sum(a),h=new Int32Array(Pt.BARS_IN_MODULE),y=0,v=0;for(let w=0;w<Pt.MODULES_IN_CODEWORD;w++){let S=c/(2*Pt.MODULES_IN_CODEWORD)+w*c/Pt.MODULES_IN_CODEWORD;v+a[y]<=S&&(v+=a[y],y++),h[y]++}return h}static getDecodedCodewordValue(a){let c=zn.getBitValue(a);return Pt.getCodeword(c)===-1?-1:c}static getBitValue(a){let c=0;for(let h=0;h<a.length;h++)for(let y=0;y<a[h];y++)c=c<<1|(h%2===0?1:0);return Math.trunc(c)}static getClosestDecodedValue(a){let c=dt.sum(a),h=new Array(Pt.BARS_IN_MODULE);if(c>1)for(let w=0;w<h.length;w++)h[w]=Math.fround(a[w]/c);let y=Bt.MAX_VALUE,v=-1;this.bSymbolTableReady||zn.initialize();for(let w=0;w<zn.RATIOS_TABLE.length;w++){let S=0,O=zn.RATIOS_TABLE[w];for(let P=0;P<Pt.BARS_IN_MODULE;P++){let U=Math.fround(O[P]-h[P]);if(S+=Math.fround(U*U),S>=y)break}S<y&&(y=S,v=Pt.SYMBOL_TABLE[w])}return v}}zn.bSymbolTableReady=!1,zn.RATIOS_TABLE=new Array(Pt.SYMBOL_TABLE.length).map(V=>new Array(Pt.BARS_IN_MODULE));class Du{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class ph{static parseLong(a,c=void 0){return parseInt(a,c)}}class da extends f{}da.kind="NullPointerException";class mh{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,c,h){if(a==null)throw new da;if(c<0||c>a.length||h<0||c+h>a.length||c+h<0)throw new A;if(h===0)return;for(let y=0;y<h;y++)this.write(a[c+y])}flush(){}close(){}}class Lu extends f{}class mg extends mh{constructor(a=32){if(super(),this.count=0,a<0)throw new x("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let h=this.buf.length<<1;if(h-a<0&&(h=a),h<0){if(a<0)throw new Lu;h=I.MAX_VALUE}this.buf=R.copyOfUint8Array(this.buf,h)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,c,h){if(c<0||c>a.length||h<0||c+h-a.length>0)throw new A;this.ensureCapacity(this.count+h),E.arraycopy(a,c,this.buf,this.count,h),this.count+=h}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return R.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var pr;(function(V){V[V.ALPHA=0]="ALPHA",V[V.LOWER=1]="LOWER",V[V.MIXED=2]="MIXED",V[V.PUNCT=3]="PUNCT",V[V.ALPHA_SHIFT=4]="ALPHA_SHIFT",V[V.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(pr||(pr={}));function gc(){if(typeof window<"u")return window.BigInt||null;if(typeof Ul<"u")return Ul.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let yc;function wn(V){if(typeof yc>"u"&&(yc=gc()),yc===null)throw new Error("BigInt is not supported!");return yc(V)}function dl(){let V=[];V[0]=wn(1);let a=wn(900);V[1]=a;for(let c=2;c<16;c++)V[c]=V[c-1]*a;return V}class Se{static decode(a,c){let h=new Z(""),y=H.ISO8859_1;h.enableDecoding(y);let v=1,w=a[v++],S=new Du;for(;v<a[0];){switch(w){case Se.TEXT_COMPACTION_MODE_LATCH:v=Se.textCompaction(a,v,h);break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:v=Se.byteCompaction(w,a,y,v,h);break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(a[v++]);break;case Se.NUMERIC_COMPACTION_MODE_LATCH:v=Se.numericCompaction(a,v,h);break;case Se.ECI_CHARSET:H.getCharacterSetECIByValue(a[v++]);break;case Se.ECI_GENERAL_PURPOSE:v+=2;break;case Se.ECI_USER_DEFINED:v++;break;case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=Se.decodeMacroBlock(a,v,S);break;case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:throw new B;default:v--,v=Se.textCompaction(a,v,h);break}if(v<a.length)w=a[v++];else throw B.getFormatInstance()}if(h.length()===0)throw B.getFormatInstance();let O=new Te(null,h.toString(),null,c);return O.setOther(S),O}static decodeMacroBlock(a,c,h){if(c+Se.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw B.getFormatInstance();let y=new Int32Array(Se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let S=0;S<Se.NUMBER_OF_SEQUENCE_CODEWORDS;S++,c++)y[S]=a[c];h.setSegmentIndex(I.parseInt(Se.decodeBase900toBase10(y,Se.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new Z;c=Se.textCompaction(a,c,v),h.setFileId(v.toString());let w=-1;for(a[c]===Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(w=c+1);c<a[0];)switch(a[c]){case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(c++,a[c]){case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let S=new Z;c=Se.textCompaction(a,c+1,S),h.setFileName(S.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let O=new Z;c=Se.textCompaction(a,c+1,O),h.setSender(O.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let P=new Z;c=Se.textCompaction(a,c+1,P),h.setAddressee(P.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let U=new Z;c=Se.numericCompaction(a,c+1,U),h.setSegmentCount(I.parseInt(U.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let q=new Z;c=Se.numericCompaction(a,c+1,q),h.setTimestamp(ph.parseLong(q.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let X=new Z;c=Se.numericCompaction(a,c+1,X),h.setChecksum(I.parseInt(X.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let re=new Z;c=Se.numericCompaction(a,c+1,re),h.setFileSize(ph.parseLong(re.toString()));break;default:throw B.getFormatInstance()}break;case Se.MACRO_PDF417_TERMINATOR:c++,h.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(w!==-1){let S=c-w;h.isLastSegment()&&S--,h.setOptionalData(R.copyOfRange(a,w,w+S))}return c}static textCompaction(a,c,h){let y=new Int32Array((a[0]-c)*2),v=new Int32Array((a[0]-c)*2),w=0,S=!1;for(;c<a[0]&&!S;){let O=a[c++];if(O<Se.TEXT_COMPACTION_MODE_LATCH)y[w]=O/30,y[w+1]=O%30,w+=2;else switch(O){case Se.TEXT_COMPACTION_MODE_LATCH:y[w++]=Se.TEXT_COMPACTION_MODE_LATCH;break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,S=!0;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[w]=Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,O=a[c++],v[w]=O,w++;break}}return Se.decodeTextCompaction(y,v,w,h),c}static decodeTextCompaction(a,c,h,y){let v=pr.ALPHA,w=pr.ALPHA,S=0;for(;S<h;){let O=a[S],P="";switch(v){case pr.ALPHA:if(O<26)P=String.fromCharCode(65+O);else switch(O){case 26:P=" ";break;case Se.LL:v=pr.LOWER;break;case Se.ML:v=pr.MIXED;break;case Se.PS:w=v,v=pr.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=pr.ALPHA;break}break;case pr.LOWER:if(O<26)P=String.fromCharCode(97+O);else switch(O){case 26:P=" ";break;case Se.AS:w=v,v=pr.ALPHA_SHIFT;break;case Se.ML:v=pr.MIXED;break;case Se.PS:w=v,v=pr.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=pr.ALPHA;break}break;case pr.MIXED:if(O<Se.PL)P=Se.MIXED_CHARS[O];else switch(O){case Se.PL:v=pr.PUNCT;break;case 26:P=" ";break;case Se.LL:v=pr.LOWER;break;case Se.AL:v=pr.ALPHA;break;case Se.PS:w=v,v=pr.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=pr.ALPHA;break}break;case pr.PUNCT:if(O<Se.PAL)P=Se.PUNCT_CHARS[O];else switch(O){case Se.PAL:v=pr.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=pr.ALPHA;break}break;case pr.ALPHA_SHIFT:if(v=w,O<26)P=String.fromCharCode(65+O);else switch(O){case 26:P=" ";break;case Se.TEXT_COMPACTION_MODE_LATCH:v=pr.ALPHA;break}break;case pr.PUNCT_SHIFT:if(v=w,O<Se.PAL)P=Se.PUNCT_CHARS[O];else switch(O){case Se.PAL:v=pr.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(c[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=pr.ALPHA;break}break}P!==""&&y.append(P),S++}}static byteCompaction(a,c,h,y,v){let w=new mg,S=0,O=0,P=!1;switch(a){case Se.BYTE_COMPACTION_MODE_LATCH:let U=new Int32Array(6),q=c[y++];for(;y<c[0]&&!P;)switch(U[S++]=q,O=900*O+q,q=c[y++],q){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:y--,P=!0;break;default:if(S%5===0&&S>0){for(let X=0;X<6;++X)w.write(Number(wn(O)>>wn(8*(5-X))));O=0,S=0}break}y===c[0]&&q<Se.TEXT_COMPACTION_MODE_LATCH&&(U[S++]=q);for(let X=0;X<S;X++)w.write(U[X]);break;case Se.BYTE_COMPACTION_MODE_LATCH_6:for(;y<c[0]&&!P;){let X=c[y++];if(X<Se.TEXT_COMPACTION_MODE_LATCH)S++,O=900*O+X;else switch(X){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:y--,P=!0;break}if(S%5===0&&S>0){for(let re=0;re<6;++re)w.write(Number(wn(O)>>wn(8*(5-re))));O=0,S=0}}break}return v.append(K.decode(w.toByteArray(),h)),y}static numericCompaction(a,c,h){let y=0,v=!1,w=new Int32Array(Se.MAX_NUMERIC_CODEWORDS);for(;c<a[0]&&!v;){let S=a[c++];if(c===a[0]&&(v=!0),S<Se.TEXT_COMPACTION_MODE_LATCH)w[y]=S,y++;else switch(S){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:c--,v=!0;break}(y%Se.MAX_NUMERIC_CODEWORDS===0||S===Se.NUMERIC_COMPACTION_MODE_LATCH||v)&&y>0&&(h.append(Se.decodeBase900toBase10(w,y)),y=0)}return c}static decodeBase900toBase10(a,c){let h=wn(0);for(let v=0;v<c;v++)h+=Se.EXP900[c-v-1]*wn(a[v]);let y=h.toString();if(y.charAt(0)!=="1")throw new B;return y.substring(1)}}Se.TEXT_COMPACTION_MODE_LATCH=900,Se.BYTE_COMPACTION_MODE_LATCH=901,Se.NUMERIC_COMPACTION_MODE_LATCH=902,Se.BYTE_COMPACTION_MODE_LATCH_6=924,Se.ECI_USER_DEFINED=925,Se.ECI_GENERAL_PURPOSE=926,Se.ECI_CHARSET=927,Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Se.MACRO_PDF417_TERMINATOR=922,Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Se.MAX_NUMERIC_CODEWORDS=15,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Se.PL=25,Se.LL=27,Se.AS=27,Se.ML=28,Se.AL=28,Se.PS=29,Se.PAL=29,Se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Se.EXP900=gc()?dl():[],Se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class zt{constructor(){}static decode(a,c,h,y,v,w,S){let O=new mo(a,c,h,y,v),P=null,U=null,q;for(let de=!0;;de=!1){if(c!=null&&(P=zt.getRowIndicatorColumn(a,O,c,!0,w,S)),y!=null&&(U=zt.getRowIndicatorColumn(a,O,y,!1,w,S)),q=zt.merge(P,U),q==null)throw Y.getNotFoundInstance();let he=q.getBoundingBox();if(de&&he!=null&&(he.getMinY()<O.getMinY()||he.getMaxY()>O.getMaxY()))O=he;else break}q.setBoundingBox(O);let X=q.getBarcodeColumnCount()+1;q.setDetectionResultColumn(0,P),q.setDetectionResultColumn(X,U);let re=P!=null;for(let de=1;de<=X;de++){let he=re?de:X-de;if(q.getDetectionResultColumn(he)!==void 0)continue;let ge;he===0||he===X?ge=new pg(O,he===0):ge=new qs(O),q.setDetectionResultColumn(he,ge);let _e=-1,qe=_e;for(let He=O.getMinY();He<=O.getMaxY();He++){if(_e=zt.getStartColumn(q,he,He,re),_e<0||_e>O.getMaxX()){if(qe===-1)continue;_e=qe}let De=zt.detectCodeword(a,O.getMinX(),O.getMaxX(),re,_e,He,w,S);De!=null&&(ge.setCodeword(He,De),qe=_e,w=Math.min(w,De.getWidth()),S=Math.max(S,De.getWidth()))}}return zt.createDecoderResult(q)}static merge(a,c){if(a==null&&c==null)return null;let h=zt.getBarcodeMetadata(a,c);if(h==null)return null;let y=mo.merge(zt.adjustBoundingBox(a),zt.adjustBoundingBox(c));return new mc(h,y)}static adjustBoundingBox(a){if(a==null)return null;let c=a.getRowHeights();if(c==null)return null;let h=zt.getMax(c),y=0;for(let S of c)if(y+=h-S,S>0)break;let v=a.getCodewords();for(let S=0;y>0&&v[S]==null;S++)y--;let w=0;for(let S=c.length-1;S>=0&&(w+=h-c[S],!(c[S]>0));S--);for(let S=v.length-1;w>0&&v[S]==null;S--)w--;return a.getBoundingBox().addMissingRows(y,w,a.isLeft())}static getMax(a){let c=-1;for(let h of a)c=Math.max(c,h);return c}static getBarcodeMetadata(a,c){let h;if(a==null||(h=a.getBarcodeMetadata())==null)return c==null?null:c.getBarcodeMetadata();let y;return c==null||(y=c.getBarcodeMetadata())==null?h:h.getColumnCount()!==y.getColumnCount()&&h.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&h.getRowCount()!==y.getRowCount()?null:h}static getRowIndicatorColumn(a,c,h,y,v,w){let S=new pg(c,y);for(let O=0;O<2;O++){let P=O===0?1:-1,U=Math.trunc(Math.trunc(h.getX()));for(let q=Math.trunc(Math.trunc(h.getY()));q<=c.getMaxY()&&q>=c.getMinY();q+=P){let X=zt.detectCodeword(a,0,a.getWidth(),y,U,q,v,w);X!=null&&(S.setCodeword(q,X),y?U=X.getStartX():U=X.getEndX())}}return S}static adjustCodewordCount(a,c){let h=c[0][1],y=h.getValue(),v=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-zt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(y.length===0){if(v<1||v>Pt.MAX_CODEWORDS_IN_BARCODE)throw Y.getNotFoundInstance();h.setValue(v)}else y[0]!==v&&h.setValue(v)}static createDecoderResult(a){let c=zt.createBarcodeMatrix(a);zt.adjustCodewordCount(a,c);let h=new Array,y=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),v=[],w=new Array;for(let O=0;O<a.getBarcodeRowCount();O++)for(let P=0;P<a.getBarcodeColumnCount();P++){let U=c[O][P+1].getValue(),q=O*a.getBarcodeColumnCount()+P;U.length===0?h.push(q):U.length===1?y[q]=U[0]:(w.push(q),v.push(U))}let S=new Array(v.length);for(let O=0;O<S.length;O++)S[O]=v[O];return zt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),y,Pt.toIntArray(h),Pt.toIntArray(w),S)}static createDecoderResultFromAmbiguousValues(a,c,h,y,v){let w=new Int32Array(y.length),S=100;for(;S-- >0;){for(let O=0;O<w.length;O++)c[y[O]]=v[O][w[O]];try{return zt.decodeCodewords(c,a,h)}catch(O){if(!(O instanceof T))throw O}if(w.length===0)throw T.getChecksumInstance();for(let O=0;O<w.length;O++)if(w[O]<v[O].length-1){w[O]++;break}else if(w[O]=0,O===w.length-1)throw T.getChecksumInstance()}throw T.getChecksumInstance()}static createBarcodeMatrix(a){let c=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let y=0;y<c.length;y++)for(let v=0;v<c[y].length;v++)c[y][v]=new qa;let h=0;for(let y of a.getDetectionResultColumns()){if(y!=null){for(let v of y.getCodewords())if(v!=null){let w=v.getRowNumber();if(w>=0){if(w>=c.length)continue;c[w][h].setValue(v.getValue())}}}h++}return c}static isValidBarcodeColumn(a,c){return c>=0&&c<=a.getBarcodeColumnCount()+1}static getStartColumn(a,c,h,y){let v=y?1:-1,w=null;if(zt.isValidBarcodeColumn(a,c-v)&&(w=a.getDetectionResultColumn(c-v).getCodeword(h)),w!=null)return y?w.getEndX():w.getStartX();if(w=a.getDetectionResultColumn(c).getCodewordNearby(h),w!=null)return y?w.getStartX():w.getEndX();if(zt.isValidBarcodeColumn(a,c-v)&&(w=a.getDetectionResultColumn(c-v).getCodewordNearby(h)),w!=null)return y?w.getEndX():w.getStartX();let S=0;for(;zt.isValidBarcodeColumn(a,c-v);){c-=v;for(let O of a.getDetectionResultColumn(c).getCodewords())if(O!=null)return(y?O.getEndX():O.getStartX())+v*S*(O.getEndX()-O.getStartX());S++}return y?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,c,h,y,v,w,S,O){v=zt.adjustCodewordStartColumn(a,c,h,y,v,w);let P=zt.getModuleBitCount(a,c,h,y,v,w);if(P==null)return null;let U,q=dt.sum(P);if(y)U=v+q;else{for(let de=0;de<P.length/2;de++){let he=P[de];P[de]=P[P.length-1-de],P[P.length-1-de]=he}U=v,v=U-q}if(!zt.checkCodewordSkew(q,S,O))return null;let X=zn.getDecodedValue(P),re=Pt.getCodeword(X);return re===-1?null:new go(v,U,zt.getCodewordBucketNumber(X),re)}static getModuleBitCount(a,c,h,y,v,w){let S=v,O=new Int32Array(8),P=0,U=y?1:-1,q=y;for(;(y?S<h:S>=c)&&P<O.length;)a.get(S,w)===q?(O[P]++,S+=U):(P++,q=!q);return P===O.length||S===(y?h:c)&&P===O.length-1?O:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,c,h,y,v,w){let S=v,O=y?-1:1;for(let P=0;P<2;P++){for(;(y?S>=c:S<h)&&y===a.get(S,w);){if(Math.abs(v-S)>zt.CODEWORD_SKEW_SIZE)return v;S+=O}O=-O,y=!y}return S}static checkCodewordSkew(a,c,h){return c-zt.CODEWORD_SKEW_SIZE<=a&&a<=h+zt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,c,h){if(a.length===0)throw B.getFormatInstance();let y=1<<c+1,v=zt.correctErrors(a,h,y);zt.verifyCodewordCount(a,y);let w=Se.decode(a,""+c);return w.setErrorsCorrected(v),w.setErasures(h.length),w}static correctErrors(a,c,h){if(c!=null&&c.length>h/2+zt.MAX_ERRORS||h<0||h>zt.MAX_EC_CODEWORDS)throw T.getChecksumInstance();return zt.errorCorrection.decode(a,h,c)}static verifyCodewordCount(a,c){if(a.length<4)throw B.getFormatInstance();let h=a[0];if(h>a.length)throw B.getFormatInstance();if(h===0)if(c<a.length)a[0]=a.length-c;else throw B.getFormatInstance()}static getBitCountForCodeword(a){let c=new Int32Array(8),h=0,y=c.length-1;for(;!((a&1)!==h&&(h=a&1,y--,y<0));)c[y]++,a>>=1;return c}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return zt.getCodewordBucketNumber(zt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let c=new ua;for(let h=0;h<a.length;h++){c.format("Row %2d: ",h);for(let y=0;y<a[h].length;y++){let v=a[h][y];v.getValue().length===0?c.format("        ",null):c.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}c.format("%n")}return c.toString()}}zt.CODEWORD_SKEW_SIZE=2,zt.MAX_ERRORS=3,zt.MAX_EC_CODEWORDS=512,zt.errorCorrection=new hh;class Wn{decode(a,c=null){let h=Wn.decode(a,c,!1);if(h==null||h.length===0||h[0]==null)throw Y.getNotFoundInstance();return h[0]}decodeMultiple(a,c=null){try{return Wn.decode(a,c,!0)}catch(h){throw h instanceof B||h instanceof T?Y.getNotFoundInstance():h}}static decode(a,c,h){const y=new Array,v=Vt.detectMultiple(a,c,h);for(const w of v.getPoints()){const S=zt.decode(v.getBits(),w[4],w[5],w[6],w[7],Wn.getMinCodewordWidth(w),Wn.getMaxCodewordWidth(w)),O=new Pe(S.getText(),S.getRawBytes(),void 0,w,Ie.PDF_417);O.putMetadata(Be.ERROR_CORRECTION_LEVEL,S.getECLevel());const P=S.getOther();P!=null&&O.putMetadata(Be.PDF417_EXTRA_METADATA,P),y.push(O)}return y.map(w=>w)}static getMaxWidth(a,c){return a==null||c==null?0:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMinWidth(a,c){return a==null||c==null?I.MAX_VALUE:Math.trunc(Math.abs(a.getX()-c.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(Wn.getMaxWidth(a[0],a[4]),Wn.getMaxWidth(a[6],a[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.max(Wn.getMaxWidth(a[1],a[5]),Wn.getMaxWidth(a[7],a[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(Wn.getMinWidth(a[0],a[4]),Wn.getMinWidth(a[6],a[2])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN),Math.min(Wn.getMinWidth(a[1],a[5]),Wn.getMinWidth(a[7],a[3])*Pt.MODULES_IN_CODEWORD/Pt.MODULES_IN_STOP_PATTERN)))}reset(){}}class fl extends f{}fl.kind="ReaderException";class Bu{constructor(a,c){this.verbose=a===!0,c&&this.setHints(c)}decode(a,c){return c&&this.setHints(c),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const c=!n(a)&&a.get($.TRY_HARDER)===!0,h=n(a)?null:a.get($.POSSIBLE_FORMATS),y=new Array;if(!n(h)){const v=h.some(w=>w===Ie.UPC_A||w===Ie.UPC_E||w===Ie.EAN_13||w===Ie.EAN_8||w===Ie.CODABAR||w===Ie.CODE_39||w===Ie.CODE_93||w===Ie.CODE_128||w===Ie.ITF||w===Ie.RSS_14||w===Ie.RSS_EXPANDED);v&&!c&&y.push(new ol(a,this.verbose)),h.includes(Ie.QR_CODE)&&y.push(new yi),h.includes(Ie.DATA_MATRIX)&&y.push(new ys),h.includes(Ie.AZTEC)&&y.push(new Dr),h.includes(Ie.PDF_417)&&y.push(new Wn),v&&c&&y.push(new ol(a,this.verbose))}y.length===0&&(c||y.push(new ol(a,this.verbose)),y.push(new yi),y.push(new ys),y.push(new Dr),y.push(new Wn),c&&y.push(new ol(a,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new fl("No readers where selected, nothing can be read.");for(const c of this.readers)try{return c.decode(a,this.hints)}catch(h){if(h instanceof fl)continue}throw new Y("No MultiFormat Readers were able to detect the code.")}}class vc extends be{constructor(a=null,c=500){const h=new Bu;h.setHints(a),super(h,c)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Fu extends be{constructor(a=500){super(new Wn,a)}}class gg extends be{constructor(a=500){super(new yi,a)}}var gh;(function(V){V[V.ERROR_CORRECTION=0]="ERROR_CORRECTION",V[V.CHARACTER_SET=1]="CHARACTER_SET",V[V.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",V[V.MIN_SIZE=3]="MIN_SIZE",V[V.MAX_SIZE=4]="MAX_SIZE",V[V.MARGIN=5]="MARGIN",V[V.PDF417_COMPACT=6]="PDF417_COMPACT",V[V.PDF417_COMPACTION=7]="PDF417_COMPACTION",V[V.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",V[V.AZTEC_LAYERS=9]="AZTEC_LAYERS",V[V.QR_VERSION=10]="QR_VERSION"})(gh||(gh={}));var Nn=gh;class yh{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new Ve(a,Int32Array.from([1])))}buildGenerator(a){const c=this.cachedGenerators;if(a>=c.length){let h=c[c.length-1];const y=this.field;for(let v=c.length;v<=a;v++){const w=h.multiply(new Ve(y,Int32Array.from([1,y.exp(v-1+y.getGeneratorBase())])));c.push(w),h=w}}return c[a]}encode(a,c){if(c===0)throw new x("No error correction bytes");const h=a.length-c;if(h<=0)throw new x("No data bytes provided");const y=this.buildGenerator(c),v=new Int32Array(h);E.arraycopy(a,0,v,0,h);let w=new Ve(this.field,v);w=w.multiplyByMonomial(c,1);const O=w.divide(y)[1].getCoefficients(),P=c-O.length;for(let U=0;U<P;U++)a[h+U]=0;E.arraycopy(O,0,a,h+P,O.length)}}class qr{constructor(){}static applyMaskPenaltyRule1(a){return qr.applyMaskPenaltyRule1Internal(a,!0)+qr.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let c=0;const h=a.getArray(),y=a.getWidth(),v=a.getHeight();for(let w=0;w<v-1;w++){const S=h[w];for(let O=0;O<y-1;O++){const P=S[O];P===S[O+1]&&P===h[w+1][O]&&P===h[w+1][O+1]&&c++}}return qr.N2*c}static applyMaskPenaltyRule3(a){let c=0;const h=a.getArray(),y=a.getWidth(),v=a.getHeight();for(let w=0;w<v;w++)for(let S=0;S<y;S++){const O=h[w];S+6<y&&O[S]===1&&O[S+1]===0&&O[S+2]===1&&O[S+3]===1&&O[S+4]===1&&O[S+5]===0&&O[S+6]===1&&(qr.isWhiteHorizontal(O,S-4,S)||qr.isWhiteHorizontal(O,S+7,S+11))&&c++,w+6<v&&h[w][S]===1&&h[w+1][S]===0&&h[w+2][S]===1&&h[w+3][S]===1&&h[w+4][S]===1&&h[w+5][S]===0&&h[w+6][S]===1&&(qr.isWhiteVertical(h,S,w-4,w)||qr.isWhiteVertical(h,S,w+7,w+11))&&c++}return c*qr.N3}static isWhiteHorizontal(a,c,h){c=Math.max(c,0),h=Math.min(h,a.length);for(let y=c;y<h;y++)if(a[y]===1)return!1;return!0}static isWhiteVertical(a,c,h,y){h=Math.max(h,0),y=Math.min(y,a.length);for(let v=h;v<y;v++)if(a[v][c]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let c=0;const h=a.getArray(),y=a.getWidth(),v=a.getHeight();for(let O=0;O<v;O++){const P=h[O];for(let U=0;U<y;U++)P[U]===1&&c++}const w=a.getHeight()*a.getWidth();return Math.floor(Math.abs(c*2-w)*10/w)*qr.N4}static getDataMaskBit(a,c,h){let y,v;switch(a){case 0:y=h+c&1;break;case 1:y=h&1;break;case 2:y=c%3;break;case 3:y=(h+c)%3;break;case 4:y=Math.floor(h/2)+Math.floor(c/3)&1;break;case 5:v=h*c,y=(v&1)+v%3;break;case 6:v=h*c,y=(v&1)+v%3&1;break;case 7:v=h*c,y=v%3+(h+c&1)&1;break;default:throw new x("Invalid mask pattern: "+a)}return y===0}static applyMaskPenaltyRule1Internal(a,c){let h=0;const y=c?a.getHeight():a.getWidth(),v=c?a.getWidth():a.getHeight(),w=a.getArray();for(let S=0;S<y;S++){let O=0,P=-1;for(let U=0;U<v;U++){const q=c?w[S][U]:w[U][S];q===P?O++:(O>=5&&(h+=qr.N1+(O-5)),O=1,P=q)}O>=5&&(h+=qr.N1+(O-5))}return h}}qr.N1=3,qr.N2=3,qr.N3=40,qr.N4=10;class $u{constructor(a,c){this.width=a,this.height=c;const h=new Array(c);for(let y=0;y!==c;y++)h[y]=new Uint8Array(a);this.bytes=h}getHeight(){return this.height}getWidth(){return this.width}get(a,c){return this.bytes[c][a]}getArray(){return this.bytes}setNumber(a,c,h){this.bytes[c][a]=h}setBoolean(a,c,h){this.bytes[c][a]=h?1:0}clear(a){for(const c of this.bytes)R.fill(c,a)}equals(a){if(!(a instanceof $u))return!1;const c=a;if(this.width!==c.width||this.height!==c.height)return!1;for(let h=0,y=this.height;h<y;++h){const v=this.bytes[h],w=c.bytes[h];for(let S=0,O=this.width;S<O;++S)if(v[S]!==w[S])return!1}return!0}toString(){const a=new Z;for(let c=0,h=this.height;c<h;++c){const y=this.bytes[c];for(let v=0,w=this.width;v<w;++v)switch(y[v]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class yo{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new Z;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<yo.NUM_MASK_PATTERNS}}yo.NUM_MASK_PATTERNS=8;class Tr extends f{}Tr.kind="WriterException";class Tt{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,c,h,y,v){Tt.clearMatrix(v),Tt.embedBasicPatterns(h,v),Tt.embedTypeInfo(c,y,v),Tt.maybeEmbedVersionInfo(h,v),Tt.embedDataBits(a,y,v)}static embedBasicPatterns(a,c){Tt.embedPositionDetectionPatternsAndSeparators(c),Tt.embedDarkDotAtLeftBottomCorner(c),Tt.maybeEmbedPositionAdjustmentPatterns(a,c),Tt.embedTimingPatterns(c)}static embedTypeInfo(a,c,h){const y=new D;Tt.makeTypeInfoBits(a,c,y);for(let v=0,w=y.getSize();v<w;++v){const S=y.get(y.getSize()-1-v),O=Tt.TYPE_INFO_COORDINATES[v],P=O[0],U=O[1];if(h.setBoolean(P,U,S),v<8){const q=h.getWidth()-v-1;h.setBoolean(q,8,S)}else{const X=h.getHeight()-7+(v-8);h.setBoolean(8,X,S)}}}static maybeEmbedVersionInfo(a,c){if(a.getVersionNumber()<7)return;const h=new D;Tt.makeVersionInfoBits(a,h);let y=17;for(let v=0;v<6;++v)for(let w=0;w<3;++w){const S=h.get(y);y--,c.setBoolean(v,c.getHeight()-11+w,S),c.setBoolean(c.getHeight()-11+w,v,S)}}static embedDataBits(a,c,h){let y=0,v=-1,w=h.getWidth()-1,S=h.getHeight()-1;for(;w>0;){for(w===6&&(w-=1);S>=0&&S<h.getHeight();){for(let O=0;O<2;++O){const P=w-O;if(!Tt.isEmpty(h.get(P,S)))continue;let U;y<a.getSize()?(U=a.get(y),++y):U=!1,c!==255&&qr.getDataMaskBit(c,P,S)&&(U=!U),h.setBoolean(P,S,U)}S+=v}v=-v,S+=v,w-=2}if(y!==a.getSize())throw new Tr("Not all bits consumed: "+y+"/"+a.getSize())}static findMSBSet(a){return 32-I.numberOfLeadingZeros(a)}static calculateBCHCode(a,c){if(c===0)throw new x("0 polynomial");const h=Tt.findMSBSet(c);for(a<<=h-1;Tt.findMSBSet(a)>=h;)a^=c<<Tt.findMSBSet(a)-h;return a}static makeTypeInfoBits(a,c,h){if(!yo.isValidMaskPattern(c))throw new Tr("Invalid mask pattern");const y=a.getBits()<<3|c;h.appendBits(y,5);const v=Tt.calculateBCHCode(y,Tt.TYPE_INFO_POLY);h.appendBits(v,10);const w=new D;if(w.appendBits(Tt.TYPE_INFO_MASK_PATTERN,15),h.xor(w),h.getSize()!==15)throw new Tr("should not happen but we got: "+h.getSize())}static makeVersionInfoBits(a,c){c.appendBits(a.getVersionNumber(),6);const h=Tt.calculateBCHCode(a.getVersionNumber(),Tt.VERSION_INFO_POLY);if(c.appendBits(h,12),c.getSize()!==18)throw new Tr("should not happen but we got: "+c.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let c=8;c<a.getWidth()-8;++c){const h=(c+1)%2;Tt.isEmpty(a.get(c,6))&&a.setNumber(c,6,h),Tt.isEmpty(a.get(6,c))&&a.setNumber(6,c,h)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new Tr;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,c,h){for(let y=0;y<8;++y){if(!Tt.isEmpty(h.get(a+y,c)))throw new Tr;h.setNumber(a+y,c,0)}}static embedVerticalSeparationPattern(a,c,h){for(let y=0;y<7;++y){if(!Tt.isEmpty(h.get(a,c+y)))throw new Tr;h.setNumber(a,c+y,0)}}static embedPositionAdjustmentPattern(a,c,h){for(let y=0;y<5;++y){const v=Tt.POSITION_ADJUSTMENT_PATTERN[y];for(let w=0;w<5;++w)h.setNumber(a+w,c+y,v[w])}}static embedPositionDetectionPattern(a,c,h){for(let y=0;y<7;++y){const v=Tt.POSITION_DETECTION_PATTERN[y];for(let w=0;w<7;++w)h.setNumber(a+w,c+y,v[w])}}static embedPositionDetectionPatternsAndSeparators(a){const c=Tt.POSITION_DETECTION_PATTERN[0].length;Tt.embedPositionDetectionPattern(0,0,a),Tt.embedPositionDetectionPattern(a.getWidth()-c,0,a),Tt.embedPositionDetectionPattern(0,a.getWidth()-c,a);const h=8;Tt.embedHorizontalSeparationPattern(0,h-1,a),Tt.embedHorizontalSeparationPattern(a.getWidth()-h,h-1,a),Tt.embedHorizontalSeparationPattern(0,a.getWidth()-h,a);const y=7;Tt.embedVerticalSeparationPattern(y,0,a),Tt.embedVerticalSeparationPattern(a.getHeight()-y-1,0,a),Tt.embedVerticalSeparationPattern(y,a.getHeight()-y,a)}static maybeEmbedPositionAdjustmentPatterns(a,c){if(a.getVersionNumber()<2)return;const h=a.getVersionNumber()-1,y=Tt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[h];for(let v=0,w=y.length;v!==w;v++){const S=y[v];if(S>=0)for(let O=0;O!==w;O++){const P=y[O];P>=0&&Tt.isEmpty(c.get(P,S))&&Tt.embedPositionAdjustmentPattern(P-2,S-2,c)}}}}Tt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Tt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Tt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Tt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Tt.VERSION_INFO_POLY=7973,Tt.TYPE_INFO_POLY=1335,Tt.TYPE_INFO_MASK_PATTERN=21522;class Gv{constructor(a,c){this.dataBytes=a,this.errorCorrectionBytes=c}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pr{constructor(){}static calculateMaskPenalty(a){return qr.applyMaskPenaltyRule1(a)+qr.applyMaskPenaltyRule2(a)+qr.applyMaskPenaltyRule3(a)+qr.applyMaskPenaltyRule4(a)}static encode(a,c,h=null){let y=Pr.DEFAULT_BYTE_MODE_ENCODING;const v=h!==null&&h.get(Nn.CHARACTER_SET)!==void 0;v&&(y=h.get(Nn.CHARACTER_SET).toString());const w=this.chooseMode(a,y),S=new D;if(w===At.BYTE&&(v||Pr.DEFAULT_BYTE_MODE_ENCODING!==y)){const He=H.getCharacterSetECIByName(y);He!==void 0&&this.appendECI(He,S)}this.appendModeInfo(w,S);const O=new D;this.appendBytes(a,w,O,y);let P;if(h!==null&&h.get(Nn.QR_VERSION)!==void 0){const He=Number.parseInt(h.get(Nn.QR_VERSION).toString(),10);P=bt.getVersionForNumber(He);const De=this.calculateBitsNeeded(w,S,O,P);if(!this.willFit(De,P,c))throw new Tr("Data too big for requested version")}else P=this.recommendVersion(c,w,S,O);const U=new D;U.appendBitArray(S);const q=w===At.BYTE?O.getSizeInBytes():a.length;this.appendLengthInfo(q,P,w,U),U.appendBitArray(O);const X=P.getECBlocksForLevel(c),re=P.getTotalCodewords()-X.getTotalECCodewords();this.terminateBits(re,U);const de=this.interleaveWithECBytes(U,P.getTotalCodewords(),re,X.getNumBlocks()),he=new yo;he.setECLevel(c),he.setMode(w),he.setVersion(P);const ge=P.getDimensionForVersion(),_e=new $u(ge,ge),qe=this.chooseMaskPattern(de,c,P,_e);return he.setMaskPattern(qe),Tt.buildMatrix(de,c,P,qe,_e),he.setMatrix(_e),he}static recommendVersion(a,c,h,y){const v=this.calculateBitsNeeded(c,h,y,bt.getVersionForNumber(1)),w=this.chooseVersion(v,a),S=this.calculateBitsNeeded(c,h,y,w);return this.chooseVersion(S,a)}static calculateBitsNeeded(a,c,h,y){return c.getSize()+a.getCharacterCountBits(y)+h.getSize()}static getAlphanumericCode(a){return a<Pr.ALPHANUMERIC_TABLE.length?Pr.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,c=null){if(H.SJIS.getName()===c&&this.isOnlyDoubleByteKanji(a))return At.KANJI;let h=!1,y=!1;for(let v=0,w=a.length;v<w;++v){const S=a.charAt(v);if(Pr.isDigit(S))h=!0;else if(this.getAlphanumericCode(S.charCodeAt(0))!==-1)y=!0;else return At.BYTE}return y?At.ALPHANUMERIC:h?At.NUMERIC:At.BYTE}static isOnlyDoubleByteKanji(a){let c;try{c=K.encode(a,H.SJIS)}catch{return!1}const h=c.length;if(h%2!==0)return!1;for(let y=0;y<h;y+=2){const v=c[y]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(a,c,h,y){let v=Number.MAX_SAFE_INTEGER,w=-1;for(let S=0;S<yo.NUM_MASK_PATTERNS;S++){Tt.buildMatrix(a,c,h,S,y);let O=this.calculateMaskPenalty(y);O<v&&(v=O,w=S)}return w}static chooseVersion(a,c){for(let h=1;h<=40;h++){const y=bt.getVersionForNumber(h);if(Pr.willFit(a,y,c))return y}throw new Tr("Data too big")}static willFit(a,c,h){const y=c.getTotalCodewords(),w=c.getECBlocksForLevel(h).getTotalECCodewords(),S=y-w,O=(a+7)/8;return S>=O}static terminateBits(a,c){const h=a*8;if(c.getSize()>h)throw new Tr("data bits cannot fit in the QR Code"+c.getSize()+" > "+h);for(let w=0;w<4&&c.getSize()<h;++w)c.appendBit(!1);const y=c.getSize()&7;if(y>0)for(let w=y;w<8;w++)c.appendBit(!1);const v=a-c.getSizeInBytes();for(let w=0;w<v;++w)c.appendBits((w&1)===0?236:17,8);if(c.getSize()!==h)throw new Tr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,c,h,y,v,w){if(y>=h)throw new Tr("Block ID too large");const S=a%h,O=h-S,P=Math.floor(a/h),U=P+1,q=Math.floor(c/h),X=q+1,re=P-q,de=U-X;if(re!==de)throw new Tr("EC bytes mismatch");if(h!==O+S)throw new Tr("RS blocks mismatch");if(a!==(q+re)*O+(X+de)*S)throw new Tr("Total bytes mismatch");y<O?(v[0]=q,w[0]=re):(v[0]=X,w[0]=de)}static interleaveWithECBytes(a,c,h,y){if(a.getSizeInBytes()!==h)throw new Tr("Number of bits and data bytes does not match");let v=0,w=0,S=0;const O=new Array;for(let U=0;U<y;++U){const q=new Int32Array(1),X=new Int32Array(1);Pr.getNumDataBytesAndNumECBytesForBlockID(c,h,y,U,q,X);const re=q[0],de=new Uint8Array(re);a.toBytes(8*v,de,0,re);const he=Pr.generateECBytes(de,X[0]);O.push(new Gv(de,he)),w=Math.max(w,re),S=Math.max(S,he.length),v+=q[0]}if(h!==v)throw new Tr("Data bytes does not match offset");const P=new D;for(let U=0;U<w;++U)for(const q of O){const X=q.getDataBytes();U<X.length&&P.appendBits(X[U],8)}for(let U=0;U<S;++U)for(const q of O){const X=q.getErrorCorrectionBytes();U<X.length&&P.appendBits(X[U],8)}if(c!==P.getSizeInBytes())throw new Tr("Interleaving error: "+c+" and "+P.getSizeInBytes()+" differ.");return P}static generateECBytes(a,c){const h=a.length,y=new Int32Array(h+c);for(let w=0;w<h;w++)y[w]=a[w]&255;new yh(tt.QR_CODE_FIELD_256).encode(y,c);const v=new Uint8Array(c);for(let w=0;w<c;w++)v[w]=y[h+w];return v}static appendModeInfo(a,c){c.appendBits(a.getBits(),4)}static appendLengthInfo(a,c,h,y){const v=h.getCharacterCountBits(c);if(a>=1<<v)throw new Tr(a+" is bigger than "+((1<<v)-1));y.appendBits(a,v)}static appendBytes(a,c,h,y){switch(c){case At.NUMERIC:Pr.appendNumericBytes(a,h);break;case At.ALPHANUMERIC:Pr.appendAlphanumericBytes(a,h);break;case At.BYTE:Pr.append8BitBytes(a,h,y);break;case At.KANJI:Pr.appendKanjiBytes(a,h);break;default:throw new Tr("Invalid mode: "+c)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const c=Pr.getDigit(a);return c>=0&&c<=9}static appendNumericBytes(a,c){const h=a.length;let y=0;for(;y<h;){const v=Pr.getDigit(a.charAt(y));if(y+2<h){const w=Pr.getDigit(a.charAt(y+1)),S=Pr.getDigit(a.charAt(y+2));c.appendBits(v*100+w*10+S,10),y+=3}else if(y+1<h){const w=Pr.getDigit(a.charAt(y+1));c.appendBits(v*10+w,7),y+=2}else c.appendBits(v,4),y++}}static appendAlphanumericBytes(a,c){const h=a.length;let y=0;for(;y<h;){const v=Pr.getAlphanumericCode(a.charCodeAt(y));if(v===-1)throw new Tr;if(y+1<h){const w=Pr.getAlphanumericCode(a.charCodeAt(y+1));if(w===-1)throw new Tr;c.appendBits(v*45+w,11),y+=2}else c.appendBits(v,6),y++}}static append8BitBytes(a,c,h){let y;try{y=K.encode(a,h)}catch(v){throw new Tr(v)}for(let v=0,w=y.length;v!==w;v++){const S=y[v];c.appendBits(S,8)}}static appendKanjiBytes(a,c){let h;try{h=K.encode(a,H.SJIS)}catch(v){throw new Tr(v)}const y=h.length;for(let v=0;v<y;v+=2){const w=h[v]&255,S=h[v+1]&255,O=w<<8&4294967295|S;let P=-1;if(O>=33088&&O<=40956?P=O-33088:O>=57408&&O<=60351&&(P=O-49472),P===-1)throw new Tr("Invalid byte sequence");const U=(P>>8)*192+(P&255);c.appendBits(U,13)}}static appendECI(a,c){c.appendBits(At.ECI.getBits(),4),c.appendBits(a.getValue(),8)}}Pr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pr.DEFAULT_BYTE_MODE_ENCODING=H.UTF8.getName();class vo{write(a,c,h,y=null){if(a.length===0)throw new x("Found empty contents");if(c<0||h<0)throw new x("Requested dimensions are too small: "+c+"x"+h);let v=br.L,w=vo.QUIET_ZONE_SIZE;y!==null&&(y.get(Nn.ERROR_CORRECTION)!==void 0&&(v=br.fromString(y.get(Nn.ERROR_CORRECTION).toString())),y.get(Nn.MARGIN)!==void 0&&(w=Number.parseInt(y.get(Nn.MARGIN).toString(),10)));const S=Pr.encode(a,v,y);return this.renderResult(S,c,h,w)}writeToDom(a,c,h,y,v=null){typeof a=="string"&&(a=document.querySelector(a));const w=this.write(c,h,y,v);a&&a.appendChild(w)}renderResult(a,c,h,y){const v=a.getMatrix();if(v===null)throw new Oe;const w=v.getWidth(),S=v.getHeight(),O=w+y*2,P=S+y*2,U=Math.max(c,O),q=Math.max(h,P),X=Math.min(Math.floor(U/O),Math.floor(q/P)),re=Math.floor((U-w*X)/2),de=Math.floor((q-S*X)/2),he=this.createSVGElement(U,q);for(let ge=0,_e=de;ge<S;ge++,_e+=X)for(let qe=0,He=re;qe<w;qe++,He+=X)if(v.get(qe,ge)===1){const De=this.createSvgRectElement(He,_e,X,X);he.appendChild(De)}return he}createSVGElement(a,c){const h=document.createElementNS(vo.SVG_NS,"svg");return h.setAttributeNS(null,"height",a.toString()),h.setAttributeNS(null,"width",c.toString()),h}createSvgRectElement(a,c,h,y){const v=document.createElementNS(vo.SVG_NS,"rect");return v.setAttributeNS(null,"x",a.toString()),v.setAttributeNS(null,"y",c.toString()),v.setAttributeNS(null,"height",h.toString()),v.setAttributeNS(null,"width",y.toString()),v.setAttributeNS(null,"fill","#000000"),v}}vo.QUIET_ZONE_SIZE=4,vo.SVG_NS="http://www.w3.org/2000/svg";class hl{encode(a,c,h,y,v){if(a.length===0)throw new x("Found empty contents");if(c!==Ie.QR_CODE)throw new x("Can only encode QR_CODE, but got "+c);if(h<0||y<0)throw new x(`Requested dimensions are too small: ${h}x${y}`);let w=br.L,S=hl.QUIET_ZONE_SIZE;v!==null&&(v.get(Nn.ERROR_CORRECTION)!==void 0&&(w=br.fromString(v.get(Nn.ERROR_CORRECTION).toString())),v.get(Nn.MARGIN)!==void 0&&(S=Number.parseInt(v.get(Nn.MARGIN).toString(),10)));const O=Pr.encode(a,w,v);return hl.renderResult(O,h,y,S)}static renderResult(a,c,h,y){const v=a.getMatrix();if(v===null)throw new Oe;const w=v.getWidth(),S=v.getHeight(),O=w+y*2,P=S+y*2,U=Math.max(c,O),q=Math.max(h,P),X=Math.min(Math.floor(U/O),Math.floor(q/P)),re=Math.floor((U-w*X)/2),de=Math.floor((q-S*X)/2),he=new Q(U,q);for(let ge=0,_e=de;ge<S;ge++,_e+=X)for(let qe=0,He=re;qe<w;qe++,He+=X)v.get(qe,ge)===1&&he.setRegion(He,_e,X,X);return he}}hl.QUIET_ZONE_SIZE=4;class Kv{encode(a,c,h,y,v){let w;if(c===Ie.QR_CODE)w=new hl;else throw new x("No encoder available for format "+c);return w.encode(a,c,h,y,v)}}class zs extends ie{constructor(a,c,h,y,v,w,S,O){if(super(w,S),this.yuvData=a,this.dataWidth=c,this.dataHeight=h,this.left=y,this.top=v,y+w>c||v+S>h)throw new x("Crop rectangle does not fit within image data.");O&&this.reverseHorizontal(w,S)}getRow(a,c){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const h=this.getWidth();(c==null||c.length<h)&&(c=new Uint8ClampedArray(h));const y=(a+this.top)*this.dataWidth+this.left;return E.arraycopy(this.yuvData,y,c,0,h),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.yuvData;const h=a*c,y=new Uint8ClampedArray(h);let v=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return E.arraycopy(this.yuvData,v,y,0,h),y;for(let w=0;w<c;w++){const S=w*a;E.arraycopy(this.yuvData,v,y,S,a),v+=this.dataWidth}return y}isCropSupported(){return!0}crop(a,c,h,y){return new zs(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+c,h,y,!1)}renderThumbnail(){const a=this.getWidth()/zs.THUMBNAIL_SCALE_FACTOR,c=this.getHeight()/zs.THUMBNAIL_SCALE_FACTOR,h=new Int32Array(a*c),y=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let w=0;w<c;w++){const S=w*a;for(let O=0;O<a;O++){const P=y[v+O*zs.THUMBNAIL_SCALE_FACTOR]&255;h[S+O]=4278190080|P*65793}v+=this.dataWidth*zs.THUMBNAIL_SCALE_FACTOR}return h}getThumbnailWidth(){return this.getWidth()/zs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/zs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,c){const h=this.yuvData;for(let y=0,v=this.top*this.dataWidth+this.left;y<c;y++,v+=this.dataWidth){const w=v+a/2;for(let S=v,O=v+a-1;S<w;S++,O--){const P=h[S];h[S]=h[O],h[O]=P}}}invert(){return new se(this)}}zs.THUMBNAIL_SCALE_FACTOR=2;class xc extends ie{constructor(a,c,h,y,v,w,S){if(super(c,h),this.dataWidth=y,this.dataHeight=v,this.left=w,this.top=S,a.BYTES_PER_ELEMENT===4){const O=c*h,P=new Uint8ClampedArray(O);for(let U=0;U<O;U++){const q=a[U],X=q>>16&255,re=q>>7&510,de=q&255;P[U]=(X+re+de)/4&255}this.luminances=P}else this.luminances=a;if(y===void 0&&(this.dataWidth=c),v===void 0&&(this.dataHeight=h),w===void 0&&(this.left=0),S===void 0&&(this.top=0),this.left+c>this.dataWidth||this.top+h>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(a,c){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const h=this.getWidth();(c==null||c.length<h)&&(c=new Uint8ClampedArray(h));const y=(a+this.top)*this.dataWidth+this.left;return E.arraycopy(this.luminances,y,c,0,h),c}getMatrix(){const a=this.getWidth(),c=this.getHeight();if(a===this.dataWidth&&c===this.dataHeight)return this.luminances;const h=a*c,y=new Uint8ClampedArray(h);let v=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return E.arraycopy(this.luminances,v,y,0,h),y;for(let w=0;w<c;w++){const S=w*a;E.arraycopy(this.luminances,v,y,S,a),v+=this.dataWidth}return y}isCropSupported(){return!0}crop(a,c,h,y){return new xc(this.luminances,h,y,this.dataWidth,this.dataHeight,this.left+a,this.top+c)}invert(){return new se(this)}}class yg extends H{static forName(a){return this.getCharacterSetECIByName(a)}}class vh{}vh.ISO_8859_1=H.ISO8859_1;class vg{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class xh{static singletonList(a){return[a]}static min(a,c){return a.sort(c)[0]}}class Xv{constructor(a){this.previous=a}getPrevious(){return this.previous}}class pl extends Xv{constructor(a,c,h){super(a),this.value=c,this.bitCount=h}appendTo(a,c){a.appendBits(this.value,this.bitCount)}add(a,c){return new pl(this,a,c)}addBinaryShift(a,c){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new pl(this,a,c)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+I.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class wh extends pl{constructor(a,c,h){super(a,0,0),this.binaryShiftStart=c,this.binaryShiftByteCount=h}appendTo(a,c){for(let h=0;h<this.binaryShiftByteCount;h++)(h===0||h===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):h===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(c[this.binaryShiftStart+h],8)}addBinaryShift(a,c){return new wh(this,a,c)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Yv(V,a,c){return new wh(V,a,c)}function wc(V,a,c){return new pl(V,a,c)}const Zv=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],za=0,ml=1,si=2,xg=3,xs=4,wg=new pl(null,0,0),Uu=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function bg(V){for(let a of V)R.fill(a,-1);return V[za][xs]=0,V[ml][xs]=0,V[ml][za]=28,V[xg][xs]=0,V[si][xs]=0,V[si][za]=15,V}const bh=bg(R.createInt32Array(6,6));class vi{constructor(a,c,h,y){this.token=a,this.mode=c,this.binaryShiftByteCount=h,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,c){let h=this.bitCount,y=this.token;if(a!==this.mode){let w=Uu[this.mode][a];y=wc(y,w&65535,w>>16),h+=w>>16}let v=a===si?4:5;return y=wc(y,c,v),new vi(y,a,0,h+v)}shiftAndAppend(a,c){let h=this.token,y=this.mode===si?4:5;return h=wc(h,bh[this.mode][a],y),h=wc(h,c,5),new vi(h,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(a){let c=this.token,h=this.mode,y=this.bitCount;if(this.mode===xs||this.mode===si){let S=Uu[h][za];c=wc(c,S&65535,S>>16),y+=S>>16,h=za}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,w=new vi(c,h,this.binaryShiftByteCount+1,y+v);return w.binaryShiftByteCount===2078&&(w=w.endBinaryShift(a+1)),w}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let c=this.token;return c=Yv(c,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new vi(c,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let c=this.bitCount+(Uu[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?c+=vi.calculateBinaryShiftCost(a)-vi.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(c+=10),c<=a.bitCount}toBitArray(a){let c=[];for(let y=this.endBinaryShift(a.length).token;y!==null;y=y.getPrevious())c.unshift(y);let h=new D;for(const y of c)y.appendTo(h,a);return h}toString(){return W.format("%s bits=%d bytes=%d",Zv[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}vi.INITIAL_STATE=new vi(wg,za,0,0);function Qv(V){const a=W.getCharCode(" "),c=W.getCharCode("."),h=W.getCharCode(",");V[za][a]=1;const y=W.getCharCode("Z"),v=W.getCharCode("A");for(let X=v;X<=y;X++)V[za][X]=X-v+2;V[ml][a]=1;const w=W.getCharCode("z"),S=W.getCharCode("a");for(let X=S;X<=w;X++)V[ml][X]=X-S+2;V[si][a]=1;const O=W.getCharCode("9"),P=W.getCharCode("0");for(let X=P;X<=O;X++)V[si][X]=X-P+2;V[si][h]=12,V[si][c]=13;const U=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let X=0;X<U.length;X++)V[xg][W.getCharCode(U[X])]=X;const q=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let X=0;X<q.length;X++)W.getCharCode(q[X])>0&&(V[xs][W.getCharCode(q[X])]=X);return V}const _h=Qv(R.createInt32Array(5,256));class bc{constructor(a){this.text=a}encode(){const a=W.getCharCode(" "),c=W.getCharCode(`
`);let h=xh.singletonList(vi.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let w,S=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case W.getCharCode("\r"):w=S===c?2:0;break;case W.getCharCode("."):w=S===a?3:0;break;case W.getCharCode(","):w=S===a?4:0;break;case W.getCharCode(":"):w=S===a?5:0;break;default:w=0}w>0?(h=bc.updateStateListForPair(h,v,w),v++):h=this.updateStateListForChar(h,v)}return xh.min(h,(v,w)=>v.getBitCount()-w.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,c){const h=[];for(let y of a)this.updateStateForChar(y,c,h);return bc.simplifyStates(h)}updateStateForChar(a,c,h){let y=this.text[c]&255,v=_h[a.getMode()][y]>0,w=null;for(let S=0;S<=xs;S++){let O=_h[S][y];if(O>0){if(w==null&&(w=a.endBinaryShift(c)),!v||S===a.getMode()||S===si){const P=w.latchAndAppend(S,O);h.push(P)}if(!v&&bh[a.getMode()][S]>=0){const P=w.shiftAndAppend(S,O);h.push(P)}}}if(a.getBinaryShiftByteCount()>0||_h[a.getMode()][y]===0){let S=a.addBinaryShiftChar(c);h.push(S)}}static updateStateListForPair(a,c,h){const y=[];for(let v of a)this.updateStateForPair(v,c,h,y);return this.simplifyStates(y)}static updateStateForPair(a,c,h,y){let v=a.endBinaryShift(c);if(y.push(v.latchAndAppend(xs,h)),a.getMode()!==xs&&y.push(v.shiftAndAppend(xs,h)),h===3||h===4){let w=v.latchAndAppend(si,16-h).latchAndAppend(si,1);y.push(w)}if(a.getBinaryShiftByteCount()>0){let w=a.addBinaryShiftChar(c).addBinaryShiftChar(c+1);y.push(w)}}static simplifyStates(a){let c=[];for(const h of a){let y=!0;for(const v of c){if(v.isBetterThanOrEqualTo(h)){y=!1;break}h.isBetterThanOrEqualTo(v)&&(c=c.filter(w=>w!==v))}y&&c.push(h)}return c}}class cr{constructor(){}static encodeBytes(a){return cr.encode(a,cr.DEFAULT_EC_PERCENT,cr.DEFAULT_AZTEC_LAYERS)}static encode(a,c,h){let y=new bc(a).encode(),v=I.truncDivision(y.getSize()*c,100)+11,w=y.getSize()+v,S,O,P,U,q;if(h!==cr.DEFAULT_AZTEC_LAYERS){if(S=h<0,O=Math.abs(h),O>(S?cr.MAX_NB_BITS_COMPACT:cr.MAX_NB_BITS))throw new x(W.format("Illegal value %s for layers",h));P=cr.totalBitsInLayer(O,S),U=cr.WORD_SIZE[O];let De=P-P%U;if(q=cr.stuffBits(y,U),q.getSize()+v>De)throw new x("Data to large for user specified layer");if(S&&q.getSize()>U*64)throw new x("Data to large for user specified layer")}else{U=0,q=null;for(let De=0;;De++){if(De>cr.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(S=De<=3,O=S?De+1:De,P=cr.totalBitsInLayer(O,S),w>P)continue;(q==null||U!==cr.WORD_SIZE[O])&&(U=cr.WORD_SIZE[O],q=cr.stuffBits(y,U));let tr=P-P%U;if(!(S&&q.getSize()>U*64)&&q.getSize()+v<=tr)break}}let X=cr.generateCheckWords(q,P,U),re=q.getSize()/U,de=cr.generateModeMessage(S,O,re),he=(S?11:14)+O*4,ge=new Int32Array(he),_e;if(S){_e=he;for(let De=0;De<ge.length;De++)ge[De]=De}else{_e=he+1+2*I.truncDivision(I.truncDivision(he,2)-1,15);let De=I.truncDivision(he,2),tr=I.truncDivision(_e,2);for(let qt=0;qt<De;qt++){let ji=qt+I.truncDivision(qt,15);ge[De-qt-1]=tr-ji-1,ge[De+qt]=tr+ji+1}}let qe=new Q(_e);for(let De=0,tr=0;De<O;De++){let qt=(O-De)*4+(S?9:12);for(let ji=0;ji<qt;ji++){let ws=ji*2;for(let On=0;On<2;On++)X.get(tr+ws+On)&&qe.set(ge[De*2+On],ge[De*2+ji]),X.get(tr+qt*2+ws+On)&&qe.set(ge[De*2+ji],ge[he-1-De*2-On]),X.get(tr+qt*4+ws+On)&&qe.set(ge[he-1-De*2-On],ge[he-1-De*2-ji]),X.get(tr+qt*6+ws+On)&&qe.set(ge[he-1-De*2-ji],ge[De*2+On])}tr+=qt*8}if(cr.drawModeMessage(qe,S,_e,de),S)cr.drawBullsEye(qe,I.truncDivision(_e,2),5);else{cr.drawBullsEye(qe,I.truncDivision(_e,2),7);for(let De=0,tr=0;De<I.truncDivision(he,2)-1;De+=15,tr+=16)for(let qt=I.truncDivision(_e,2)&1;qt<_e;qt+=2)qe.set(I.truncDivision(_e,2)-tr,qt),qe.set(I.truncDivision(_e,2)+tr,qt),qe.set(qt,I.truncDivision(_e,2)-tr),qe.set(qt,I.truncDivision(_e,2)+tr)}let He=new vg;return He.setCompact(S),He.setSize(_e),He.setLayers(O),He.setCodeWords(re),He.setMatrix(qe),He}static drawBullsEye(a,c,h){for(let y=0;y<h;y+=2)for(let v=c-y;v<=c+y;v++)a.set(v,c-y),a.set(v,c+y),a.set(c-y,v),a.set(c+y,v);a.set(c-h,c-h),a.set(c-h+1,c-h),a.set(c-h,c-h+1),a.set(c+h,c-h),a.set(c+h,c-h+1),a.set(c+h,c+h-1)}static generateModeMessage(a,c,h){let y=new D;return a?(y.appendBits(c-1,2),y.appendBits(h-1,6),y=cr.generateCheckWords(y,28,4)):(y.appendBits(c-1,5),y.appendBits(h-1,11),y=cr.generateCheckWords(y,40,4)),y}static drawModeMessage(a,c,h,y){let v=I.truncDivision(h,2);if(c)for(let w=0;w<7;w++){let S=v-3+w;y.get(w)&&a.set(S,v-5),y.get(w+7)&&a.set(v+5,S),y.get(20-w)&&a.set(S,v+5),y.get(27-w)&&a.set(v-5,S)}else for(let w=0;w<10;w++){let S=v-5+w+I.truncDivision(w,5);y.get(w)&&a.set(S,v-7),y.get(w+10)&&a.set(v+7,S),y.get(29-w)&&a.set(S,v+7),y.get(39-w)&&a.set(v-7,S)}}static generateCheckWords(a,c,h){let y=a.getSize()/h,v=new yh(cr.getGF(h)),w=I.truncDivision(c,h),S=cr.bitsToWords(a,h,w);v.encode(S,w-y);let O=c%h,P=new D;P.appendBits(0,O);for(const U of Array.from(S))P.appendBits(U,h);return P}static bitsToWords(a,c,h){let y=new Int32Array(h),v,w;for(v=0,w=a.getSize()/c;v<w;v++){let S=0;for(let O=0;O<c;O++)S|=a.get(v*c+O)?1<<c-O-1:0;y[v]=S}return y}static getGF(a){switch(a){case 4:return tt.AZTEC_PARAM;case 6:return tt.AZTEC_DATA_6;case 8:return tt.AZTEC_DATA_8;case 10:return tt.AZTEC_DATA_10;case 12:return tt.AZTEC_DATA_12;default:throw new x("Unsupported word size "+a)}}static stuffBits(a,c){let h=new D,y=a.getSize(),v=(1<<c)-2;for(let w=0;w<y;w+=c){let S=0;for(let O=0;O<c;O++)(w+O>=y||a.get(w+O))&&(S|=1<<c-1-O);(S&v)===v?(h.appendBits(S&v,c),w--):(S&v)===0?(h.appendBits(S|1,c),w--):h.appendBits(S,c)}return h}static totalBitsInLayer(a,c){return((c?88:112)+16*a)*a}}cr.DEFAULT_EC_PERCENT=33,cr.DEFAULT_AZTEC_LAYERS=0,cr.MAX_NB_BITS=32,cr.MAX_NB_BITS_COMPACT=4,cr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class _c{encode(a,c,h,y){return this.encodeWithHints(a,c,h,y,null)}encodeWithHints(a,c,h,y,v){let w=vh.ISO_8859_1,S=cr.DEFAULT_EC_PERCENT,O=cr.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(Nn.CHARACTER_SET)&&(w=yg.forName(v.get(Nn.CHARACTER_SET).toString())),v.has(Nn.ERROR_CORRECTION)&&(S=I.parseInt(v.get(Nn.ERROR_CORRECTION).toString())),v.has(Nn.AZTEC_LAYERS)&&(O=I.parseInt(v.get(Nn.AZTEC_LAYERS).toString()))),_c.encodeLayers(a,c,h,y,w,S,O)}static encodeLayers(a,c,h,y,v,w,S){if(c!==Ie.AZTEC)throw new x("Can only encode AZTEC, but got "+c);let O=cr.encode(W.getBytes(a,v),w,S);return _c.renderResult(O,h,y)}static renderResult(a,c,h){let y=a.getMatrix();if(y==null)throw new Oe;let v=y.getWidth(),w=y.getHeight(),S=Math.max(c,v),O=Math.max(h,w),P=Math.min(S/v,O/w),U=(S-v*P)/2,q=(O-w*P)/2,X=new Q(S,O);for(let re=0,de=q;re<w;re++,de+=P)for(let he=0,ge=U;he<v;he++,ge+=P)y.get(he,re)&&X.setRegion(ge,de,P,P);return X}}r.AbstractExpandedDecoder=oh,r.ArgumentException=g,r.ArithmeticException=Ce,r.AztecCode=vg,r.AztecCodeReader=Dr,r.AztecCodeWriter=_c,r.AztecDecoder=Qe,r.AztecDetector=Cr,r.AztecDetectorResult=xe,r.AztecEncoder=cr,r.AztecHighLevelEncoder=bc,r.AztecPoint=It,r.BarcodeFormat=Ie,r.Binarizer=N,r.BinaryBitmap=_,r.BitArray=D,r.BitMatrix=Q,r.BitSource=uh,r.BrowserAztecCodeReader=rh,r.BrowserBarcodeReader=ug,r.BrowserCodeReader=be,r.BrowserDatamatrixCodeReader=Hv,r.BrowserMultiFormatReader=vc,r.BrowserPDF417Reader=Fu,r.BrowserQRCodeReader=gg,r.BrowserQRCodeSvgWriter=vo,r.CharacterSetECI=H,r.ChecksumException=T,r.Code128Reader=Ye,r.Code39Reader=dn,r.DataMatrixDecodedBitStreamParser=gs,r.DataMatrixReader=ys,r.DecodeHintType=$,r.DecoderResult=Te,r.DefaultGridSampler=We,r.DetectorResult=le,r.EAN13Reader=rs,r.EncodeHintType=Nn,r.Exception=f,r.FormatException=B,r.GenericGF=tt,r.GenericGFPoly=Ve,r.GlobalHistogramBinarizer=J,r.GridSampler=rt,r.GridSamplerInstance=it,r.HTMLCanvasElementLuminanceSource=me,r.HybridBinarizer=te,r.ITFReader=fr,r.IllegalArgumentException=x,r.IllegalStateException=Oe,r.InvertedLuminanceSource=se,r.LuminanceSource=ie,r.MathUtils=dt,r.MultiFormatOneDReader=ol,r.MultiFormatReader=Bu,r.MultiFormatWriter=Kv,r.NotFoundException=Y,r.OneDReader=Lr,r.PDF417DecodedBitStreamParser=Se,r.PDF417DecoderErrorCorrection=hh,r.PDF417Reader=Wn,r.PDF417ResultMetadata=Du,r.PerspectiveTransform=Ge,r.PlanarYUVLuminanceSource=zs,r.QRCodeByteMatrix=$u,r.QRCodeDataMask=Xt,r.QRCodeDecodedBitStreamParser=Vr,r.QRCodeDecoderErrorCorrectionLevel=br,r.QRCodeDecoderFormatInformation=Vn,r.QRCodeEncoder=Pr,r.QRCodeEncoderQRCode=yo,r.QRCodeMaskUtil=qr,r.QRCodeMatrixUtil=Tt,r.QRCodeMode=At,r.QRCodeReader=yi,r.QRCodeVersion=bt,r.QRCodeWriter=hl,r.RGBLuminanceSource=xc,r.RSS14Reader=Br,r.RSSExpandedReader=Re,r.ReaderException=fl,r.ReedSolomonDecoder=Ke,r.ReedSolomonEncoder=yh,r.ReedSolomonException=St,r.Result=Pe,r.ResultMetadataType=Be,r.ResultPoint=Fe,r.StringUtils=W,r.UnsupportedOperationException=ce,r.VideoInputDevice=ne,r.WhiteRectangleDetector=Ae,r.WriterException=Tr,r.ZXingArrays=R,r.ZXingCharset=yg,r.ZXingInteger=I,r.ZXingStandardCharsets=vh,r.ZXingStringBuilder=Z,r.ZXingStringEncoding=K,r.ZXingSystem=E,r.createAbstractExpandedDecoder=lg,Object.defineProperty(r,"__esModule",{value:!0})}))})(gp,gp.exports)),gp.exports}var tn=a_e();const o_e=Ar(tn),l_e=ZD({__proto__:null,default:o_e},[tn]);var zD=(function(){function t(e,r,n){if(this.formatMap=new Map([[ft.QR_CODE,tn.BarcodeFormat.QR_CODE],[ft.AZTEC,tn.BarcodeFormat.AZTEC],[ft.CODABAR,tn.BarcodeFormat.CODABAR],[ft.CODE_39,tn.BarcodeFormat.CODE_39],[ft.CODE_93,tn.BarcodeFormat.CODE_93],[ft.CODE_128,tn.BarcodeFormat.CODE_128],[ft.DATA_MATRIX,tn.BarcodeFormat.DATA_MATRIX],[ft.MAXICODE,tn.BarcodeFormat.MAXICODE],[ft.ITF,tn.BarcodeFormat.ITF],[ft.EAN_13,tn.BarcodeFormat.EAN_13],[ft.EAN_8,tn.BarcodeFormat.EAN_8],[ft.PDF_417,tn.BarcodeFormat.PDF_417],[ft.RSS_14,tn.BarcodeFormat.RSS_14],[ft.RSS_EXPANDED,tn.BarcodeFormat.RSS_EXPANDED],[ft.UPC_A,tn.BarcodeFormat.UPC_A],[ft.UPC_E,tn.BarcodeFormat.UPC_E],[ft.UPC_EAN_EXTENSION,tn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!l_e)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(e),s=new Map;s.set(tn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(tn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,i){try{n(r.decode(e))}catch(s){i(s)}})},t.prototype.decode=function(e){var r=new tn.MultiFormatReader(this.verbose,this.hints),n=new tn.HTMLCanvasElementLuminanceSource(e),i=new tn.BinaryBitmap(new tn.HybridBinarizer(n)),s=r.decode(i);return{text:s.text,format:cq.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t})(),c_e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},u_e=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},WD=(function(){function t(e,r,n){if(this.formatMap=new Map([[ft.QR_CODE,"qr_code"],[ft.AZTEC,"aztec"],[ft.CODABAR,"codabar"],[ft.CODE_39,"code_39"],[ft.CODE_93,"code_93"],[ft.CODE_128,"code_128"],[ft.DATA_MATRIX,"data_matrix"],[ft.ITF,"itf"],[ft.EAN_13,"ean_13"],[ft.EAN_8,"ean_8"],[ft.PDF_417,"pdf417"],[ft.UPC_A,"upc_a"],[ft.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return c_e(this,void 0,void 0,function(){var r,n;return u_e(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=i.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:cq.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,i=0,s=e;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>n&&(n=u,r=o)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,i=e;n<i.length;n++){var s=i[n];this.formatMap.has(s)?r.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,i){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t})(),HD=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},GD=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},d_e=(function(){function t(e,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&WD.isSupported()?(this.primaryDecoder=new WD(e,n,i),this.secondaryDecoder=new zD(e,n,i)):this.primaryDecoder=new zD(e,n,i)}return t.prototype.decodeAsync=function(e){return HD(this,void 0,void 0,function(){var r;return GD(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return HD(this,void 0,void 0,function(){var r,n;return GD(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var i=n[r];e+=i}var s=e/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t})(),BN=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),C1=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},T1=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},dq=(function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t})(),f_e=(function(t){BN(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var i={advanced:[n]};return this.track.applyConstraints(i)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e})(dq),h_e=(function(t){BN(e,t);function e(r){return t.call(this,"zoom",r)||this}return e})(f_e),p_e=(function(t){BN(e,t);function e(r){return t.call(this,"torch",r)||this}return e})(dq),m_e=(function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new h_e(this.track)},t.prototype.torchFeature=function(){return new p_e(this.track)},t})(),g_e=(function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,i=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,i),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,i){return C1(this,void 0,void 0,function(){var s,o;return T1(this,function(u){switch(u.label){case 0:return s=new t(e,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return C1(this,void 0,void 0,function(){return T1(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var i=e.mediaStream.getVideoTracks(),s=i.length,o=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new m_e(this.getFirstTrackOrFail())},t})(),y_e=(function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return C1(this,void 0,void 0,function(){return T1(this,function(i){return[2,g_e.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return C1(this,void 0,void 0,function(){var r,n;return T1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=i.sent(),[2,new t(n)]}})})},t})(),KD=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},XD=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},v_e=(function(){function t(){}return t.failIfNotSupported=function(){return KD(this,void 0,void 0,function(){return XD(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return KD(this,void 0,void 0,function(){return XD(this,function(r){return[2,y_e.create(e)]})})},t})(),x_e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function u(g){try{f(n.next(g))}catch(x){o(x)}}function d(g){try{f(n.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,d)}f((n=n.apply(t,e||[])).next())})},w_e=function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return d([f,g])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(g){f=[6,g],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},b_e=(function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=jd.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=jd.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return x_e(this,void 0,void 0,function(){var e,r,n,i,s,o,u;return w_e(this,function(d){switch(d.label){case 0:return e=function(f){for(var g=f.getVideoTracks(),x=0,_=g;x<_.length;x++){var T=_[x];T.enabled=!1,T.stop(),f.removeTrack(T)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=d.sent(),i=[],s=0,o=n;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return e(r),[2,i]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(s){for(var o=[],u=0,d=s;u<d.length;u++){var f=d[u];f.kind==="video"&&o.push({id:f.id,label:f.label})}e(o)},i=MediaStreamTrack;i.getSources(n)})},t})(),Sn;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(Sn||(Sn={}));var __e=(function(){function t(){this.state=Sn.NOT_STARTED,this.onGoingTransactionNewState=Sn.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===Sn.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Sn.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===Sn.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Sn.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Sn.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case Sn.UNKNOWN:throw"Transition from unknown is not allowed";case Sn.NOT_STARTED:this.failIfNewStateIs(e,[Sn.PAUSED]);break;case Sn.SCANNING:break;case Sn.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,i=r;n<i.length;n++){var s=i[n];if(e===s)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t})(),S_e=(function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===Sn.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==Sn.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Sn.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===Sn.PAUSED},t})(),E_e=(function(){function t(){}return t.create=function(){return new S_e(new __e)},t})(),A_e=(function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}})(),As=(function(t){A_e(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e})(r_e),C_e=(function(){function t(e,r){this.logger=r,this.fps=As.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=As.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?uq.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Ro(this.qrbox)},t.create=function(e,r){return new t(e,r)},t})(),T_e=(function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new i_e(this.verbose),this.qrcode=new d_e(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=E_e.create()}return t.prototype.start=function(e,r,n,i){var s=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=C_e.create(r,this.logger);this.clearElement();var d=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=d,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:As.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var x=this,_=this.stateManagerProxy.startTransition(Sn.SCANNING);return new Promise(function(T,N){var E=f?u.videoConstraints:x.createVideoConstraints(e);if(!E){_.cancel(),N("videoConstraints should be defined");return}var A={};(!f||u.aspectRatio)&&(A.aspectRatio=u.aspectRatio);var M={onRenderSurfaceReady:function(R,I){x.setupUi(R,I,u),x.isScanning=!0,x.foreverScan(u,n,o)}};v_e.failIfNotSupported().then(function(R){R.create(E).then(function(I){return I.render(s.element,A,M).then(function(D){x.renderedCamera=D,_.execute(),T(null)}).catch(function(D){_.cancel(),N(D)})}).catch(function(I){_.cancel(),N(jd.errorGettingUserMedia(I))})}).catch(function(R){_.cancel(),N(jd.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Sn.PAUSED),this.showPausedState(),(Ro(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(Sn.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Sn.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var s=document.getElementById(As.SHADED_REGION_ELEMENT_ID);s&&e.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),n(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ro(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var o=new Image;o.onload=function(){var u=o.width,d=o.height,f=document.getElementById(n.elementId),g=f.clientWidth?f.clientWidth:As.DEFAULT_WIDTH,x=Math.max(f.clientHeight?f.clientHeight:d,As.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(u,d,g,x);if(r){var T=n.createCanvasElement(g,x,"qr-canvas-visible");T.style.display="inline-block",f.appendChild(T);var N=T.getContext("2d");if(!N)throw"Unable to get 2d context from canvas";N.canvas.width=g,N.canvas.height=x,N.drawImage(o,0,0,u,d,_.x,_.y,_.width,_.height)}var E=As.FILE_SCAN_HIDDEN_CANVAS_PADDING,A=Math.max(o.width,_.width),M=Math.max(o.height,_.height),R=A+2*E,I=M+2*E,D=n.createCanvasElement(R,I);f.appendChild(D);var L=D.getContext("2d");if(!L)throw"Unable to get 2d context from canvas";L.canvas.width=R,L.canvas.height=I,L.drawImage(o,0,0,u,d,E,E,A,M);try{n.qrcode.decodeRobustlyAsync(D).then(function($){i(VD.createFromQrcodeResult($))}).catch(s)}catch($){s("QR code parse error, error = ".concat($))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return b_e.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!uq.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[ft.QR_CODE,ft.AZTEC,ft.CODABAR,ft.CODE_39,ft.CODE_93,ft.CODE_128,ft.DATA_MATRIX,ft.MAXICODE,ft.ITF,ft.EAN_13,ft.EAN_8,ft.PDF_417,ft.RSS_14,ft.RSS_EXPANDED,ft.UPC_A,ft.UPC_E,ft.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,s=e.formatsToSupport;i<s.length;i++){var o=s[i];t_e(o)?n.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Ro(e))return!0;if(!Ro(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Ro(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Ro(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var i=this,s=n.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,r,s),u=function(f){if(f<As.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(As.MIN_QR_BOX_SIZE,"px.")},d=function(f){return f>e&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=e),f};u(o.width),u(o.height),o.width=d(o.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var i=Ro(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(e,r,i);s.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=n.isShadedBoxEnabled()&&s.height<=r,u={x:0,y:0,width:e,height:r},d=o?this.getShadedRegionBounds(e,r,s):u,f=this.createCanvasElement(d.width,d.height),g={willReadFrequently:!0},x=f.getContext("2d",g);x.canvas.width=d.width,x.canvas.height=d.height,this.element.append(f),o&&this.possiblyInsertShadingElement(this.element,e,r,s),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=x,this.canvasElement=f},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=jd.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return e(i.text,VD.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var s=jd.codeParseError(i);return r(s,n_e.createFrom(s)),!1})},t.prototype.foreverScan=function(e,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,f=this.qrRegion.height*u,g=this.qrRegion.x*o,x=this.qrRegion.y*u;this.context.drawImage(s,g,x,d,f,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(e,r,n)},i.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(T){!T&&e.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){_()})):_()}).catch(function(T){i.logger.logError("Error happend while scanning context",T),_()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",i={user:!0,environment:!0},s="exact",o=function(N){if(N in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(N,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var d=Object.keys(e)[0];if(d!==r&&d!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var f=e.facingMode;if(typeof f=="string"){if(o(f))return{facingMode:f}}else if(typeof f=="object")if(s in f){if(o(f["".concat(s)]))return{facingMode:{exact:f["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var g=typeof f;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var x=e.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(s in x)return{deviceId:{exact:x["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var _=typeof x;throw"Invalid type of 'deviceId' = ".concat(_)}}}var T=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(T)},t.prototype.computeCanvasDrawConfig=function(e,r,n,i){if(e<=n&&r<=i){var s=(n-e)/2,o=(i-r)/2;return{x:s,y:o,width:e,height:r}}else{var u=e,d=r;return e>n&&(r=n/e*r,e=n),r>i&&(e=i/r*e,r=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(d)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,i)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?As.BORDER_SHADER_MATCH_COLOR:As.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var i=e,s=r,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=Ro(n)?"qr-canvas":n,o},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,i){if(!(r-i.width<1||n-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(r-i.width)/2,u=(n-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(As.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{var d=5,f=40;this.insertShaderBorders(s,f,d,-d,null,0,!0),this.insertShaderBorders(s,f,d,-d,null,0,!1),this.insertShaderBorders(s,f,d,null,-d,0,!0),this.insertShaderBorders(s,f,d,null,-d,0,!1),this.insertShaderBorders(s,d,f+d,-d,null,-d,!0),this.insertShaderBorders(s,d,f+d,null,-d,-d,!0),this.insertShaderBorders(s,d,f+d,-d,null,-d,!1),this.insertShaderBorders(s,d,f+d,null,-d,-d,!1),this.hasBorderShaders=!0}e.append(s)}},t.prototype.insertShaderBorders=function(e,r,n,i,s,o,u){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=As.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(n,"px"),i!==null&&(d.style.top="".concat(i,"px")),s!==null&&(d.style.bottom="".concat(s,"px")),u?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),e.appendChild(d)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t})(),YD;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(YD||(YD={}));const N_e=({status:t})=>{switch(t?.toLowerCase()||"absent"){case"present":return m.jsxs(Fn,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[m.jsx(Os,{className:"w-3 h-3 mr-1"}),"Present"]});case"late":return m.jsxs(Fn,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[m.jsx(Hl,{className:"w-3 h-3 mr-1"}),"Late"]});case"absent":return m.jsxs(Fn,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:[m.jsx(Op,{className:"w-3 h-3 mr-1"}),"Absent"]});case"excused":return m.jsxs(Fn,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:[m.jsx(no,{className:"w-3 h-3 mr-1"}),"Excused"]});default:return m.jsx(Fn,{variant:"secondary",children:t})}};function O_e(){const{user:t}=Ui(),{data:e,isLoading:r}=pT(t?.id),{toast:n}=hi(),[i,s]=j.useState("all"),[o,u]=j.useState("all"),[d,f]=j.useState(!1),[g,x]=j.useState(!1),[_,T]=j.useState(null),[N,E]=j.useState(""),[A,M]=j.useState(!1),R=j.useRef(null),I="qr-reader",{data:D,isLoading:L,refetch:$}=fT({studentId:t?.id},{refetchInterval:5e3});j.useEffect(()=>{},[t,D]);const B=j.useMemo(()=>{const J=[],te=new Date;for(let ie=0;ie<12;ie++){const se=new Date(te.getFullYear(),te.getMonth()-ie,1);J.push({value:vn(se,"yyyy-MM"),label:vn(se,"MMMM yyyy")})}return J},[]),z=j.useMemo(()=>D?D.filter(J=>{const te=i==="all"||J.subjectId?.toString()===i,ie=o==="all"||J.date?.startsWith(o);return te&&ie}).sort((J,te)=>{const ie=J.date||"";return(te.date||"").localeCompare(ie)}):[],[D,i,o]),H=j.useMemo(()=>!D||!e?[]:e.map(J=>{const te=D.filter(Pe=>Pe.subjectId===J.id),ie=te.filter(Pe=>Pe.status?.toLowerCase()==="present").length,se=te.filter(Pe=>Pe.status?.toLowerCase()==="late").length,me=te.filter(Pe=>Pe.status?.toLowerCase()==="absent").length,ne=te.filter(Pe=>Pe.status?.toLowerCase()==="excused").length,ue=te.length,be=ue>0?((ie+se)/ue*100).toFixed(1):"0.0";return{subject:J,present:ie,late:se,absent:me,excused:ne,total:ue,attendanceRate:be}}),[D,e]),ce=j.useMemo(()=>{if(!D)return{present:0,late:0,absent:0,excused:0,total:0,rate:"0.0"};const J=D.filter(ue=>ue.status?.toLowerCase()==="present").length,te=D.filter(ue=>ue.status?.toLowerCase()==="late").length,ie=D.filter(ue=>ue.status?.toLowerCase()==="absent").length,se=D.filter(ue=>ue.status?.toLowerCase()==="excused").length,me=D.length,ne=me>0?((J+te)/me*100).toFixed(1):"0.0";return{present:J,late:te,absent:ie,excused:se,total:me,rate:ne}},[D]),K=j.useCallback(async()=>{if(R.current){try{R.current.getState()===2&&await R.current.stop(),R.current.clear()}catch(J){console.error("Error stopping scanner:",J)}R.current=null}x(!1)},[]),W=j.useCallback(async J=>{if(A)return;console.log("Raw QR data received:",J),console.log("QR data length:",J?.length);let te,ie;if(J.startsWith("{")&&J.endsWith("}"))try{const se=JSON.parse(J);te=se.token,ie=se.subjectId,console.log("Parsed JSON QR data:",se)}catch(se){console.error("JSON parse error:",se);return}else if(J.includes("?")&&J.includes("token="))try{const se=new URL(J);te=se.searchParams.get("token")||"",ie=se.searchParams.get("subjectId")||"",console.log("Parsed URL QR data - token:",te,"subjectId:",ie)}catch(se){console.error("URL parse error:",se);return}else{console.log("Invalid QR format, ignoring...");return}if(!te||!ie){console.log("Missing token or subjectId");return}M(!0),await K();try{if(!t||!t.id)throw new Error("Please log in to scan attendance");if(t.role!=="student")throw new Error("Only students can scan attendance QR codes");console.log("Processing scan for user:",t.id,"token:",te,"subjectId:",ie);const{data:se,error:me}=await Et.from("qr_codes").select("id, subject_id, code, active").eq("code",te).eq("active",!0).single();if(me||!se)throw console.log("QR validation failed:",me),new Error("Invalid or expired QR code. Please ask your teacher to regenerate.");const ne=se.subject_id,ue=te.includes("_LATE");console.log("QR code validated, subjectId:",ne,"isLate:",ue);const{data:be,error:Pe}=await Et.from("enrollments").select("id").eq("student_id",t.id).eq("subject_id",ne).single();if(Pe||!be)throw console.log("Enrollment check failed:",Pe),new Error("You are not enrolled in this subject");const nt=new Date().toISOString().split("T")[0],{data:Ie}=await Et.from("attendance").select("id, status").eq("student_id",t.id).eq("subject_id",ne).eq("date",nt),je=ue?"late":"present";if(Ie&&Ie.length>0){const Ve=Ie[0];if(Ve.status==="present"||Ve.status==="late"){T("already"),E(`You're already checked in as ${Ve.status}`);return}const{error:Ce}=await Et.from("attendance").update({status:je,time_in:J0(),remarks:ue?"Arrived late (updated)":"On time (updated)"}).eq("id",Ve.id);if(Ce)throw console.error("Failed to update attendance:",Ce),new Error("Failed to update attendance record");await Et.from("qr_codes").update({active:!1}).eq("id",se.id),T(je),E(`Attendance updated to ${je}!`),$(),n({title:je==="present"?" Present!":" Marked Late",description:`Your attendance has been updated to ${je}.`});return}await Et.from("qr_codes").update({active:!1}).eq("id",se.id);const Be=ue?"late":"present",{data:Te,error:Ue}=await Et.from("attendance").insert({student_id:t.id,subject_id:ne,date:nt,status:Be,time_in:J0(),remarks:ue?"Arrived late":"On time"}).select().single();if(Ue)throw console.error("Failed to insert attendance:",Ue),new Error("Failed to record attendance. Please try again.");console.log("Attendance recorded successfully:",Te),T(Be),E(`Attendance recorded as ${Be}`),$(),n({title:Be==="present"?" Present!":" Marked Late",description:`Attendance recorded as ${Be}`})}catch(se){console.error("QR scan error:",se),T("error"),E(se instanceof Error?se.message:"Failed to process QR code"),n({title:"Scan Failed",description:se instanceof Error?se.message:"Failed to process QR code",variant:"destructive"})}finally{M(!1)}},[A,K,$,n,t]),Z=j.useCallback(async()=>{f(!0),T(null),E(""),x(!1),setTimeout(async()=>{try{const J=new T_e(I);R.current=J,await J.start({facingMode:"environment"},{fps:5,qrbox:{width:250,height:250},aspectRatio:1,disableFlip:!1},te=>{console.log("Scanned QR:",te),W(te)},()=>{}),x(!0)}catch(J){console.error("Failed to start scanner:",J),x(!1),n({title:"Camera Error",description:"Unable to access camera. Please check permissions.",variant:"destructive"})}},200)},[W,n]),Q=j.useCallback(()=>{K(),f(!1),T(null),E("")},[K]);j.useEffect(()=>()=>{R.current&&R.current.stop().catch(()=>{})},[]),j.useEffect(()=>{const J=sessionStorage.getItem("pendingAttendanceScan");if(J&&t&&t.role==="student")try{const{token:te,subjectId:ie,timestamp:se}=JSON.parse(J),me=300*1e3;if(Date.now()-se<me){sessionStorage.removeItem("pendingAttendanceScan");const ne=`${window.location.origin}/login?token=${te}&subjectId=${ie}&scan=attendance`;n({title:"Processing Attendance",description:"Recording your attendance from QR code scan..."}),W(ne)}else sessionStorage.removeItem("pendingAttendanceScan"),n({title:"QR Code Expired",description:"The scanned QR code has expired. Please scan again.",variant:"destructive"})}catch(te){console.error("Failed to process pending scan:",te),sessionStorage.removeItem("pendingAttendanceScan")}},[t,W,n]);const Y=j.useCallback(()=>{T(null),E(""),Z()},[Z]);return r||L?m.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:m.jsx(Zi,{className:"w-8 h-8 animate-spin text-primary"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground font-display",children:"Attendance"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"View your attendance records and scan QR to check-in"})]}),m.jsxs(yt,{onClick:Z,className:"gap-2",size:"lg",children:[m.jsx(PH,{className:"w-5 h-5"}),"Scan QR Code"]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:m.jsx(Fo,{className:"w-5 h-5 text-primary"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold",children:ce.total}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Classes"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center",children:m.jsx(Os,{className:"w-5 h-5 text-green-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-green-600",children:ce.present}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Present"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-yellow-100 flex items-center justify-center",children:m.jsx(Hl,{className:"w-5 h-5 text-yellow-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:ce.late}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Late"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center",children:m.jsx(Op,{className:"w-5 h-5 text-red-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-red-600",children:ce.absent}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Absent"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center",children:m.jsx(no,{className:"w-5 h-5 text-blue-600"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-blue-600",children:ce.excused}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Excused"})]})]})})}),m.jsx($t,{children:m.jsx(Wt,{className:"p-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:m.jsx("span",{className:"text-lg font-bold text-primary",children:"%"})}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-2xl font-bold text-primary",children:[ce.rate,"%"]}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Attendance Rate"})]})]})})})]}),H.length>0&&m.jsxs($t,{children:[m.jsx(Rr,{children:m.jsx(kr,{className:"text-lg",children:"Attendance by Subject"})}),m.jsx(Wt,{children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:H.map(J=>m.jsxs("div",{className:"p-4 rounded-lg border bg-card hover:shadow-md transition-shadow",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:J.subject.name}),m.jsx("p",{className:"text-xs text-muted-foreground",children:J.subject.code})]}),m.jsxs(Fn,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:[J.attendanceRate,"%"]})]}),m.jsxs("div",{className:"flex gap-3 text-sm flex-wrap",children:[m.jsxs("span",{className:"text-green-600",children:[J.present," Present"]}),m.jsxs("span",{className:"text-yellow-600",children:[J.late," Late"]}),m.jsxs("span",{className:"text-red-600",children:[J.absent," Absent"]}),m.jsxs("span",{className:"text-blue-600",children:[J.excused," Excused"]})]})]},J.subject.id))})})]}),m.jsxs($t,{children:[m.jsx(Rr,{children:m.jsx(kr,{className:"text-lg",children:"Attendance History"})}),m.jsxs(Wt,{children:[m.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[m.jsx("div",{className:"flex-1 min-w-[200px]",children:m.jsxs(di,{value:i,onValueChange:s,children:[m.jsx(ei,{children:m.jsx(fi,{placeholder:"Filter by subject"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Subjects"}),e?.map(J=>m.jsxs(or,{value:J.id.toString(),children:[J.code," - ",J.name]},J.id))]})]})}),m.jsx("div",{className:"flex-1 min-w-[200px]",children:m.jsxs(di,{value:o,onValueChange:u,children:[m.jsx(ei,{children:m.jsx(fi,{placeholder:"Filter by month"})}),m.jsxs(ti,{children:[m.jsx(or,{value:"all",children:"All Months"}),B.map(J=>m.jsx(or,{value:J.value,children:J.label},J.value))]})]})})]}),z.length>0?m.jsx("div",{className:"rounded-lg border overflow-hidden",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(ln,{className:"bg-muted/50",children:[m.jsx(Ht,{children:"Date"}),m.jsx(Ht,{children:"Subject"}),m.jsx(Ht,{className:"whitespace-nowrap",children:"Time In"}),m.jsx(Ht,{children:"Status"}),m.jsx(Ht,{children:"Remarks"})]})}),m.jsx(uo,{children:z.map((J,te)=>m.jsxs(ln,{children:[m.jsx(Dt,{className:"font-medium",children:J.date?vn(Ia(J.date),"EEEE, MMM d, yyyy"):"-"}),m.jsx(Dt,{children:m.jsx("p",{className:"font-medium",children:J.subjectName||"Unknown"})}),m.jsx(Dt,{className:"whitespace-nowrap",children:J.timeIn&&J.timeIn instanceof Date&&!isNaN(J.timeIn.getTime())?J.timeIn.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"-"}),m.jsx(Dt,{children:m.jsx(N_e,{status:J.status})}),m.jsx(Dt,{className:"text-muted-foreground",children:J.remarks||"-"})]},J.id||te))})]})}):m.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[m.jsx(Fo,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),m.jsx("p",{children:"No attendance records found"}),m.jsx("p",{className:"text-sm",children:"Your attendance will appear here once recorded"})]})]})]}),m.jsx(Nu,{open:d,onOpenChange:J=>!J&&Q(),children:m.jsxs(ic,{className:"sm:max-w-md",children:[m.jsx(sc,{children:m.jsxs(ac,{className:"flex items-center gap-2",children:[m.jsx(IC,{className:"w-5 h-5"}),"Scan Attendance QR Code"]})}),m.jsx("div",{className:"space-y-4",children:_?m.jsxs("div",{className:"text-center py-8",children:[m.jsx("div",{className:`w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-4 ${_==="present"?"bg-green-100":_==="late"?"bg-yellow-100":_==="already"?"bg-blue-100":"bg-red-100"}`,children:_==="present"?m.jsx(Os,{className:"w-10 h-10 text-green-600"}):_==="late"?m.jsx(Hl,{className:"w-10 h-10 text-yellow-600"}):_==="already"?m.jsx(no,{className:"w-10 h-10 text-blue-600"}):m.jsx(Op,{className:"w-10 h-10 text-red-600"})}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:_==="present"?"Present!":_==="late"?"Marked Late":_==="already"?"Already Checked In":"Scan Failed"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:N}),m.jsxs("div",{className:"flex gap-2 justify-center",children:[_==="error"&&m.jsx(yt,{onClick:Y,variant:"outline",children:"Try Again"}),m.jsx(yt,{onClick:Q,children:"Done"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"relative aspect-square bg-black rounded-lg overflow-hidden",children:[m.jsx("div",{id:I,className:"w-full h-full"}),A&&m.jsx("div",{className:"absolute inset-0 bg-black/70 flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(Zi,{className:"w-12 h-12 animate-spin mx-auto mb-2"}),m.jsx("p",{children:"Processing..."})]})}),!g&&!A&&m.jsx("div",{className:"absolute inset-0 bg-gray-900 flex items-center justify-center",children:m.jsxs("div",{className:"text-center text-white",children:[m.jsx(Zi,{className:"w-12 h-12 animate-spin mx-auto mb-2"}),m.jsx("p",{children:"Starting camera..."})]})})]}),m.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Point your camera at the QR code displayed by your teacher"}),m.jsxs(yt,{variant:"outline",className:"w-full",onClick:Q,children:[m.jsx(Ip,{className:"w-4 h-4 mr-2"}),"Cancel"]}),m.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"Note: The QR code changes after each scan to prevent sharing"})]})})]})})]})}function I_e(){const{user:t}=Ui(),{data:e}=Wf(),r=j.useRef(null),[n,i]=j.useState("subject-monthly"),[s,o]=j.useState(""),[u,d]=j.useState(vn(new Date,"yyyy-MM")),[f,g]=j.useState(""),[x,_]=j.useState(!1),[T,N]=j.useState(!1),{data:E}=H1(s?parseInt(s):0),{data:A}=Ba({queryKey:["teacher-attendance",t?.id],queryFn:async()=>{if(!t?.id)return[];const{data:K}=await Et.from("subjects").select("id").eq("teacher_id",t.id);if(!K||K.length===0)return[];const W=K.map(Y=>Y.id),{data:Z,error:Q}=await Et.from("attendance").select(`
          *,
          student:users!student_id(full_name),
          subject:subjects!subject_id(name)
        `).in("subject_id",W);if(Q)throw new Error("Failed to fetch attendance records");return(Z||[]).map(Y=>({id:Y.id,studentId:Y.student_id,subjectId:Y.subject_id,date:Y.date,status:Y.status,timeIn:Y.time_in,remarks:Y.remarks,studentName:Y.student?.full_name||"Unknown",subjectName:Y.subject?.name||"Unknown"}))},enabled:!!t?.id}),M=j.useMemo(()=>{const K=[],W=new Date;for(let Z=0;Z<12;Z++){const Q=new Date(W.getFullYear(),W.getMonth()-Z,1);K.push({value:vn(Q,"yyyy-MM"),label:vn(Q,"MMMM yyyy")})}return K},[]),R=j.useMemo(()=>{if(!A||!s)return[];let K=A.filter(W=>W.subjectId.toString()===s);if(n==="subject-monthly"&&u){const W=T9(Ia(u+"-01")),Z=C9(Ia(u+"-01"));K=K.filter(Q=>{const Y=Ia(Q.date);return I9(Y,{start:W,end:Z})})}return n==="student-subject"&&f&&(K=K.filter(W=>W.studentId.toString()===f)),K.sort((W,Z)=>new Date(Z.date).getTime()-new Date(W.date).getTime()),K},[A,s,u,f,n]),I=j.useMemo(()=>{const K=R.length,W=R.filter(te=>te.status==="present").length,Z=R.filter(te=>te.status==="late").length,Q=R.filter(te=>te.status==="absent").length,Y=R.filter(te=>te.status==="excused").length,J=K>0?((W+Z)/K*100).toFixed(1):"0";return{total:K,present:W,late:Z,absent:Q,excused:Y,attendanceRate:J}},[R]),D=j.useMemo(()=>{const K={};return R.forEach(W=>{const Z=W.studentId.toString();K[Z]||(K[Z]={name:W.studentName,records:[],stats:{present:0,late:0,absent:0,excused:0,total:0}}),K[Z].records.push(W),K[Z].stats[W.status]++,K[Z].stats.total++}),K},[R]),L=e?.find(K=>K.id.toString()===s),$=E?.find(K=>K.id.toString()===f),B=()=>{_(!0),N(!0),setTimeout(()=>_(!1),500)},z=()=>{const K=r.current;if(!K)return;const W=window.open("","_blank");if(!W)return;W.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Attendance Report - ${L?.name||"Report"}</title>
          
      <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        h1 { color: #166534; margin-bottom: 5px; }
        h2 { color: #333; margin-top: 20px; }
        .header { border-bottom: 2px solid #166534; padding-bottom: 10px; margin-bottom: 20px; }
        .meta { color: #666; font-size: 14px; }
        .stats-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin: 20px 0; }
        .stat-box { border: 1px solid #ddd; padding: 10px; border-radius: 5px; text-align: center; }
        .stat-value { font-size: 24px; font-weight: bold; }
        .stat-label { font-size: 12px; color: #666; }
        .present { color: #16a34a; }
        .late { color: #ca8a04; }
        .absent { color: #dc2626; }
        .excused { color: #2563eb; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f3f4f6; }
        .badge { padding: 2px 8px; border-radius: 4px; font-size: 12px; }
        .badge-present { background: #dcfce7; color: #166534; }
        .badge-late { background: #fef3c7; color: #92400e; }
        .badge-absent { background: #fee2e2; color: #991b1b; }
        .badge-excused { background: #dbeafe; color: #1e40af; }
        @media print { body { print-color-adjust: exact; -webkit-print-color-adjust: exact; } }
      </style>
    
        </head>
        <body>
          ${K.innerHTML}
        </body>
      </html>
    `),W.document.close(),W.onload=()=>{W.print()}},H=K=>{switch(K){case"present":return m.jsx(Fn,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Present"});case"late":return m.jsx(Fn,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:"Late"});case"absent":return m.jsx(Fn,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:"Absent"});case"excused":return m.jsx(Fn,{className:"bg-blue-100 text-blue-800 hover:bg-blue-100",children:"Excused"});default:return m.jsx(Fn,{variant:"secondary",children:K})}},ce=()=>!(!s||n==="subject-monthly"&&!u||n==="student-subject"&&!f);return m.jsxs("div",{className:"space-y-4 sm:space-y-6 overflow-x-hidden",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-bold font-display text-gray-900",children:"Reports"}),m.jsx("p",{className:"text-muted-foreground text-sm sm:text-base mt-1",children:"Generate attendance reports and statistics"})]}),m.jsxs("div",{className:"grid lg:grid-cols-[350px_1fr] gap-4 sm:gap-6",children:[m.jsxs($t,{className:"shadow-sm h-fit",children:[m.jsxs(Rr,{className:"p-4 sm:p-6",children:[m.jsxs(kr,{className:"flex items-center gap-2 text-base sm:text-lg",children:[m.jsx(U0,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Report Configuration"]}),m.jsx(on,{className:"text-xs sm:text-sm",children:"Select the type of report and configure parameters"})]}),m.jsxs(Wt,{className:"space-y-4 sm:space-y-6 p-4 sm:p-6 pt-0",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Gi,{className:"text-sm",children:"Report Type"}),m.jsx(lT,{value:n,onValueChange:K=>{i(K),N(!1)},children:m.jsxs(cT,{className:"grid w-full grid-cols-1 h-auto",children:[m.jsxs(eu,{value:"subject-monthly",className:"flex items-center gap-2 py-2 sm:py-3 text-xs sm:text-sm",children:[m.jsx(Hd,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Subject Monthly Report"]}),m.jsxs(eu,{value:"subject-semester",className:"flex items-center gap-2 py-2 sm:py-3 text-xs sm:text-sm",children:[m.jsx(cP,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Subject Semester Report"]}),m.jsxs(eu,{value:"student-subject",className:"flex items-center gap-2 py-2 sm:py-3 text-xs sm:text-sm",children:[m.jsx(Qo,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Student Report"]})]})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Gi,{className:"text-sm",children:"Subject"}),m.jsxs(di,{value:s,onValueChange:K=>{o(K),g(""),N(!1)},children:[m.jsx(ei,{className:"text-sm",children:m.jsx(fi,{placeholder:"Select a subject"})}),m.jsx(ti,{children:e?.map(K=>m.jsxs(or,{value:K.id.toString(),children:[K.code," - ",K.name]},K.id))})]})]}),n==="subject-monthly"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Gi,{className:"text-sm",children:"Month"}),m.jsxs(di,{value:u,onValueChange:K=>{d(K),N(!1)},children:[m.jsx(ei,{className:"text-sm",children:m.jsx(fi,{placeholder:"Select month"})}),m.jsx(ti,{children:M.map(K=>m.jsx(or,{value:K.value,children:K.label},K.value))})]})]}),n==="student-subject"&&s&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(Gi,{className:"text-sm",children:"Student"}),m.jsxs(di,{value:f,onValueChange:K=>{g(K),N(!1)},children:[m.jsx(ei,{className:"text-sm",children:m.jsx(fi,{placeholder:"Select a student"})}),m.jsx(ti,{children:E?.map(K=>m.jsx(or,{value:K.id.toString(),children:K.fullName},K.id))})]})]}),m.jsx(yt,{className:"w-full text-sm",size:"lg",onClick:B,disabled:!ce()||x,children:x?m.jsx(m.Fragment,{children:"Generating..."}):m.jsxs(m.Fragment,{children:[m.jsx(U0,{className:"w-4 h-4 mr-2"}),"Generate Report"]})})]})]}),m.jsxs($t,{className:"shadow-sm overflow-hidden",children:[m.jsxs(Rr,{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3 p-4 sm:p-6",children:[m.jsxs("div",{children:[m.jsxs(kr,{className:"flex items-center gap-2 text-base sm:text-lg",children:[m.jsx(cP,{className:"w-4 h-4 sm:w-5 sm:h-5"}),"Report Preview"]}),m.jsx(on,{className:"text-xs sm:text-sm",children:"Preview and download your generated report"})]}),T&&m.jsxs(yt,{onClick:z,variant:"outline",size:"sm",className:"w-full sm:w-auto",children:[m.jsx(NH,{className:"w-4 h-4 mr-2"}),"Print / Save PDF"]})]}),m.jsx(Wt,{className:"p-4 sm:p-6 pt-0",children:T?m.jsxs("div",{ref:r,className:"space-y-4 sm:space-y-6",children:[m.jsxs("div",{className:"header border-b-2 border-primary pb-3 sm:pb-4",children:[m.jsxs("h1",{className:"text-lg sm:text-2xl font-bold text-primary",children:[n==="subject-monthly"&&"Monthly Attendance Report",n==="subject-semester"&&"Semester Attendance Report",n==="student-subject"&&"Student Attendance Report"]}),m.jsxs("div",{className:"meta text-xs sm:text-sm text-muted-foreground mt-2 space-y-0.5 sm:space-y-1",children:[m.jsxs("p",{children:[m.jsx("strong",{children:"Subject:"})," ",L?.code," - ",L?.name]}),n==="subject-monthly"&&m.jsxs("p",{children:[m.jsx("strong",{children:"Period:"})," ",M.find(K=>K.value===u)?.label]}),n==="subject-semester"&&m.jsxs("p",{children:[m.jsx("strong",{children:"Period:"})," Full Semester"]}),n==="student-subject"&&$&&m.jsxs("p",{children:[m.jsx("strong",{children:"Student:"})," ",$.fullName]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Generated:"})," ",vn(new Date,"MMMM d, yyyy h:mm a")]}),m.jsxs("p",{children:[m.jsx("strong",{children:"Generated By:"})," ",t?.fullName]})]})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Summary Statistics"}),m.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-2 sm:gap-4",children:[m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold",children:I.total}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Total"})]}),m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold text-green-600",children:I.present}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Present"})]}),m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold text-yellow-600",children:I.late}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Late"})]}),m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold text-red-600",children:I.absent}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Absent"})]}),m.jsxs("div",{className:"stat-box border rounded-lg p-2 sm:p-4 text-center col-span-3 sm:col-span-1",children:[m.jsx("p",{className:"stat-value text-lg sm:text-2xl font-bold text-blue-600",children:I.excused}),m.jsx("p",{className:"stat-label text-[10px] sm:text-sm text-muted-foreground",children:"Excused"})]})]}),m.jsx("div",{className:"mt-3 sm:mt-4 p-3 sm:p-4 bg-primary/5 rounded-lg",children:m.jsxs("p",{className:"text-center",children:[m.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-primary",children:[I.attendanceRate,"%"]}),m.jsx("span",{className:"text-muted-foreground ml-2 text-xs sm:text-base",children:"Attendance Rate"})]})})]}),(n==="subject-monthly"||n==="subject-semester")&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Student-wise Breakdown"}),m.jsx("div",{className:"rounded-md border overflow-x-auto",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(ln,{children:[m.jsx(Ht,{className:"text-xs sm:text-sm whitespace-nowrap",children:"Student Name"}),m.jsx(Ht,{className:"text-center text-xs sm:text-sm px-1 sm:px-4",children:"Present"}),m.jsx(Ht,{className:"text-center text-xs sm:text-sm px-1 sm:px-4",children:"Late"}),m.jsx(Ht,{className:"text-center text-xs sm:text-sm px-1 sm:px-4",children:"Absent"}),m.jsx(Ht,{className:"text-center text-xs sm:text-sm px-1 sm:px-4 hidden sm:table-cell",children:"Excused"}),m.jsx(Ht,{className:"text-center text-xs sm:text-sm px-1 sm:px-4",children:"Rate"})]})}),m.jsxs(uo,{children:[Object.entries(D).map(([K,W])=>{const Z=W.stats.total>0?((W.stats.present+W.stats.late)/W.stats.total*100).toFixed(0):"0";return m.jsxs(ln,{children:[m.jsx(Dt,{className:"font-medium text-xs sm:text-sm whitespace-nowrap",children:W.name}),m.jsx(Dt,{className:"text-center text-green-600 text-xs sm:text-sm",children:W.stats.present}),m.jsx(Dt,{className:"text-center text-yellow-600 text-xs sm:text-sm",children:W.stats.late}),m.jsx(Dt,{className:"text-center text-red-600 text-xs sm:text-sm",children:W.stats.absent}),m.jsx(Dt,{className:"text-center text-blue-600 text-xs sm:text-sm hidden sm:table-cell",children:W.stats.excused}),m.jsxs(Dt,{className:"text-center font-medium text-xs sm:text-sm",children:[Z,"%"]})]},K)}),Object.keys(D).length===0&&m.jsx(ln,{children:m.jsx(Dt,{colSpan:6,className:"text-center py-6 sm:py-8 text-muted-foreground text-xs sm:text-sm",children:"No attendance records found for this period"})})]})]})})]}),n==="student-subject"&&m.jsxs("div",{children:[m.jsx("h2",{className:"text-base sm:text-lg font-semibold mb-2 sm:mb-3",children:"Detailed Attendance Records"}),m.jsx("div",{className:"rounded-md border overflow-x-auto",children:m.jsxs(lo,{children:[m.jsx(co,{children:m.jsxs(ln,{children:[m.jsx(Ht,{className:"text-xs sm:text-sm whitespace-nowrap",children:"Date"}),m.jsx(Ht,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Day"}),m.jsx(Ht,{className:"text-xs sm:text-sm whitespace-nowrap",children:"Time In"}),m.jsx(Ht,{className:"text-xs sm:text-sm",children:"Status"}),m.jsx(Ht,{className:"text-xs sm:text-sm hidden sm:table-cell",children:"Remarks"})]})}),m.jsxs(uo,{children:[R.map(K=>m.jsxs(ln,{children:[m.jsx(Dt,{className:"text-xs sm:text-sm whitespace-nowrap",children:vn(Ia(K.date),"MMM d, yyyy")}),m.jsx(Dt,{className:"text-xs sm:text-sm hidden sm:table-cell",children:vn(Ia(K.date),"EEEE")}),m.jsx(Dt,{className:"text-xs sm:text-sm whitespace-nowrap",children:K.timeIn?typeof K.timeIn=="string"?vn(new Date(K.timeIn.replace("Z","")),"h:mm a"):vn(K.timeIn,"h:mm a"):"-"}),m.jsx(Dt,{className:"text-xs sm:text-sm",children:H(K.status)}),m.jsx(Dt,{className:"text-muted-foreground text-xs sm:text-sm hidden sm:table-cell",children:K.remarks||"-"})]},K.id)),R.length===0&&m.jsx(ln,{children:m.jsx(Dt,{colSpan:5,className:"text-center py-6 sm:py-8 text-muted-foreground text-xs sm:text-sm",children:"No attendance records found for this student"})})]})]})})]})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 sm:py-16 text-muted-foreground",children:[m.jsx(U0,{className:"w-12 h-12 sm:w-16 sm:h-16 mb-4 opacity-50"}),m.jsx("p",{className:"text-center text-sm sm:text-base",children:'Configure your report and click "Generate Report" to preview'})]})})]})]})]})}function P_e(){const{user:t,refreshUser:e}=Ui(),{toast:r}=hi(),n=Ji(),i=j.useRef(null),[s,o]=j.useState(!1),{mutate:u,isPending:d}=Bs({mutationFn:async N=>{const E={};N.profilePicture!==void 0&&(E.profile_picture=N.profilePicture);const{error:A}=await Et.from("users").update(E).eq("id",t?.id);if(A)throw new Error(A.message||"Failed to update profile");return{success:!0}},onSuccess:()=>{n.invalidateQueries({queryKey:["auth-user"]}),e?.(),r({title:"Profile Updated",description:"Your profile picture has been updated successfully."})},onError:N=>{r({title:"Error",description:N.message,variant:"destructive"})}}),f=async N=>{const E=N.target.files?.[0];if(!E)return;if(!E.type.startsWith("image/")){r({title:"Invalid File",description:"Please select an image file.",variant:"destructive"});return}if(E.size>2*1024*1024){r({title:"File Too Large",description:"Please select an image smaller than 2MB.",variant:"destructive"});return}o(!0);const A=new FileReader;A.onloadend=()=>{const M=A.result;u({profilePicture:M}),o(!1)},A.onerror=()=>{r({title:"Error",description:"Failed to read the file.",variant:"destructive"}),o(!1)},A.readAsDataURL(E)},g=()=>{u({profilePicture:""})};if(!t)return null;const x=N=>{switch(N){case"superadmin":return"bg-red-100 text-red-700 border-red-200";case"teacher":return"bg-blue-100 text-blue-700 border-blue-200";case"student":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},_=N=>{switch(N){case"superadmin":return"System Administrator";case"teacher":return"Teacher";case"student":return"Student";default:return N}},T=N=>N.split(" ").map(E=>E[0]).join("").toUpperCase().slice(0,2);return m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold font-display text-gray-900",children:"My Profile"}),m.jsx("p",{className:"text-muted-foreground mt-1",children:"View and manage your account information."})]}),m.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[m.jsxs($t,{className:"md:col-span-1",children:[m.jsxs(Rr,{className:"text-center",children:[m.jsx(kr,{children:"Profile Picture"}),m.jsx(on,{children:"Click to change your photo"})]}),m.jsxs(Wt,{className:"flex flex-col items-center gap-4",children:[m.jsxs("div",{className:"relative group",children:[m.jsxs(zv,{className:"h-32 w-32 border-4 border-primary/10 shadow-lg",children:[m.jsx(jV,{src:t.profilePicture||void 0,alt:t.fullName,className:"object-cover"}),m.jsx(Wv,{className:"bg-primary text-primary-foreground text-3xl font-bold",children:T(t.fullName)})]}),m.jsx("button",{onClick:()=>i.current?.click(),disabled:d||s,className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-200 cursor-pointer",children:d||s?m.jsx(Zi,{className:"h-8 w-8 text-white animate-spin"}):m.jsx(lP,{className:"h-8 w-8 text-white"})})]}),m.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:f,className:"hidden"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs(yt,{variant:"outline",size:"sm",onClick:()=>i.current?.click(),disabled:d||s,children:[m.jsx(lP,{className:"h-4 w-4 mr-2"}),"Change Photo"]}),t.profilePicture&&m.jsx(yt,{variant:"ghost",size:"sm",onClick:g,disabled:d||s,className:"text-destructive hover:text-destructive",children:"Remove"})]}),m.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["Supported formats: JPG, PNG, GIF",m.jsx("br",{}),"Maximum size: 2MB"]})]})]}),m.jsxs($t,{className:"md:col-span-2",children:[m.jsxs(Rr,{children:[m.jsx(kr,{children:"Account Information"}),m.jsx(on,{children:"Your personal details and role"})]}),m.jsxs(Wt,{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:m.jsx(Q6,{className:"h-5 w-5 text-primary"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Full Name"}),m.jsx("p",{className:"text-lg font-semibold",children:t.fullName})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:m.jsx(vH,{className:"h-5 w-5 text-secondary-foreground"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"ID Number"}),m.jsx("p",{className:"text-lg font-semibold",children:t.idNumber})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:m.jsx(jH,{className:"h-5 w-5 text-secondary-foreground"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Role"}),m.jsx("div",{className:"flex items-center gap-2 mt-1",children:m.jsx(Fn,{variant:"outline",className:`${x(t.role)} font-medium`,children:_(t.role)})})]})]}),t.createdAt&&m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:m.jsx(Hd,{className:"h-5 w-5 text-secondary-foreground"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Account Created"}),m.jsx("p",{className:"text-lg font-semibold",children:new Date(t.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsx("div",{className:"w-10 h-10 rounded-lg bg-secondary flex items-center justify-center flex-shrink-0",children:m.jsx(OC,{className:"h-5 w-5 text-secondary-foreground"})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Password"}),m.jsx(Pa,{href:"/forgot-password?from=profile",className:"text-primary hover:underline font-medium",children:"Reset Password"})]})]})]})]})]})]})}function j_e(){return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:m.jsx($t,{className:"w-full max-w-md mx-4",children:m.jsxs(Wt,{className:"pt-6",children:[m.jsxs("div",{className:"flex mb-4 gap-2",children:[m.jsx(no,{className:"h-8 w-8 text-red-500"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function R_e({children:t}){const{user:e,logout:r}=Ui(),{settings:n}=qf(),[i,s]=xu(),[o,u]=j.useState(!1),[d,f]=j.useState([]);j.useEffect(()=>{i.startsWith("/attendance")&&f(E=>E.includes("attendance")?E:[...E,"attendance"])},[i]);const g=E=>{f(A=>A.includes(E)?A.filter(M=>M!==E):[...A,E])};if(!e)return null;const x=({href:E,icon:A,label:M})=>{const R=i===E;return m.jsx(Pa,{href:E,children:m.jsxs("div",{className:Ze("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer",R?"bg-primary text-primary-foreground shadow-lg shadow-primary/20":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[m.jsx(A,{className:"w-5 h-5"}),m.jsx("span",{children:M})]})})},_=({menuId:E,icon:A,label:M,defaultHref:R,subItems:I})=>{const D=d.includes(E),L=I.some(z=>i===z.href),$=()=>{d.includes(E)||f(z=>[...z,E]),s(R)},B=z=>{z.stopPropagation(),g(E)};return m.jsxs("div",{children:[m.jsxs("div",{className:Ze("flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer",L?"bg-primary/10 text-primary":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),onClick:$,children:[m.jsx(A,{className:"w-5 h-5"}),m.jsx("span",{className:"flex-1",children:M}),m.jsx(NC,{className:Ze("w-4 h-4 transition-transform duration-200 hover:scale-110",D&&"rotate-180"),onClick:B})]}),m.jsx("div",{className:Ze("overflow-hidden transition-all duration-200",D?"max-h-40 opacity-100":"max-h-0 opacity-0"),children:m.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-border pl-4",children:I.map(z=>{const H=i===z.href;return m.jsx(Pa,{href:z.href,children:m.jsxs("div",{className:Ze("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 cursor-pointer",H?"bg-primary text-primary-foreground shadow-md shadow-primary/20":"text-muted-foreground hover:bg-secondary hover:text-secondary-foreground"),children:[m.jsx(z.icon,{className:"w-4 h-4"}),m.jsx("span",{children:z.label})]})},z.href)})})})]})},N={student:[{href:"/dashboard",icon:Sw,label:"Dashboard"},{href:"/subjects",icon:Ra,label:"My Subjects"},{href:"/attendance",icon:Fo,label:"Attendance"}],teacher:[{href:"/dashboard",icon:Sw,label:"Dashboard"},{href:"/subjects",icon:Ra,label:"My Classes"},{type:"expandable",menuId:"attendance",icon:Fo,label:"Attendance",defaultHref:"/attendance",subItems:[{href:"/attendance",icon:Fo,label:"Take Attendance"},{href:"/attendance/history",icon:yH,label:"Attendance History"}]},{href:"/reports",icon:U0,label:"Reports"}],superadmin:[{href:"/dashboard",icon:Sw,label:"Dashboard"},{href:"/users",icon:Qo,label:"User Management"},{href:"/enrollments",icon:Q0,label:"Enrollments"},{href:"/settings",icon:Y6,label:"System Settings"}]}[e.role]||[];return m.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[o&&m.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>u(!1)}),m.jsxs("aside",{className:Ze("fixed md:sticky top-0 left-0 z-50 h-screen w-72 bg-white border-r border-border flex flex-col transition-transform duration-300 ease-out",o?"translate-x-0":"-translate-x-full md:translate-x-0"),children:[m.jsx("div",{className:"p-6 border-b border-border/50",children:m.jsxs("div",{className:"flex items-center justify-between gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary flex items-center justify-center text-white shadow-lg shadow-primary/20",children:n.logoUrl?m.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-6 h-6 object-contain"}):m.jsx(Gd,{className:"w-6 h-6"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"font-display font-bold text-xl text-primary leading-none",children:n.systemTitle}),m.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:n.schoolName})]})]}),m.jsx(yt,{variant:"ghost",size:"icon",className:"md:hidden -mr-2",onClick:()=>u(!1),children:m.jsx(Ip,{className:"w-5 h-5"})})]})}),m.jsx("div",{className:"flex-1 px-4 py-6 space-y-1",children:N.map(E=>E.type==="expandable"?m.jsx(_,{menuId:E.menuId,icon:E.icon,label:E.label,defaultHref:E.defaultHref,subItems:E.subItems},E.menuId):m.jsx(x,{...E},E.href))}),m.jsxs("div",{className:"p-4 border-t border-border/50",children:[m.jsx(Pa,{href:"/profile",children:m.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 mb-2 rounded-lg cursor-pointer hover:bg-secondary transition-colors duration-200",children:[m.jsx("div",{className:"w-10 h-10 rounded-full bg-secondary flex items-center justify-center text-secondary-foreground font-bold overflow-hidden",children:e.profilePicture?m.jsx("img",{src:e.profilePicture,alt:e.fullName,className:"w-full h-full object-cover"}):e.fullName.charAt(0)}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-semibold truncate",children:e.fullName}),m.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:e.role})]})]})}),m.jsxs(yt,{variant:"outline",className:"w-full justify-start gap-2 text-muted-foreground hover:text-destructive hover:bg-destructive/10 hover:border-destructive/20",onClick:()=>r(),children:[m.jsx(wH,{className:"w-4 h-4"}),"Sign Out"]})]})]}),m.jsxs("main",{className:"flex-1 min-w-0 flex flex-col",children:[m.jsxs("div",{className:"md:hidden bg-white border-b border-border p-4 flex items-center gap-3 sticky top-0 z-30",children:[m.jsx(yt,{variant:"ghost",size:"icon",onClick:()=>u(!o),children:o?m.jsx(Ip,{className:"w-6 h-6"}):m.jsx(_H,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex items-center gap-2",children:[n.logoUrl?m.jsx("img",{src:n.logoUrl,alt:"Logo",className:"w-6 h-6 object-contain"}):m.jsx(Gd,{className:"w-6 h-6 text-primary"}),m.jsx("span",{className:"font-bold text-primary",children:n.systemTitle})]})]}),m.jsx("div",{className:"flex-1 p-4 md:p-8 overflow-y-auto",children:m.jsx("div",{className:"max-w-7xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:t})})]})]})}function Po({component:t,allowedRoles:e}){const{user:r,isLoading:n}=Ui();return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:m.jsx(Zi,{className:"w-8 h-8 animate-spin text-primary"})}):r?e&&!e.includes(r.role)?m.jsx(K0,{to:"/dashboard"}):m.jsx(R_e,{children:m.jsx(t,{})}):m.jsx(K0,{to:"/login"})}function k_e(){const{user:t,isLoading:e}=Ui();return e?null:t?m.jsx(K0,{to:"/dashboard"}):m.jsx(K0,{to:"/login"})}function M_e(){const{user:t}=Ui();return t?.role==="student"?m.jsx(O_e,{}):m.jsx(J2e,{})}function D_e(){return m.jsxs(Mz,{children:[m.jsx(ds,{path:"/login",component:AJ}),m.jsx(ds,{path:"/forgot-password",component:TJ}),m.jsx(ds,{path:"/reset-password",component:LJ}),m.jsx(ds,{path:"/dashboard",children:m.jsx(Po,{component:vye})}),m.jsx(ds,{path:"/subjects",children:m.jsx(Po,{component:c2e})}),m.jsx(ds,{path:"/attendance",children:m.jsx(Po,{component:M_e})}),m.jsx(ds,{path:"/attendance/history",children:m.jsx(Po,{component:e_e,allowedRoles:["teacher","superadmin"]})}),m.jsx(ds,{path:"/reports",children:m.jsx(Po,{component:I_e,allowedRoles:["teacher","superadmin"]})}),m.jsx(ds,{path:"/users",children:m.jsx(Po,{component:v2e,allowedRoles:["superadmin"]})}),m.jsx(ds,{path:"/enrollments",children:m.jsx(Po,{component:_2e,allowedRoles:["superadmin"]})}),m.jsx(ds,{path:"/settings",children:m.jsx(Po,{component:L2e,allowedRoles:["superadmin"]})}),m.jsx(ds,{path:"/profile",children:m.jsx(Po,{component:P_e})}),m.jsx(ds,{path:"/",component:k_e}),m.jsx(ds,{component:j_e})]})}function L_e(){return m.jsx(tW,{client:mW,children:m.jsx(NZ,{children:m.jsxs(VK,{children:[m.jsx(yG,{}),m.jsx(D_e,{})]})})})}uz.createRoot(document.getElementById("root")).render(m.jsx(L_e,{}));
